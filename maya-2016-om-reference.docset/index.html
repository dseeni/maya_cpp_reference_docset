<!-- saved from url=(0024)http://docs.autodesk.com -->
<html>
   <head><script src="../scripts/yepnope.1.5.4-min.js" type="text/javascript"></script><script src="../scripts/lib/jquery-1.11.1.min.js" type="text/javascript"></script><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="product" content="MAYAUL"><meta name="release" content="2016"><meta name="book" content="Developer"><meta name="created" content="2015-10-14"><meta name="topicid" content="GUID-02DEF634-1E7B-48C6-8ACD-2C934CA97887"><meta name="topic-type" content="concept">
      <title>Maya Python API 2.0 Reference</title>
   

<meta name="topic-subtype" content="Python"></head>
   <body height="100%"><div class="body_content" id="body-content"><link rel="stylesheet" type="text/css" href="py_ref/navtree.css"><link rel="stylesheet" type="text/css" href="py_ref/doxygen.css"><link rel="stylesheet" type="text/css" href="py_ref/tabs.css"><link rel="stylesheet" type="text/css" href="style/adsk.cpm.css"><script language="javascript">var index = 'index.html';</script><script>$(document).ready(function() { yepnope.injectJs("./scripts/ac_common.js"); });</script><script type="text/javascript">
var tocSystemNeedsToBeLoaded = typeof(py_ref_adsk_ref_toc) == 'undefined';
var weAreIn21 = $('div#main.view-active').length;
var tocPrefix = '';
if (weAreIn21)
{ tocPrefix = 'py_ref/'; }
function py_ref_initializeToc(forceTrigger) {
    py_ref_adsk_ref_toc.initResizable();
    py_ref_adsk_ref_toc.initNavTree('index.html', tocPrefix);
    dQuery(document).trigger('toc_initialized');
}
if (tocSystemNeedsToBeLoaded)
{
	yepnope([{
	load:[tocPrefix + 'json3.min.js', tocPrefix + 'jquery.js', tocPrefix + 'ref-toc-controller.js', tocPrefix + 'dynsections.js'],
	complete: function() {
	  if (typeof(dQuery) == 'undefined')
	  {
	    dQuery = jQuery.noConflict(true);
	  }
	  else { jQuery.noConflict(true); }
	  $(document).ready(py_ref_initializeToc);
	}
 	}])
}
if (!weAreIn21) { // if in AKN...
$(window).load( function() {
    setTimeout( function() {
        var content = $('body > div').not('#body-content');     // take any divs under body that are not id=body-content
        content.each( function() { 
            $(this).css( { 'padding-left': $(this).css('margin-left') } );       // and if they have any padding-left already, move it to margin-left.
        } );
        var width = py_ref_adsk_ref_toc.readFromStorage('width');
        content.css({marginLeft:parseInt(width)+6+"px"});
    }, 100);
} ); 
}
</script><script>$("div#WidgetFloaterPanels,link[href*='microsofttranslator.com'],script[src*='microsofttranslator.com'],script[src*='bing.com']").remove();</script><script type='text/javascript'>$("div#navigation,div#breadcrumbs,div#banner").attr("translate","no"); var mtLocation = ((location && location.href && location.href.indexOf('https') == 0)?'https://ssl.microsofttranslator.com':'http://www.microsofttranslator.com')+'/ajax/v3/WidgetV3.ashx?siteData=y5CYlxTRD0znCzRLDwX0Wy7-g1EdC1XA4dSC-Y1LtaeScyli8_Ps5jPKqTr4xKxMI0OOUfkDplvX3uxN0JnPclebSYW8_J1HBzf4VLQEzQ8M4PsYXF_cMyp1Oumaetky&category=5297189e-446b-459e-ae1d-9d0360400781_tech&ctf=True&ui=true&settings=Manual&from=en&hidelanguages='; yepnope.injectJs(mtLocation, function() {}, { charset:'utf-8', type:'text/javascript' } );</script><script>
 if (!tocSystemNeedsToBeLoaded) { py_ref_initializeToc(); }
 </script><!-- begin MT -->
            
            <div id='MicrosoftTranslatorWidget' class='Dark' style='position:absolute;right:20px;top:5px;z-index:100;color:white;background-color:#555555;height:58px;overflow:hidden'></div>
      <div>
         <div class="head">
            <h1>Maya Python API 2.0 Reference</h1>
         </div>

    <div id="top"><!-- Generated by Doxygen 1.8.10 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li class="current"><a href="#!/url=./py_ref/index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="#!/url=./py_ref/pages.html"><span>Topics</span></a></li>
      <li><a href="#!/url=./py_ref/namespaces.html"><span>Modules</span></a></li>
      <li><a href="#!/url=./py_ref/annotated.html"><span>Classes</span></a></li>
      <li><a href="#!/url=./py_ref/examples.html"><span>Examples</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" class="ui-resizable-handle">
  </div>
</div>

<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">Maya Python API 2.0 Reference </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h2>Overview </h2>
<p>The Maya Python API 2.0 is a new version of the Maya Python API which provides a more Pythonic workflow and improved performance. Both the new and old APIs can co-exist in the same script but objects from the two different APIs cannot be used interchangeably.</p>
<p>The Python API 2.0 has a number of advantages over the original API:</p>
<ul>
<li>Array types are full Python sequences, including slice support.</li>
<li>Methods which take Maya array parameters will usually also take native Python sequences, such as arrays and tuples. Exceptions are made in some case for performance reasons. The outputs of methods are usually returned in their return values, not through their parameter lists. Exceptions are made in some cases for performance reasons.</li>
<li>Methods which return multiple values (e.g. MFnFluid.getResolution) return them as a tuple or list, eliminating the need for MScriptUtil.</li>
<li>Object attributes are preferred over rather than set/get methods. For example you can now write <code>array.sizeIncrement=64</code>.</li>
<li>There are more types of exceptions used when methods fail. Not everything is a RuntimeError, as was the case in the old API.</li>
<li>The new API is generally faster than the old. Up to three times faster in some cases.</li>
</ul>
<h2>Using the Python API 2.0 </h2>
<p>The new Python API modules are found in <em>maya.api</em>.</p>
<p>For example:</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="keyword">import</span> maya.api.OpenMaya <span class="keyword">as</span> om</div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="keyword">import</span> maya.api.OpenMayaAnim <span class="keyword">as</span> omanim</div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="keyword">import</span> maya.api.OpenMayaRender <span class="keyword">as</span> omrender</div>
</div><!-- fragment --><p>Module names are the same as in the old API with the exception that the proxy classes (i.e. those beginning with <em>MPx</em>) no longer have their own module but reside in the same modules as other related classes. This more closely resembles the C++ API.</p>
<p>Class names are the same as in the old Python API and the C++ API. Method names are mostly the same with some differences where it affects the workflow. Some methods which simply get or set values on an object have been replaced with Python object attributes.</p>
<p>New and old API classes can be used within the same script, but their objects are not interchangeable. Thus, you can do this:</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="keyword">import</span> maya.api.OpenMaya <span class="keyword">as</span> newOM</div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="keyword">import</span> maya.OpenMaya <span class="keyword">as</span> oldOM</div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;</div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;newAttrObj = newOM.MObject()</div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;oldNodeObj = oldOM.MObject()</div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;...</div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;newAttrFn = newOM.MFnAttribute(newAttrObj)</div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;oldNodeFn = oldOM.MFnDependencyNode(oldNodeObj)</div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;</div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment"># OKAY: Print names from old and new function sets.</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;print(<span class="stringliteral">&quot;Attribute name is %s.%s&quot;</span> % (oldNodeFn.name(), newAttrFn.name))</div>
</div><!-- fragment --><p>but not this:</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="keyword">import</span> maya.api.OpenMaya <span class="keyword">as</span> newOM</div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="keyword">import</span> maya.OpenMaya <span class="keyword">as</span> oldOM</div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;</div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;newAttrObj = newOM.MObject()</div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;oldNodeObj = oldOM.MObject()</div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;...</div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"># BAD: Passing an old API MObject to a new API method.</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;newPlug = newOM.MPlug(oldNodeObj, newAttrObj)</div>
</div><!-- fragment --><p>Given that the class and method names are mostly identical between the two APIs there is a lot of potential for confusion so it's best not to mix them if you can avoid it.</p>
<p>When writing a plugin that uses the new API, the plugin must define a variable called <code>maya_useNewAPI</code> so that Maya will know to pass it objects from the new API rather than the old one. For example,</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;maya_useNewAPI = <span class="keyword">True</span> </div>
</div><!-- fragment --><p>We encourage users to provide feedback on this new Python API through the online Suggestion site available from the Maya Help Menu and through the Autodesk Developer Network. </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
          <div class="footer-block"><a href="../html/ac.cmtdialog.htm" class="comments-anchor" target="_blank"><span class="comments-link">Please send us your comment about this page</span></a></div><br></div>
   </div></body>
</html>
