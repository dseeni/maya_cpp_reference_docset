<!-- saved from url=(0024)http://docs.autodesk.com -->
<html>
   <head>
<link href="../../style/prettify.css" type="text/css" rel="stylesheet">
<script type="text/javascript" src="../../scripts/prettify.js"></script><script src="../../scripts/lib/jquery-1.11.1.min.js" type="text/javascript"></script><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta http-equiv="Content-Style-Type" content="text/css"><meta name="generator" content="pandoc"><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><script type="text/javascript" src="../../scripts/utils/adsk.redirect.js"></script>
      <title>Intel Threading Building Blocks</title>
   <meta name="topic-subtype" content="C++"></head>
   <body height="100%"><div class="body_content" id="body-content"><style type="text/css">code{white-space: pre;}</style><script>$(document).ready(function() { yepnope.injectJs("./scripts/multireflink.js"); });</script><script>$(document).ready(function () { prettyPrint(); } );</script><script>$("div#WidgetFloaterPanels,link[href*='microsofttranslator.com'],script[src*='microsofttranslator.com'],script[src*='bing.com']").remove();</script><script type='text/javascript'>$("div#navigation,div#breadcrumbs,div#banner").attr("translate","no"); var mtLocation = ((location && location.href && location.href.indexOf('https') == 0)?'https://ssl.microsofttranslator.com':'http://www.microsofttranslator.com')+'/ajax/v3/WidgetV3.ashx?ctf=True&ui=true&settings=Manual&from=en&hidelanguages='; yepnope.injectJs(mtLocation, function() {}, { charset:'utf-8', type:'text/javascript' } );</script><script></script><script></script><!-- begin MT -->
            
            <div id='MicrosoftTranslatorWidget' class='Dark' style='float:right;z-index:100;color:white;background-color:#bbbbbb;height:58px;overflow:hidden'></div><div id="reflinkdiv"></div>
      <div>
         <div class="head">
            <h1>Intel Threading Building Blocks</h1>
         </div>

<div class='section'><a id="intel-threading-building-blocks"></a></div>
<div class='section'><a id="overview"></a><h2 id="overview">Overview</h2></div>
<p>IntelÂ® Threading Building Blocks (TBB) is a relatively new higher level API for threading. It replaces the concept of threads with the concept of tasks, which are defined by the user and queued up. TBB then maps those tasks to threads efficiently.</p>
<p>TBB is available on all platforms that Maya supports. It provides wrappers for common functionality such as for, while, reduce and sort operations. It also provides atomic primitives a scalable memory allocator (allocators such as malloc access the global heap and so are locking operations, leading to contention when many threads are working with memory.) Finally, there are threadsafe containers based on STL such as lists, queues, and hash maps. These threadsafe containers have poor single threaded performance than regular containers because they usually require internal locking, and they must be used only when required for threadsafety.</p>
<p>The task-based approach avoids the problem of <strong>oversubscription</strong> encountered with OpenMP. In particular, oversubscription can create issues when using the Maya Evaluation Manager.</p>
<div class='section'><a id="pros-and-cons-of-tbb"></a><h2 id="pros-and-cons-of-tbb">Pros and cons of TBB</h2></div>
<p>TBB is a higher level library than OpenMP and provides increased flexibility at the cost of greater complexity. Parallel code must be extracted into separate classes, which is more invasive than OpenMP.</p>
<p>The task-based approach avoids the problem of <strong>oversubscription</strong> encountered with OpenMP. In particular, oversubscription can create issues when using the Maya Evaluation Manager. Maya makes use of TBB in several places, partly to avoid the oversubscription issues of OpenMP, and partly to make use of the higher level algorithms and containers. Writing threadsafe cross-platform primitives and containers is remarkably difficult, and using a third party library designed for the purpose allows developers to focus on optimizing their specific application rather than building the required threading infrastructure.</p>
<p>Although TBB is used by Maya, it is not exposed in a way that plug-in writers can access directly. You must acquire a license to use TBB in your plug-ins. There is no requirement to use TBB when threading Maya plug-ins, however the Maya API does provide an indirect way for plug-ins to use TBB without needing their own license. See <a href='#!/url=./developer/Multithreading-plug-ins/Threading-and-Maya.html' title=''>Threading and Maya</a> for more information.</p>
<p>The version compatibility is important for TBB. In Maya 2018, it is necessary to use TBB version 4.4 Update 6. The compatible TBB re-distributable files that are shipped with Maya should be sufficient to use TBB.</p>
<p>You can also download the corresponding commercial aligned releases from the TBB web site (<a href='http://threadingbuildingblocks.org/download#stable-releases' title='' target='_blank'>http://threadingbuildingblocks.org/download#stable-releases</a>).</p>
      <div class="footer-block"><a href="../html/ac.cmtdialog.htm" class="comments-anchor" target="_blank"><span class="comments-link">Please send us your comment about this page</span></a></div></div>
   </div></body>
</html>
