<!-- saved from url=(0024)http://docs.autodesk.com -->
<html>
<head><script src="../scripts/yepnope.1.5.4-min.js" type="text/javascript"></script><script src="../scripts/lib/jquery-1.11.1.min.js" type="text/javascript"></script><meta content="text/html; charset=utf-8" http-equiv="Content-Type"><meta content="MAYAUL" name="product"><meta content="2018" name="release"><meta content="Developer" name="book"><meta content="2017-06-22" name="created"><meta content="GUID-02DEF634-1E7B-48C6-8ACD-2C934CA97887" name="topicid"><meta content="concept" name="topic-type">
<title>cgFx/cgfxPassStateSetter.cpp</title>
<meta content="C++" name="topic-subtype"/></meta></meta></meta></meta></meta></meta></meta></head>
<body height="100%"><div class="body_content" id="body-content"><link href="cpp_ref/navtree.css" rel="stylesheet" type="text/css"><link href="cpp_ref/doxygen.css" rel="stylesheet" type="text/css"><link href="cpp_ref/tabs.css" rel="stylesheet" type="text/css"><link href="style/adsk.cpm.css" rel="stylesheet" type="text/css"><script language="javascript">var index = 'index.html';</script><script>$(document).ready(function() { yepnope.injectJs("./scripts/ac_common.js"); });</script><script type="text/javascript">
var tocSystemNeedsToBeLoaded = typeof(cpp_ref_adsk_ref_toc) == 'undefined';
var weAreIn21 = $('div#main.view-active').length;
var tocPrefix = '';
if (weAreIn21)
{ tocPrefix = 'cpp_ref/'; }
function cpp_ref_initializeToc(forceTrigger) {
    cpp_ref_adsk_ref_toc.initResizable();
    cpp_ref_adsk_ref_toc.initNavTree('cg_fx_2cgfx_pass_state_setter_8cpp-example.html', tocPrefix);
    dQuery(document).trigger('toc_initialized');
}
if (tocSystemNeedsToBeLoaded)
{
	yepnope([{
	load:[tocPrefix + 'json3.min.js', tocPrefix + 'jquery.js', tocPrefix + 'ref-toc-controller.js', tocPrefix + 'dynsections.js'],
	complete: function() {
	  if (typeof(dQuery) == 'undefined')
	  {
	    dQuery = jQuery.noConflict(true);
	  }
	  else { jQuery.noConflict(true); }
	  $(document).ready(cpp_ref_initializeToc);
	}
 	}])
}
if (!weAreIn21) { // if in AKN...
$(window).load( function() {
    setTimeout( function() {
        var content = $('body > div').not('#body-content');     // take any divs under body that are not id=body-content
        content.each( function() { 
            $(this).css( { 'padding-left': $(this).css('margin-left') } );       // and if they have any padding-left already, move it to margin-left.
        } );
        var width = cpp_ref_adsk_ref_toc.readFromStorage('width');
        content.css({marginLeft:parseInt(width)+6+"px"});
    }, 100);
} ); 
}
</script><script>$("div#WidgetFloaterPanels,link[href*='microsofttranslator.com'],script[src*='microsofttranslator.com'],script[src*='bing.com']").remove();</script><script type="text/javascript">$("div#navigation,div#breadcrumbs,div#banner").attr("translate","no"); var mtLocation = ((location && location.href && location.href.indexOf('https') == 0)?'https://ssl.microsofttranslator.com':'http://www.microsofttranslator.com')+'/ajax/v3/WidgetV3.ashx?ctf=True&ui=true&settings=Manual&from=en&hidelanguages='; yepnope.injectJs(mtLocation, function() {}, { charset:'utf-8', type:'text/javascript' } );</script><script>
 if (!tocSystemNeedsToBeLoaded) { cpp_ref_initializeToc(); }
 </script><!-- begin MT -->
<div class="Dark" id="MicrosoftTranslatorWidget" style="float:right;z-index:100;color:white;background-color:#bbbbbb;height:58px;overflow:hidden"></div>
<div>
<div class="head">
<h1>cgFx/cgfxPassStateSetter.cpp</h1>
</div>
<div id="top"><!-- Generated by Doxygen 1.8.10 -->
<div class="tabs" id="navrow1">
<ul class="tablist">
<li><a href="./index.html"><span>MainÂ Page</span></a></li>
<li><a href="./pages.html"><span>Topics</span></a></li>
<li><a href="./modules.html"><span>Modules</span></a></li>
<li><a href="./namespaces.html"><span>Namespaces</span></a></li>
<li><a href="./annotated.html"><span>Classes</span></a></li>
<li><a href="./examples.html"><span>Examples</span></a></li>
</ul>
</div>
</div><!-- top -->
<div class="ui-resizable side-nav-resizable" id="side-nav">
<div id="nav-tree">
<div id="nav-tree-contents">
<div class="sync" id="nav-sync"></div>
</div>
</div>
<div class="ui-resizable-handle" id="splitbar" style="-moz-user-select:none;">
</div>
</div>
<div id="doc-content">
<div class="header">
<div class="headertitle">
<div class="title">cgFx/cgfxPassStateSetter.cpp</div> </div>
</div><!--header-->
<div class="contents">
<div class="fragment"><div class="line"><span class="comment">//-</span></div>
<div class="line"><span class="comment">// ==========================================================================</span></div>
<div class="line"><span class="comment">// Copyright 1995,2006,2008 Autodesk, Inc. All rights reserved.</span></div>
<div class="line"><span class="comment">//</span></div>
<div class="line"><span class="comment">// Use of this software is subject to the terms of the Autodesk</span></div>
<div class="line"><span class="comment">// license agreement provided at the time of installation or download,</span></div>
<div class="line"><span class="comment">// or which otherwise accompanies this software in either electronic</span></div>
<div class="line"><span class="comment">// or hard copy form.</span></div>
<div class="line"><span class="comment">// ==========================================================================</span></div>
<div class="line"><span class="comment">//+</span></div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#include &lt;maya/MDrawContext.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;maya/MGlobal.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include "cgfxPassStateSetter.h"</span></div>
<div class="line"><span class="preprocessor">#include "cgfxShaderNode.h"</span></div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#include &lt;string&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;map&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;set&gt;</span></div>
<div class="line"></div>
<div class="line"><span class="keyword">using namespace </span><a class="code" href="./namespace_m_h_w_render.html">MHWRender</a>;</div>
<div class="line"></div>
<div class="line"><span class="comment">// The GL enumerants for stencil wrap are not defined on every</span></div>
<div class="line"><span class="comment">// platforms.</span></div>
<div class="line"><span class="preprocessor">#ifndef GL_INCR_WRAP</span></div>
<div class="line"><span class="preprocessor">#define GL_INCR_WRAP                      0x8507</span></div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#ifndef GL_DECR_WRAP</span></div>
<div class="line"><span class="preprocessor">#define GL_DECR_WRAP                      0x8508</span></div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line"></div>
<div class="line"><span class="keyword">namespace</span></div>
<div class="line">{</div>
<div class="line"></div>
<div class="line">    std::string lowerCaseString(<span class="keyword">const</span> <span class="keywordtype">char</span>* str) {</div>
<div class="line">        std::string lower;</div>
<div class="line">        lower.reserve(strlen(str));</div>
<div class="line"> <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keywordtype">char</span>* p=str; *p != 0; ++p) {</div>
<div class="line">            lower += char(tolower(*p));</div>
<div class="line">        }</div>
<div class="line"> <span class="keywordflow">return</span> lower;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line"> <span class="comment">//==============================================================================</span></div>
<div class="line"> <span class="comment">// CLASS StateAssignment</span></div>
<div class="line"> <span class="comment">//==============================================================================</span></div>
<div class="line"></div>
<div class="line"> <span class="keyword">class </span>StateAssignment</div>
<div class="line">    {</div>
<div class="line"> <span class="keyword">public</span>:</div>
<div class="line"> <span class="keyword">typedef</span> void (*HandlerFn)(</div>
<div class="line"> <span class="keyword">const</span> CGstateassignment&amp;    sa,</div>
<div class="line"> <a name="_a0"></a><a class="code" href="./class_m_h_w_render_1_1_m_blend_state_desc.html">MBlendStateDesc</a>*            blendStateDesc,</div>
<div class="line"> <a name="_a1"></a><a class="code" href="./class_m_h_w_render_1_1_m_rasterizer_state_desc.html">MRasterizerStateDesc</a>*       rasterizerStateDesc,</div>
<div class="line"> <a name="_a2"></a><a class="code" href="./class_m_h_w_render_1_1_m_depth_stencil_state_desc.html">MDepthStencilStateDesc</a>*     depthStencilStateDesc);</div>
<div class="line"></div>
<div class="line"> <span class="comment">// Returns whether the state assignement is unsupported by the</span></div>
<div class="line"> <span class="comment">// VP2.0 viewport and therefore a glPushAttrib()/glPopAttrib()</span></div>
<div class="line"> <span class="comment">// pair is required to ensure correct rendering.</span></div>
<div class="line"> <span class="keyword">typedef</span> bool (*UnsupportedCheckFn)(<span class="keyword">const</span> CGstateassignment&amp; sa);</div>
<div class="line"></div>
<div class="line"> <span class="keyword">static</span> <span class="keywordtype">void</span> registerHandler(<span class="keyword">const</span> <span class="keywordtype">char</span>* stateName, HandlerFn handler) {</div>
<div class="line">            CGstate cgState = cgGetNamedState(cgfxShaderNode::sCgContext, stateName);</div>
<div class="line"> <span class="keywordflow">if</span> (cgState) {</div>
<div class="line">                std::string lstateName = lowerCaseString(stateName);</div>
<div class="line"> <span class="keyword">const</span> <span class="keywordtype">bool</span> inserted =</div>
<div class="line">                    map.insert(</div>
<div class="line">                        std::make_pair(lstateName,StateAssignment(cgState, handler))</div>
<div class="line">                    ).second;</div>
<div class="line"> <span class="keywordflow">if</span> (!inserted) {</div>
<div class="line"> <a name="_a3"></a><a class="code" href="./class_m_string.html">MString</a> s;</div>
<div class="line">                    s += <span class="stringliteral">"cgfxPassStateSetter is trying to register multiple "</span></div>
<div class="line"> <span class="stringliteral">"handlers for the same CgFX state \""</span>;</div>
<div class="line">                    s += stateName;</div>
<div class="line">                    s += <span class="stringliteral">"\"."</span>;</div>
<div class="line"> <a name="a4"></a><a class="code" href="./class_m_global.html#a4ddbe97e58a90e1ab05d45a62c006cf0">MGlobal::displayError</a>(s);</div>
<div class="line">                }</div>
<div class="line">            }</div>
<div class="line"> <span class="keywordflow">else</span> {</div>
<div class="line"> <a class="code" href="./class_m_string.html">MString</a> s;</div>
<div class="line">                s += <span class="stringliteral">"The CgFX state assignment \""</span>;</div>
<div class="line">                s += stateName;</div>
<div class="line">                s += <span class="stringliteral">"\" is unknown to the Cg library."</span>;</div>
<div class="line"> <a class="code" href="./class_m_global.html#a4ddbe97e58a90e1ab05d45a62c006cf0">MGlobal::displayError</a>(s);</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line"> <span class="keyword">static</span> <span class="keywordtype">void</span> registerUnsupportedCheck(<span class="keyword">const</span> <span class="keywordtype">char</span>* stateName, UnsupportedCheckFn check) {</div>
<div class="line">            CGstate cgState = cgGetNamedState(cgfxShaderNode::sCgContext, stateName);</div>
<div class="line"> <span class="keywordflow">if</span> (cgState) {</div>
<div class="line">                std::string lstateName = lowerCaseString(stateName);</div>
<div class="line"> <span class="keyword">const</span> <span class="keywordtype">bool</span> inserted =</div>
<div class="line">                    unsupportedChecks.insert(</div>
<div class="line">                        std::make_pair(lstateName,check)</div>
<div class="line">                    ).second;</div>
<div class="line"> <span class="keywordflow">if</span> (!inserted) {</div>
<div class="line"> <a class="code" href="./class_m_string.html">MString</a> s;</div>
<div class="line">                    s += <span class="stringliteral">"cgfxPassStateSetter is trying to register multiple "</span></div>
<div class="line"> <span class="stringliteral">"unsupported checks for the same CgFX state \""</span>;</div>
<div class="line">                    s += stateName;</div>
<div class="line">                    s += <span class="stringliteral">"\"."</span>;</div>
<div class="line"> <a class="code" href="./class_m_global.html#a4ddbe97e58a90e1ab05d45a62c006cf0">MGlobal::displayError</a>(s);</div>
<div class="line">                }</div>
<div class="line">            }</div>
<div class="line"> <span class="keywordflow">else</span> {</div>
<div class="line"> <a class="code" href="./class_m_string.html">MString</a> s;</div>
<div class="line">                s += <span class="stringliteral">"The CgFX state assignment \""</span>;</div>
<div class="line">                s += stateName;</div>
<div class="line">                s += <span class="stringliteral">"\" is unknown to the Cg library."</span>;</div>
<div class="line"> <a class="code" href="./class_m_global.html#a4ddbe97e58a90e1ab05d45a62c006cf0">MGlobal::displayError</a>(s);</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line"> <span class="keyword">static</span> <span class="keywordtype">void</span> registerIgnoredState(<span class="keyword">const</span> <span class="keywordtype">char</span>* stateName) {</div>
<div class="line">            CGstate cgState = cgGetNamedState(cgfxShaderNode::sCgContext, stateName);</div>
<div class="line"> <span class="keywordflow">if</span> (cgState) {</div>
<div class="line"> <span class="keyword">const</span> <span class="keywordtype">bool</span> inserted =</div>
<div class="line">                    ignoredSet.insert(lowerCaseString(stateName)).second;</div>
<div class="line"> <span class="keywordflow">if</span> (!inserted) {</div>
<div class="line"> <a class="code" href="./class_m_string.html">MString</a> s;</div>
<div class="line">                    s += <span class="stringliteral">"cgfxPassStateSetter is trying to register multiple "</span></div>
<div class="line"> <span class="stringliteral">"ignore handlers for the same CgFX state \""</span>;</div>
<div class="line">                    s += stateName;</div>
<div class="line">                    s += <span class="stringliteral">"\"."</span>;</div>
<div class="line"> <a class="code" href="./class_m_global.html#a4ddbe97e58a90e1ab05d45a62c006cf0">MGlobal::displayError</a>(s);</div>
<div class="line">                }</div>
<div class="line">            }</div>
<div class="line"> <span class="keywordflow">else</span> {</div>
<div class="line"> <a class="code" href="./class_m_string.html">MString</a> s;</div>
<div class="line">                s += <span class="stringliteral">"The CgFX state assignment \""</span>;</div>
<div class="line">                s += stateName;</div>
<div class="line">                s += <span class="stringliteral">"\" is unknown to the Cg library."</span>;</div>
<div class="line"> <a class="code" href="./class_m_global.html#a4ddbe97e58a90e1ab05d45a62c006cf0">MGlobal::displayError</a>(s);</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line"> <span class="keyword">static</span> <span class="keywordtype">void</span> registerDefaultCallBacks()</div>
<div class="line">        {</div>
<div class="line"> <span class="comment">// The default viewport uses immediate parameter setting.</span></div>
<div class="line">            cgSetParameterSettingMode(cgfxShaderNode::sCgContext,</div>
<div class="line">                                      CG_IMMEDIATE_PARAMETER_SETTING);</div>
<div class="line"></div>
<div class="line"> <span class="keyword">const</span> Map::const_iterator itEnd = map.end();</div>
<div class="line"> <span class="keywordflow">for</span> ( Map::const_iterator it    = map.begin();</div>
<div class="line">                  it != itEnd; ++it) {</div>
<div class="line">                it-&gt;second.setDefaultCallbacks();</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line"> <span class="keyword">static</span> <span class="keywordtype">void</span> registerVP20CallBacks()</div>
<div class="line">        {</div>
<div class="line"> <span class="comment">// The VP2.0 viewport uses deferred parameter setting.</span></div>
<div class="line">            cgSetParameterSettingMode(cgfxShaderNode::sCgContext,</div>
<div class="line">                                      CG_DEFERRED_PARAMETER_SETTING);</div>
<div class="line"></div>
<div class="line"> <span class="keyword">const</span> Map::const_iterator itEnd = map.end();</div>
<div class="line"> <span class="keywordflow">for</span> ( Map::const_iterator it    = map.begin();</div>
<div class="line">                  it != itEnd; ++it) {</div>
<div class="line">                it-&gt;second.setVP20Callbacks();</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line"> <span class="comment">// Invokes the proper handler for given state assignment. The</span></div>
<div class="line"> <span class="comment">// state objects will be modified accordingly if such a</span></div>
<div class="line"> <span class="comment">// handler exists.</span></div>
<div class="line"> <span class="comment">//</span></div>
<div class="line"> <span class="comment">// Returns whether a glPushAttib()/glPopAttrib() is required</span></div>
<div class="line"> <span class="comment">// due to an unsupported state assignement.</span></div>
<div class="line"> <span class="keyword">static</span> <span class="keywordtype">bool</span> callHandler(</div>
<div class="line"> <span class="keyword">const</span> CGstateassignment&amp;            sa,</div>
<div class="line"> <a class="code" href="./class_m_h_w_render_1_1_m_blend_state_desc.html">MBlendStateDesc</a>*         blendStateDesc,</div>
<div class="line"> <a class="code" href="./class_m_h_w_render_1_1_m_rasterizer_state_desc.html">MRasterizerStateDesc</a>*    rasterizerStateDesc,</div>
<div class="line"> <a class="code" href="./class_m_h_w_render_1_1_m_depth_stencil_state_desc.html">MDepthStencilStateDesc</a>*  depthStencilStateDesc)</div>
<div class="line">        {</div>
<div class="line"> <span class="comment">// We modify the state objects according to the sa</span></div>
<div class="line">            CGstate state = cgGetStateAssignmentState(sa);</div>
<div class="line"> <span class="keyword">const</span> <span class="keywordtype">char</span> *stateName = cgGetStateName(state);</div>
<div class="line">            std::string lstateName = lowerCaseString(stateName);</div>
<div class="line"></div>
<div class="line">            {</div>
<div class="line"> <span class="keyword">const</span> Map::const_iterator handler = map.find(lstateName);</div>
<div class="line"> <span class="keywordflow">if</span> (handler != map.end()) {</div>
<div class="line">                    handler-&gt;second.fHandler(sa,</div>
<div class="line">                                             blendStateDesc,</div>
<div class="line">                                             rasterizerStateDesc,</div>
<div class="line">                                             depthStencilStateDesc);</div>
<div class="line"> <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line">                }</div>
<div class="line">            }</div>
<div class="line"></div>
<div class="line">            {</div>
<div class="line"> <span class="keyword">const</span> UnsupportedChecks::const_iterator unsupportedCheck =</div>
<div class="line">                    unsupportedChecks.find(lstateName);</div>
<div class="line"> <span class="keywordflow">if</span> (unsupportedCheck != unsupportedChecks.end()) {</div>
<div class="line"> <span class="keywordflow">return</span> unsupportedCheck-&gt;second(sa);</div>
<div class="line">                }</div>
<div class="line">            }</div>
<div class="line"></div>
<div class="line"> <span class="keywordflow">if</span> (ignoredSet.find(lstateName) != ignoredSet.end()) {</div>
<div class="line"> <span class="comment">// This state assignement requires no specific</span></div>
<div class="line"> <span class="comment">// handling is therefore ignored by the</span></div>
<div class="line"> <span class="comment">// cgfxPassStateSetter. I.e. we let Cg perform its</span></div>
<div class="line"> <span class="comment">// default behavior in that case.</span></div>
<div class="line"> <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line">            }</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#ifdef DEBUG</span></div>
<div class="line"> <span class="comment">// Unsupported state. We must use a</span></div>
<div class="line"> <span class="comment">// glPushAttrib()/glPopAttrib() pair to guarantee correct</span></div>
<div class="line"> <span class="comment">// rendering.</span></div>
<div class="line"> <a class="code" href="./class_m_string.html">MString</a> s;</div>
<div class="line">            s += <span class="stringliteral">"cgfxShader: The CgFX state assignment \""</span>;</div>
<div class="line">            s += stateName;</div>
<div class="line">            s += <span class="stringliteral">"\" contained in the shader file is not accelarated by the "</span></div>
<div class="line"> <span class="stringliteral">"cgfxShader plugin in a VP2.0 viewport and will results in lower "</span></div>
<div class="line"> <span class="stringliteral">"performance."</span>;</div>
<div class="line"> <a name="a5"></a><a class="code" href="./class_m_global.html#acb043e7fc4eb7fc0f39833d31364b8a4">MGlobal::displayWarning</a>(s);</div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line"></div>
<div class="line"> <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line"> <span class="keyword">private</span>:</div>
<div class="line"></div>
<div class="line"> <span class="keyword">typedef</span> std::map&lt;std::string, StateAssignment&gt; Map;</div>
<div class="line"> <span class="keyword">typedef</span> std::map&lt;std::string, UnsupportedCheckFn&gt; UnsupportedChecks;</div>
<div class="line"> <span class="keyword">typedef</span> std::set&lt;std::string&gt; IgnoredSet;</div>
<div class="line"></div>
<div class="line"> <span class="keyword">friend</span> <span class="keyword">class </span>std::map&lt;std::string, StateAssignment&gt;;</div>
<div class="line"></div>
<div class="line">        static CGbool noopStateAssignment(CGstateassignment sa) {</div>
<div class="line"> <span class="keywordflow">return</span> CG_TRUE;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        StateAssignment(CGstate cgState, HandlerFn handler) {</div>
<div class="line">            fCgState           = cgState;</div>
<div class="line">            fDefaultSetCB      = cgGetStateSetCallback(cgState);</div>
<div class="line">            fDefaultResetCB    = cgGetStateResetCallback(cgState);</div>
<div class="line">            fDefaultValidateCB = cgGetStateValidateCallback(cgState);</div>
<div class="line">            fHandler           = handler;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line"> <span class="comment">// Need a default ctor to please std::map...</span></div>
<div class="line">        StateAssignment()</div>
<div class="line">            : fCgState(NULL),</div>
<div class="line">              fDefaultSetCB(NULL),</div>
<div class="line">              fDefaultResetCB(NULL),</div>
<div class="line">              fDefaultValidateCB(NULL),</div>
<div class="line">              fHandler(NULL)</div>
<div class="line">        {};</div>
<div class="line"></div>
<div class="line"> <span class="keywordtype">void</span> setDefaultCallbacks()<span class="keyword"> const</span></div>
<div class="line"><span class="keyword"> </span>{</div>
<div class="line">            cgSetStateCallbacks(fCgState,</div>
<div class="line">                                fDefaultSetCB,</div>
<div class="line">                                fDefaultResetCB,</div>
<div class="line">                                fDefaultValidateCB);</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line"> <span class="keywordtype">void</span> setVP20Callbacks()<span class="keyword"> const</span></div>
<div class="line"><span class="keyword"> </span>{</div>
<div class="line">            cgSetStateCallbacks(fCgState,</div>
<div class="line">                                noopStateAssignment,</div>
<div class="line">                                noopStateAssignment,</div>
<div class="line">                                NULL);</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line"> <span class="keyword">static</span> Map                  map;</div>
<div class="line"> <span class="keyword">static</span> UnsupportedChecks    unsupportedChecks;</div>
<div class="line"> <span class="keyword">static</span> IgnoredSet           ignoredSet;</div>
<div class="line"></div>
<div class="line">        CGstate         fCgState;</div>
<div class="line">        CGstatecallback fDefaultSetCB;</div>
<div class="line">        CGstatecallback fDefaultResetCB;</div>
<div class="line">        CGstatecallback fDefaultValidateCB;</div>
<div class="line">        HandlerFn       fHandler;</div>
<div class="line">    };</div>
<div class="line"></div>
<div class="line">    StateAssignment::Map                StateAssignment::map;</div>
<div class="line">    StateAssignment::UnsupportedChecks  StateAssignment::unsupportedChecks;</div>
<div class="line">    StateAssignment::IgnoredSet         StateAssignment::ignoredSet;</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"> <span class="comment">//==============================================================================</span></div>
<div class="line"> <span class="comment">//  OpenGL mappings</span></div>
<div class="line"> <span class="comment">//==============================================================================</span></div>
<div class="line"></div>
<div class="line"> <a class="code" href="./class_m_h_w_render_1_1_m_blend_state.html#acdb056fac09601eaa8b5f1b5df3ee4ea">MBlendState::BlendOption</a> mapBlendOption(<span class="keywordtype">int</span> blendOption)</div>
<div class="line">    {</div>
<div class="line"> <span class="keywordflow">switch</span>(blendOption) {</div>
<div class="line"> <span class="keywordflow">case</span> GL_ZERO:                     <span class="keywordflow">return</span> <a name="a6"></a><a class="code" href="./class_m_h_w_render_1_1_m_blend_state.html#acdb056fac09601eaa8b5f1b5df3ee4eaabdc6e852c17bbf4522c91b15eb87dc3b">MBlendState::kZero</a>;</div>
<div class="line"> <span class="keywordflow">case</span> GL_ONE:                      <span class="keywordflow">return</span> <a name="a7"></a><a class="code" href="./class_m_h_w_render_1_1_m_blend_state.html#acdb056fac09601eaa8b5f1b5df3ee4eaa567435a26feac1c98cd5213345ec6681">MBlendState::kOne</a>;</div>
<div class="line"> <span class="keywordflow">case</span> GL_SRC_COLOR:                <span class="keywordflow">return</span> <a name="a8"></a><a class="code" href="./class_m_h_w_render_1_1_m_blend_state.html#acdb056fac09601eaa8b5f1b5df3ee4eaab3c18b865065b7d2550f580a87b1b258">MBlendState::kSourceColor</a>;</div>
<div class="line"> <span class="keywordflow">case</span> GL_ONE_MINUS_SRC_COLOR:      <span class="keywordflow">return</span> <a name="a9"></a><a class="code" href="./class_m_h_w_render_1_1_m_blend_state.html#acdb056fac09601eaa8b5f1b5df3ee4eaa2dc1161242f200fc39aa6dbc5c09e0b9">MBlendState::kInvSourceColor</a>;</div>
<div class="line"> <span class="keywordflow">case</span> GL_SRC_ALPHA:                <span class="keywordflow">return</span> <a name="a10"></a><a class="code" href="./class_m_h_w_render_1_1_m_blend_state.html#acdb056fac09601eaa8b5f1b5df3ee4eaa76de73d01667fca98bcd3754f1f92c00">MBlendState::kSourceAlpha</a>;</div>
<div class="line"> <span class="keywordflow">case</span> GL_ONE_MINUS_SRC_ALPHA:      <span class="keywordflow">return</span> <a name="a11"></a><a class="code" href="./class_m_h_w_render_1_1_m_blend_state.html#acdb056fac09601eaa8b5f1b5df3ee4eaaa58d506c01416594f41c42e255dec594">MBlendState::kInvSourceAlpha</a>;</div>
<div class="line"> <span class="keywordflow">case</span> GL_SRC_ALPHA_SATURATE:       <span class="keywordflow">return</span> <a name="a12"></a><a class="code" href="./class_m_h_w_render_1_1_m_blend_state.html#acdb056fac09601eaa8b5f1b5df3ee4eaaba6f8d05b184d4b60599247848cfed75">MBlendState::kSourceAlphaSat</a>;</div>
<div class="line"> <span class="keywordflow">case</span> GL_DST_COLOR:                <span class="keywordflow">return</span> <a name="a13"></a><a class="code" href="./class_m_h_w_render_1_1_m_blend_state.html#acdb056fac09601eaa8b5f1b5df3ee4eaa7c68d88602054bf4267a8cd2faa458a3">MBlendState::kDestinationColor</a>;</div>
<div class="line"> <span class="keywordflow">case</span> GL_ONE_MINUS_DST_COLOR:      <span class="keywordflow">return</span> <a name="a14"></a><a class="code" href="./class_m_h_w_render_1_1_m_blend_state.html#acdb056fac09601eaa8b5f1b5df3ee4eaa8dfde632e6b4206d14c3b479bf842697">MBlendState::kInvDestinationColor</a>;</div>
<div class="line"> <span class="keywordflow">case</span> GL_DST_ALPHA:                <span class="keywordflow">return</span> <a name="a15"></a><a class="code" href="./class_m_h_w_render_1_1_m_blend_state.html#acdb056fac09601eaa8b5f1b5df3ee4eaa5e25d0cd17ce74907d880f9488e7a122">MBlendState::kDestinationAlpha</a>;</div>
<div class="line"> <span class="keywordflow">case</span> GL_ONE_MINUS_DST_ALPHA:      <span class="keywordflow">return</span> <a name="a16"></a><a class="code" href="./class_m_h_w_render_1_1_m_blend_state.html#acdb056fac09601eaa8b5f1b5df3ee4eaaae14d2a59c526862c31df1b9fff218b2">MBlendState::kInvDestinationAlpha</a>;</div>
<div class="line"> <span class="keywordflow">case</span> GL_CONSTANT_COLOR:           <span class="keywordflow">return</span> <a name="a17"></a><a class="code" href="./class_m_h_w_render_1_1_m_blend_state.html#acdb056fac09601eaa8b5f1b5df3ee4eaaee9c8fe7a3fec45122adcbb7fc3c30cf">MBlendState::kBlendFactor</a>;</div>
<div class="line"> <span class="keywordflow">case</span> GL_ONE_MINUS_CONSTANT_COLOR: <span class="keywordflow">return</span> <a name="a18"></a><a class="code" href="./class_m_h_w_render_1_1_m_blend_state.html#acdb056fac09601eaa8b5f1b5df3ee4eaab99bb638b4ecb0d525b2308c7758ba7b">MBlendState::kInvBlendFactor</a>;</div>
<div class="line"></div>
<div class="line"> <span class="comment">//These two cases are duplicated in OGL</span></div>
<div class="line"> <span class="comment">// case GL_SRC_ALPHA:             return MBlendState::kBothSourceAlpha;</span></div>
<div class="line"> <span class="comment">// case GL_ONE_MINUS_SRC_ALPHA:   return MBlendState::kBothInvSourceAlpha;</span></div>
<div class="line"></div>
<div class="line"> <span class="comment">// Error, unknown GL enum.</span></div>
<div class="line"> <span class="keywordflow">default</span>:                          <span class="keywordflow">return</span> <a class="code" href="./class_m_h_w_render_1_1_m_blend_state.html#acdb056fac09601eaa8b5f1b5df3ee4eaa567435a26feac1c98cd5213345ec6681">MBlendState::kOne</a>;</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line"> <a class="code" href="./class_m_h_w_render_1_1_m_blend_state.html#ad3316ff174eff6a45c45f0e90d84eabe">MBlendState::BlendOperation</a> mapBlendOperation(<span class="keywordtype">int</span> blendOperation)</div>
<div class="line">    {</div>
<div class="line"> <span class="keywordflow">switch</span>(blendOperation) {</div>
<div class="line"> <span class="keywordflow">case</span> GL_FUNC_ADD:              <span class="keywordflow">return</span> <a name="a19"></a><a class="code" href="./class_m_h_w_render_1_1_m_blend_state.html#ad3316ff174eff6a45c45f0e90d84eabea8d20f6cca2d49a8732f535cfe28812c8">MBlendState::kAdd</a>;</div>
<div class="line"> <span class="keywordflow">case</span> GL_FUNC_SUBTRACT:         <span class="keywordflow">return</span> <a name="a20"></a><a class="code" href="./class_m_h_w_render_1_1_m_blend_state.html#ad3316ff174eff6a45c45f0e90d84eabeae1d92bfb6833e8b4a3c16049e764671f">MBlendState::kSubtract</a>;</div>
<div class="line"> <span class="keywordflow">case</span> GL_FUNC_REVERSE_SUBTRACT: <span class="keywordflow">return</span> <a name="a21"></a><a class="code" href="./class_m_h_w_render_1_1_m_blend_state.html#ad3316ff174eff6a45c45f0e90d84eabeac4021f31cf4df9f5f9f735f22588e0a8">MBlendState::kReverseSubtract</a>;</div>
<div class="line"> <span class="keywordflow">case</span> GL_MIN:                   <span class="keywordflow">return</span> <a name="a22"></a><a class="code" href="./class_m_h_w_render_1_1_m_blend_state.html#ad3316ff174eff6a45c45f0e90d84eabeac07fcd1852bd444a4be09b8aba6b7874">MBlendState::kMin</a>;</div>
<div class="line"> <span class="keywordflow">case</span> GL_MAX:                   <span class="keywordflow">return</span> <a name="a23"></a><a class="code" href="./class_m_h_w_render_1_1_m_blend_state.html#ad3316ff174eff6a45c45f0e90d84eabea11a8c07455b6c1d80c87e414be979962">MBlendState::kMax</a>;</div>
<div class="line"></div>
<div class="line"> <span class="comment">// Error, unknown GL enum.</span></div>
<div class="line"> <span class="keywordflow">default</span>:                       <span class="keywordflow">return</span> <a class="code" href="./class_m_h_w_render_1_1_m_blend_state.html#ad3316ff174eff6a45c45f0e90d84eabea8d20f6cca2d49a8732f535cfe28812c8">MBlendState::kAdd</a>;</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line"> <a class="code" href="./class_m_h_w_render_1_1_m_state_manager.html#af4045f11e8887dda083d0122d24df4f6">MStateManager::CompareMode</a> mapCompareMode(<span class="keywordtype">int</span> compareMode)</div>
<div class="line">    {</div>
<div class="line"> <span class="keywordflow">switch</span>(compareMode)</div>
<div class="line">        {</div>
<div class="line"> <span class="keywordflow">case</span> GL_NEVER:    <span class="keywordflow">return</span> <a name="a24"></a><a class="code" href="./class_m_h_w_render_1_1_m_state_manager.html#af4045f11e8887dda083d0122d24df4f6a42d6e60690b8f3b1d7774cee269c7b97">MStateManager::kCompareNever</a>;</div>
<div class="line"> <span class="keywordflow">case</span> GL_LESS:     <span class="keywordflow">return</span> <a name="a25"></a><a class="code" href="./class_m_h_w_render_1_1_m_state_manager.html#af4045f11e8887dda083d0122d24df4f6aebff78d4d81faf6adf6ddb2d827fd3c8">MStateManager::kCompareLess</a>;</div>
<div class="line"> <span class="keywordflow">case</span> GL_EQUAL:    <span class="keywordflow">return</span> <a name="a26"></a><a class="code" href="./class_m_h_w_render_1_1_m_state_manager.html#af4045f11e8887dda083d0122d24df4f6a4bc0608d0a9eeba434853b1e31ba41e5">MStateManager::kCompareEqual</a>;</div>
<div class="line"> <span class="keywordflow">case</span> GL_LEQUAL:   <span class="keywordflow">return</span> <a name="a27"></a><a class="code" href="./class_m_h_w_render_1_1_m_state_manager.html#af4045f11e8887dda083d0122d24df4f6a76706a2b85f0339727cbeca70648b6d6">MStateManager::kCompareLessEqual</a>;</div>
<div class="line"> <span class="keywordflow">case</span> GL_GREATER:  <span class="keywordflow">return</span> <a name="a28"></a><a class="code" href="./class_m_h_w_render_1_1_m_state_manager.html#af4045f11e8887dda083d0122d24df4f6a0c201b6ab8387f4c12e78b0bd0891991">MStateManager::kCompareGreater</a>;</div>
<div class="line"> <span class="keywordflow">case</span> GL_NOTEQUAL: <span class="keywordflow">return</span> <a name="a29"></a><a class="code" href="./class_m_h_w_render_1_1_m_state_manager.html#af4045f11e8887dda083d0122d24df4f6a734078c0d177697fc2862adbfe73b5e1">MStateManager::kCompareNotEqual</a>;</div>
<div class="line"> <span class="keywordflow">case</span> GL_GEQUAL:   <span class="keywordflow">return</span> <a name="a30"></a><a class="code" href="./class_m_h_w_render_1_1_m_state_manager.html#af4045f11e8887dda083d0122d24df4f6a3cd21d8e51152df29143cac1751a45a9">MStateManager::kCompareGreaterEqual</a>;</div>
<div class="line"> <span class="keywordflow">case</span> GL_ALWAYS:   <span class="keywordflow">return</span> <a name="a31"></a><a class="code" href="./class_m_h_w_render_1_1_m_state_manager.html#af4045f11e8887dda083d0122d24df4f6add4cd12eb49bf27fbb725a2d015f0f81">MStateManager::kCompareAlways</a>;</div>
<div class="line"></div>
<div class="line"> <span class="comment">// Error, unknown GL enum.</span></div>
<div class="line"> <span class="keywordflow">default</span>:          <span class="keywordflow">return</span> <a class="code" href="./class_m_h_w_render_1_1_m_state_manager.html#af4045f11e8887dda083d0122d24df4f6add4cd12eb49bf27fbb725a2d015f0f81">MStateManager::kCompareAlways</a>;</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line"> <a class="code" href="./class_m_h_w_render_1_1_m_depth_stencil_state.html#ac692ecc1ffb4255c8c8628a3ce6f7a4b">MDepthStencilState::StencilOperation</a> mapStencilOperation(<span class="keywordtype">int</span> stencilOp)</div>
<div class="line">    {</div>
<div class="line"> <span class="keywordflow">switch</span>(stencilOp)</div>
<div class="line">        {</div>
<div class="line"> <span class="keywordflow">case</span> GL_KEEP:      <span class="keywordflow">return</span> <a name="a32"></a><a class="code" href="./class_m_h_w_render_1_1_m_depth_stencil_state.html#ac692ecc1ffb4255c8c8628a3ce6f7a4ba1c419d4127f34e025391e3be28779a80">MDepthStencilState::kKeepStencil</a>;</div>
<div class="line"> <span class="keywordflow">case</span> GL_ZERO:      <span class="keywordflow">return</span> <a name="a33"></a><a class="code" href="./class_m_h_w_render_1_1_m_depth_stencil_state.html#ac692ecc1ffb4255c8c8628a3ce6f7a4bafd5ded57e821c89e665b7ee42c5c905b">MDepthStencilState::kZeroStencil</a>;</div>
<div class="line"> <span class="keywordflow">case</span> GL_REPLACE:   <span class="keywordflow">return</span> <a name="a34"></a><a class="code" href="./class_m_h_w_render_1_1_m_depth_stencil_state.html#ac692ecc1ffb4255c8c8628a3ce6f7a4ba9bb9f07791eb653d137901ff566fb449">MDepthStencilState::kReplaceStencil</a>;</div>
<div class="line"> <span class="keywordflow">case</span> GL_INCR:      <span class="keywordflow">return</span> <a name="a35"></a><a class="code" href="./class_m_h_w_render_1_1_m_depth_stencil_state.html#ac692ecc1ffb4255c8c8628a3ce6f7a4bad3fcf905c6830f76e8b2266e0ff98cb9">MDepthStencilState::kIncrementStencilSat</a>;</div>
<div class="line"> <span class="keywordflow">case</span> GL_DECR:      <span class="keywordflow">return</span> <a name="a36"></a><a class="code" href="./class_m_h_w_render_1_1_m_depth_stencil_state.html#ac692ecc1ffb4255c8c8628a3ce6f7a4ba890cd6ddfbe2dc903942415c52b7e9a8">MDepthStencilState::kDecrementStencilSat</a>;</div>
<div class="line"> <span class="keywordflow">case</span> GL_INVERT:    <span class="keywordflow">return</span> <a name="a37"></a><a class="code" href="./class_m_h_w_render_1_1_m_depth_stencil_state.html#ac692ecc1ffb4255c8c8628a3ce6f7a4bab0ba9493e8b95f1504bbda54b64e2e83">MDepthStencilState::kInvertStencil</a>;</div>
<div class="line"> <span class="keywordflow">case</span> GL_INCR_WRAP: <span class="keywordflow">return</span> <a name="a38"></a><a class="code" href="./class_m_h_w_render_1_1_m_depth_stencil_state.html#ac692ecc1ffb4255c8c8628a3ce6f7a4ba3ddc278f01ffa165c5c165658b85f838">MDepthStencilState::kIncrementStencil</a>;</div>
<div class="line"> <span class="keywordflow">case</span> GL_DECR_WRAP: <span class="keywordflow">return</span> <a name="a39"></a><a class="code" href="./class_m_h_w_render_1_1_m_depth_stencil_state.html#ac692ecc1ffb4255c8c8628a3ce6f7a4ba1bb09404e956f05eb02ad3686c51f17f">MDepthStencilState::kDecrementStencil</a>;</div>
<div class="line"></div>
<div class="line"> <span class="comment">// Error, unknown GL enum.</span></div>
<div class="line"> <span class="keywordflow">default</span>:           <span class="keywordflow">return</span> <a class="code" href="./class_m_h_w_render_1_1_m_depth_stencil_state.html#ac692ecc1ffb4255c8c8628a3ce6f7a4ba1c419d4127f34e025391e3be28779a80">MDepthStencilState::kKeepStencil</a>;</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line"> <span class="comment">//==============================================================================</span></div>
<div class="line"> <span class="comment">//  STATE ASSIGNMENT HANDLERS</span></div>
<div class="line"> <span class="comment">//==============================================================================</span></div>
<div class="line"></div>
<div class="line"> <span class="comment">//  We currently support all of the states that the OpenMaya VP2.0</span></div>
<div class="line"> <span class="comment">//  API supports. The state assignments supported by CgFX but not</span></div>
<div class="line"> <span class="comment">//  by the OpenMaya VP2.0 API are not handled by the</span></div>
<div class="line"> <span class="comment">//  cgfxPassStateSetter and will be handled the the regular</span></div>
<div class="line"> <span class="comment">//  cgSetPassState mechanism. A warning is emitted when we</span></div>
<div class="line"> <span class="comment">//  encounter such a state because it is a potential performance</span></div>
<div class="line"> <span class="comment">//  bottleneck.</span></div>
<div class="line"></div>
<div class="line"> <a class="code" href="./class_m_string.html">MString</a> WrongNumValues(</div>
<div class="line"> <span class="stringliteral">"cgfxPassStateSetter : Incoherent number of state assignment values"</span>);</div>
<div class="line"></div>
<div class="line"> <span class="comment">//******************************************************************************</span></div>
<div class="line"> <span class="comment">// Blend states</span></div>
<div class="line"> <span class="comment">//******************************************************************************</span></div>
<div class="line"></div>
<div class="line"> <span class="keywordtype">void</span> assignHdlr_BlendColor(</div>
<div class="line"> <span class="keyword">const</span> CGstateassignment&amp; sa,</div>
<div class="line"> <a class="code" href="./class_m_h_w_render_1_1_m_blend_state_desc.html">MBlendStateDesc</a>*         blendStateDesc,</div>
<div class="line"> <a class="code" href="./class_m_h_w_render_1_1_m_rasterizer_state_desc.html">MRasterizerStateDesc</a>*    <span class="comment">/* rasterizerStateDesc */</span>,</div>
<div class="line"> <a class="code" href="./class_m_h_w_render_1_1_m_depth_stencil_state_desc.html">MDepthStencilStateDesc</a>*  <span class="comment">/* depthStencilStateDesc */</span>)</div>
<div class="line">    {</div>
<div class="line"> <span class="keywordtype">int</span> numValues = 0;</div>
<div class="line"> <span class="keyword">const</span> <span class="keywordtype">float</span>* values = cgGetFloatStateAssignmentValues(sa, &amp;numValues);</div>
<div class="line"> <span class="keywordflow">if</span>(numValues == 4) {</div>
<div class="line">            blendStateDesc-&gt;<a name="a40"></a><a class="code" href="./class_m_h_w_render_1_1_m_blend_state_desc.html#a320c6d5843805b550f81726b07aa7f17">blendFactor</a>[0] = values[0];</div>
<div class="line">            blendStateDesc-&gt;<a class="code" href="./class_m_h_w_render_1_1_m_blend_state_desc.html#a320c6d5843805b550f81726b07aa7f17">blendFactor</a>[1] = values[1];</div>
<div class="line">            blendStateDesc-&gt;<a class="code" href="./class_m_h_w_render_1_1_m_blend_state_desc.html#a320c6d5843805b550f81726b07aa7f17">blendFactor</a>[2] = values[2];</div>
<div class="line">            blendStateDesc-&gt;<a class="code" href="./class_m_h_w_render_1_1_m_blend_state_desc.html#a320c6d5843805b550f81726b07aa7f17">blendFactor</a>[3] = values[3];</div>
<div class="line">        }</div>
<div class="line"> <span class="keywordflow">else</span> {</div>
<div class="line"> <a class="code" href="./class_m_global.html#a4ddbe97e58a90e1ab05d45a62c006cf0">MGlobal::displayError</a>(WrongNumValues);</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line"> <span class="keywordtype">void</span> assignHdlr_BlendEnable(</div>
<div class="line"> <span class="keyword">const</span> CGstateassignment&amp; sa,</div>
<div class="line"> <a class="code" href="./class_m_h_w_render_1_1_m_blend_state_desc.html">MBlendStateDesc</a>*         blendStateDesc,</div>
<div class="line"> <a class="code" href="./class_m_h_w_render_1_1_m_rasterizer_state_desc.html">MRasterizerStateDesc</a>*    <span class="comment">/* rasterizerStateDesc */</span>,</div>
<div class="line"> <a class="code" href="./class_m_h_w_render_1_1_m_depth_stencil_state_desc.html">MDepthStencilStateDesc</a>*  <span class="comment">/* depthStencilStateDesc */</span>)</div>
<div class="line">    {</div>
<div class="line"> <span class="keywordtype">int</span> numValues = 0;</div>
<div class="line"> <span class="keyword">const</span> CGbool *values = cgGetBoolStateAssignmentValues(sa, &amp;numValues);</div>
<div class="line"> <span class="keywordflow">if</span> (numValues == 1) {</div>
<div class="line"> <span class="keyword">const</span> <span class="keywordtype">bool</span> value = (values[0] == CG_TRUE) ? <span class="keyword">true</span> : <span class="keyword">false</span>;</div>
<div class="line"> <span class="comment">// We always use the target 0 since the CgFX plugin only</span></div>
<div class="line"> <span class="comment">// renders to a single framebuffer.</span></div>
<div class="line">            blendStateDesc-&gt;<a name="a41"></a><a class="code" href="./class_m_h_w_render_1_1_m_blend_state_desc.html#ab6054509e76bc88d697a365e82c504c8">targetBlends</a>[0].<a name="a42"></a><a class="code" href="./class_m_h_w_render_1_1_m_target_blend_desc.html#af69e3282d64f8cfe88a2759960788417">blendEnable</a> = value;</div>
<div class="line">        }</div>
<div class="line"> <span class="keywordflow">else</span> {</div>
<div class="line"> <a class="code" href="./class_m_global.html#a4ddbe97e58a90e1ab05d45a62c006cf0">MGlobal::displayError</a>(WrongNumValues);</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line"> <span class="keywordtype">void</span> assignHdlr_SrcBlend(</div>
<div class="line"> <span class="keyword">const</span> CGstateassignment&amp; sa,</div>
<div class="line"> <a class="code" href="./class_m_h_w_render_1_1_m_blend_state_desc.html">MBlendStateDesc</a>*         blendStateDesc,</div>
<div class="line"> <a class="code" href="./class_m_h_w_render_1_1_m_rasterizer_state_desc.html">MRasterizerStateDesc</a>*    <span class="comment">/* rasterizerStateDesc */</span>,</div>
<div class="line"> <a class="code" href="./class_m_h_w_render_1_1_m_depth_stencil_state_desc.html">MDepthStencilStateDesc</a>*  <span class="comment">/* depthStencilStateDesc */</span>)</div>
<div class="line">    {</div>
<div class="line"> <span class="keywordtype">int</span> numValues = 0;</div>
<div class="line"> <span class="keyword">const</span> <span class="keywordtype">int</span> *values = cgGetIntStateAssignmentValues(sa, &amp;numValues);</div>
<div class="line"> <span class="keywordflow">if</span> (numValues == 1) {</div>
<div class="line"> <span class="comment">// We always use the target 0 since the CgFX plugin only</span></div>
<div class="line"> <span class="comment">// renders to a single framebuffer.</span></div>
<div class="line">            blendStateDesc-&gt;<a class="code" href="./class_m_h_w_render_1_1_m_blend_state_desc.html#ab6054509e76bc88d697a365e82c504c8">targetBlends</a>[0].<a name="a43"></a><a class="code" href="./class_m_h_w_render_1_1_m_target_blend_desc.html#a5c49c83334018fa4b2f69ac30b60d003">sourceBlend</a> =</div>
<div class="line">                mapBlendOption(values[0]);</div>
<div class="line">            blendStateDesc-&gt;<a class="code" href="./class_m_h_w_render_1_1_m_blend_state_desc.html#ab6054509e76bc88d697a365e82c504c8">targetBlends</a>[0].<a name="a44"></a><a class="code" href="./class_m_h_w_render_1_1_m_target_blend_desc.html#a9fbc968d46ad9a7107696211e34b4e51">alphaSourceBlend</a> =</div>
<div class="line">                mapBlendOption(values[0]);</div>
<div class="line">        }</div>
<div class="line"> <span class="keywordflow">else</span> {</div>
<div class="line"> <a class="code" href="./class_m_global.html#a4ddbe97e58a90e1ab05d45a62c006cf0">MGlobal::displayError</a>(WrongNumValues);</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line"> <span class="keywordtype">void</span> assignHdlr_DestBlend(</div>
<div class="line"> <span class="keyword">const</span> CGstateassignment&amp; sa,</div>
<div class="line"> <a class="code" href="./class_m_h_w_render_1_1_m_blend_state_desc.html">MBlendStateDesc</a>*         blendStateDesc,</div>
<div class="line"> <a class="code" href="./class_m_h_w_render_1_1_m_rasterizer_state_desc.html">MRasterizerStateDesc</a>*    <span class="comment">/* rasterizerStateDesc */</span>,</div>
<div class="line"> <a class="code" href="./class_m_h_w_render_1_1_m_depth_stencil_state_desc.html">MDepthStencilStateDesc</a>*  <span class="comment">/* depthStencilStateDesc */</span>)</div>
<div class="line">    {</div>
<div class="line"> <span class="keywordtype">int</span> numValues = 0;</div>
<div class="line"> <span class="keyword">const</span> <span class="keywordtype">int</span> *values = cgGetIntStateAssignmentValues(sa, &amp;numValues);</div>
<div class="line"> <span class="keywordflow">if</span> (numValues == 1) {</div>
<div class="line"> <span class="comment">// We always use the target 0 since the CgFX plugin only</span></div>
<div class="line"> <span class="comment">// renders to a single framebuffer.</span></div>
<div class="line">            blendStateDesc-&gt;<a class="code" href="./class_m_h_w_render_1_1_m_blend_state_desc.html#ab6054509e76bc88d697a365e82c504c8">targetBlends</a>[0].<a name="a45"></a><a class="code" href="./class_m_h_w_render_1_1_m_target_blend_desc.html#adadc1ea4b5fca51312ae451f346434e3">destinationBlend</a> =</div>
<div class="line">                mapBlendOption(values[0]);</div>
<div class="line">            blendStateDesc-&gt;<a class="code" href="./class_m_h_w_render_1_1_m_blend_state_desc.html#ab6054509e76bc88d697a365e82c504c8">targetBlends</a>[0].<a name="a46"></a><a class="code" href="./class_m_h_w_render_1_1_m_target_blend_desc.html#aa0f38fbd90e3171cc6c092e80ff25c7c">alphaDestinationBlend</a> =</div>
<div class="line">                mapBlendOption(values[0]);</div>
<div class="line">        }</div>
<div class="line"> <span class="keywordflow">else</span> {</div>
<div class="line"> <a class="code" href="./class_m_global.html#a4ddbe97e58a90e1ab05d45a62c006cf0">MGlobal::displayError</a>(WrongNumValues);</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line"> <span class="keywordtype">void</span> assignHdlr_BlendFunc(</div>
<div class="line"> <span class="keyword">const</span> CGstateassignment&amp; sa,</div>
<div class="line"> <a class="code" href="./class_m_h_w_render_1_1_m_blend_state_desc.html">MBlendStateDesc</a>*         blendStateDesc,</div>
<div class="line"> <a class="code" href="./class_m_h_w_render_1_1_m_rasterizer_state_desc.html">MRasterizerStateDesc</a>*    <span class="comment">/* rasterizerStateDesc */</span>,</div>
<div class="line"> <a class="code" href="./class_m_h_w_render_1_1_m_depth_stencil_state_desc.html">MDepthStencilStateDesc</a>*  <span class="comment">/* depthStencilStateDesc */</span>)</div>
<div class="line">    {</div>
<div class="line"> <span class="keywordtype">int</span> numValues = 0;</div>
<div class="line"> <span class="keyword">const</span> <span class="keywordtype">int</span> *values = cgGetIntStateAssignmentValues(sa, &amp;numValues);</div>
<div class="line"> <span class="keywordflow">if</span> (numValues == 2) {</div>
<div class="line"> <span class="comment">// We always use the target 0 since the CgFX plugin only</span></div>
<div class="line"> <span class="comment">// renders to a single framebuffer.</span></div>
<div class="line">            blendStateDesc-&gt;<a class="code" href="./class_m_h_w_render_1_1_m_blend_state_desc.html#ab6054509e76bc88d697a365e82c504c8">targetBlends</a>[0].<a class="code" href="./class_m_h_w_render_1_1_m_target_blend_desc.html#a5c49c83334018fa4b2f69ac30b60d003">sourceBlend</a> =</div>
<div class="line">                mapBlendOption(values[0]);</div>
<div class="line">            blendStateDesc-&gt;<a class="code" href="./class_m_h_w_render_1_1_m_blend_state_desc.html#ab6054509e76bc88d697a365e82c504c8">targetBlends</a>[0].<a class="code" href="./class_m_h_w_render_1_1_m_target_blend_desc.html#adadc1ea4b5fca51312ae451f346434e3">destinationBlend</a> =</div>
<div class="line">                mapBlendOption(values[1]);</div>
<div class="line">            blendStateDesc-&gt;<a class="code" href="./class_m_h_w_render_1_1_m_blend_state_desc.html#ab6054509e76bc88d697a365e82c504c8">targetBlends</a>[0].<a class="code" href="./class_m_h_w_render_1_1_m_target_blend_desc.html#a9fbc968d46ad9a7107696211e34b4e51">alphaSourceBlend</a> =</div>
<div class="line">                mapBlendOption(values[0]);</div>
<div class="line">            blendStateDesc-&gt;<a class="code" href="./class_m_h_w_render_1_1_m_blend_state_desc.html#ab6054509e76bc88d697a365e82c504c8">targetBlends</a>[0].<a class="code" href="./class_m_h_w_render_1_1_m_target_blend_desc.html#aa0f38fbd90e3171cc6c092e80ff25c7c">alphaDestinationBlend</a> =</div>
<div class="line">                mapBlendOption(values[1]);</div>
<div class="line">        }</div>
<div class="line"> <span class="keywordflow">else</span> {</div>
<div class="line"> <a class="code" href="./class_m_global.html#a4ddbe97e58a90e1ab05d45a62c006cf0">MGlobal::displayError</a>(WrongNumValues);</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line"> <span class="keywordtype">void</span> assignHdlr_BlendOp(</div>
<div class="line"> <span class="keyword">const</span> CGstateassignment&amp; sa,</div>
<div class="line"> <a class="code" href="./class_m_h_w_render_1_1_m_blend_state_desc.html">MBlendStateDesc</a>*         blendStateDesc,</div>
<div class="line"> <a class="code" href="./class_m_h_w_render_1_1_m_rasterizer_state_desc.html">MRasterizerStateDesc</a>*    <span class="comment">/* rasterizerStateDesc */</span>,</div>
<div class="line"> <a class="code" href="./class_m_h_w_render_1_1_m_depth_stencil_state_desc.html">MDepthStencilStateDesc</a>*  <span class="comment">/* depthStencilStateDesc */</span>)</div>
<div class="line">    {</div>
<div class="line"> <span class="keywordtype">int</span> numValues = 0;</div>
<div class="line"> <span class="keyword">const</span> <span class="keywordtype">int</span> *values = cgGetIntStateAssignmentValues(sa, &amp;numValues);</div>
<div class="line"> <span class="keywordflow">if</span> (numValues == 1) {</div>
<div class="line"> <span class="comment">// We always use the target 0 since the CgFX plugin only</span></div>
<div class="line"> <span class="comment">// renders to a single framebuffer.</span></div>
<div class="line">            blendStateDesc-&gt;<a class="code" href="./class_m_h_w_render_1_1_m_blend_state_desc.html#ab6054509e76bc88d697a365e82c504c8">targetBlends</a>[0].<a name="a47"></a><a class="code" href="./class_m_h_w_render_1_1_m_target_blend_desc.html#a919cbb29a19a1fc79843f58e68ccad57">blendOperation</a> =</div>
<div class="line">                mapBlendOperation(values[0]);</div>
<div class="line">        }</div>
<div class="line"> <span class="keywordflow">else</span> {</div>
<div class="line"> <a class="code" href="./class_m_global.html#a4ddbe97e58a90e1ab05d45a62c006cf0">MGlobal::displayError</a>(WrongNumValues);</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line"> <span class="keywordtype">void</span> assignHdlr_BlendFuncSeparate(</div>
<div class="line"> <span class="keyword">const</span> CGstateassignment&amp; sa,</div>
<div class="line"> <a class="code" href="./class_m_h_w_render_1_1_m_blend_state_desc.html">MBlendStateDesc</a>*         blendStateDesc,</div>
<div class="line"> <a class="code" href="./class_m_h_w_render_1_1_m_rasterizer_state_desc.html">MRasterizerStateDesc</a>*    <span class="comment">/* rasterizerStateDesc */</span>,</div>
<div class="line"> <a class="code" href="./class_m_h_w_render_1_1_m_depth_stencil_state_desc.html">MDepthStencilStateDesc</a>*  <span class="comment">/* depthStencilStateDesc */</span>)</div>
<div class="line">    {</div>
<div class="line"> <span class="keywordtype">int</span> numValues = 0;</div>
<div class="line"> <span class="keyword">const</span> <span class="keywordtype">int</span> *values = cgGetIntStateAssignmentValues(sa, &amp;numValues);</div>
<div class="line"> <span class="keywordflow">if</span> (numValues == 4) {</div>
<div class="line"> <span class="comment">// We always use the target 0 since the CgFX plugin only</span></div>
<div class="line"> <span class="comment">// renders to a single framebuffer.</span></div>
<div class="line">            blendStateDesc-&gt;<a class="code" href="./class_m_h_w_render_1_1_m_blend_state_desc.html#ab6054509e76bc88d697a365e82c504c8">targetBlends</a>[0].<a class="code" href="./class_m_h_w_render_1_1_m_target_blend_desc.html#a5c49c83334018fa4b2f69ac30b60d003">sourceBlend</a> =</div>
<div class="line">                mapBlendOption(values[0]);</div>
<div class="line">            blendStateDesc-&gt;<a class="code" href="./class_m_h_w_render_1_1_m_blend_state_desc.html#ab6054509e76bc88d697a365e82c504c8">targetBlends</a>[0].<a class="code" href="./class_m_h_w_render_1_1_m_target_blend_desc.html#adadc1ea4b5fca51312ae451f346434e3">destinationBlend</a> =</div>
<div class="line">                mapBlendOption(values[1]);</div>
<div class="line">            blendStateDesc-&gt;<a class="code" href="./class_m_h_w_render_1_1_m_blend_state_desc.html#ab6054509e76bc88d697a365e82c504c8">targetBlends</a>[0].<a class="code" href="./class_m_h_w_render_1_1_m_target_blend_desc.html#a9fbc968d46ad9a7107696211e34b4e51">alphaSourceBlend</a> =</div>
<div class="line">                mapBlendOption(values[2]);</div>
<div class="line">            blendStateDesc-&gt;<a class="code" href="./class_m_h_w_render_1_1_m_blend_state_desc.html#ab6054509e76bc88d697a365e82c504c8">targetBlends</a>[0].<a class="code" href="./class_m_h_w_render_1_1_m_target_blend_desc.html#aa0f38fbd90e3171cc6c092e80ff25c7c">alphaDestinationBlend</a> =</div>
<div class="line">                mapBlendOption(values[3]);</div>
<div class="line">        }</div>
<div class="line"> <span class="keywordflow">else</span> {</div>
<div class="line"> <a class="code" href="./class_m_global.html#a4ddbe97e58a90e1ab05d45a62c006cf0">MGlobal::displayError</a>(WrongNumValues);</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line"> <span class="keywordtype">void</span> assignHdlr_BlendEquationSeparate(</div>
<div class="line"> <span class="keyword">const</span> CGstateassignment&amp; sa,</div>
<div class="line"> <a class="code" href="./class_m_h_w_render_1_1_m_blend_state_desc.html">MBlendStateDesc</a>*         blendStateDesc,</div>
<div class="line"> <a class="code" href="./class_m_h_w_render_1_1_m_rasterizer_state_desc.html">MRasterizerStateDesc</a>*    <span class="comment">/* rasterizerStateDesc */</span>,</div>
<div class="line"> <a class="code" href="./class_m_h_w_render_1_1_m_depth_stencil_state_desc.html">MDepthStencilStateDesc</a>*  <span class="comment">/* depthStencilStateDesc */</span>)</div>
<div class="line">    {</div>
<div class="line"> <span class="keywordtype">int</span> numValues = 0;</div>
<div class="line"> <span class="keyword">const</span> <span class="keywordtype">int</span> *values = cgGetIntStateAssignmentValues(sa, &amp;numValues);</div>
<div class="line"> <span class="keywordflow">if</span> (numValues == 2) {</div>
<div class="line"> <span class="comment">// We always use the target 0 since the CgFX plugin only</span></div>
<div class="line"> <span class="comment">// renders to a single framebuffer.</span></div>
<div class="line">            blendStateDesc-&gt;<a class="code" href="./class_m_h_w_render_1_1_m_blend_state_desc.html#ab6054509e76bc88d697a365e82c504c8">targetBlends</a>[0].<a class="code" href="./class_m_h_w_render_1_1_m_target_blend_desc.html#a919cbb29a19a1fc79843f58e68ccad57">blendOperation</a> =</div>
<div class="line">                mapBlendOperation(values[0]);</div>
<div class="line">            blendStateDesc-&gt;<a class="code" href="./class_m_h_w_render_1_1_m_blend_state_desc.html#ab6054509e76bc88d697a365e82c504c8">targetBlends</a>[1].<a name="a48"></a><a class="code" href="./class_m_h_w_render_1_1_m_target_blend_desc.html#a4d3de738732021fb87a82040e77f0aa4">alphaBlendOperation</a> =</div>
<div class="line">                mapBlendOperation(values[1]);</div>
<div class="line">        }</div>
<div class="line"> <span class="keywordflow">else</span> {</div>
<div class="line"> <a class="code" href="./class_m_global.html#a4ddbe97e58a90e1ab05d45a62c006cf0">MGlobal::displayError</a>(WrongNumValues);</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line"> <span class="keywordtype">void</span> assignHdlr_ColorWriteEnable(</div>
<div class="line"> <span class="keyword">const</span> CGstateassignment&amp; sa,</div>
<div class="line"> <a class="code" href="./class_m_h_w_render_1_1_m_blend_state_desc.html">MBlendStateDesc</a>*         blendStateDesc,</div>
<div class="line"> <a class="code" href="./class_m_h_w_render_1_1_m_rasterizer_state_desc.html">MRasterizerStateDesc</a>*    <span class="comment">/* rasterizerStateDesc */</span>,</div>
<div class="line"> <a class="code" href="./class_m_h_w_render_1_1_m_depth_stencil_state_desc.html">MDepthStencilStateDesc</a>*  <span class="comment">/* depthStencilStateDesc */</span>)</div>
<div class="line">    {</div>
<div class="line"> <span class="keywordtype">int</span> numValues = 0;</div>
<div class="line"> <span class="keyword">const</span> CGbool* values = cgGetBoolStateAssignmentValues(sa, &amp;numValues);</div>
<div class="line"> <span class="keywordflow">if</span> (numValues == 4) {</div>
<div class="line"> <span class="keywordtype">int</span> mask = <a name="a49"></a><a class="code" href="./class_m_h_w_render_1_1_m_blend_state.html#a508bf9ce7f09728669b77bdc572a2340abd4ec2b2e754b4c1e2ed5bbe74c00fb1">MBlendState::kNoChannels</a>;</div>
<div class="line"></div>
<div class="line">            mask |= (values[0]!=0) ? <a name="a50"></a><a class="code" href="./class_m_h_w_render_1_1_m_blend_state.html#a508bf9ce7f09728669b77bdc572a2340a6923420859272caffdd23c9285741dee">MBlendState::kRedChannel</a>   : 0;</div>
<div class="line">            mask |= (values[1]!=0) ? <a name="a51"></a><a class="code" href="./class_m_h_w_render_1_1_m_blend_state.html#a508bf9ce7f09728669b77bdc572a2340afd202a37bca20e94fcce6d2eb514ef71">MBlendState::kGreenChannel</a> : 0;</div>
<div class="line">            mask |= (values[2]!=0) ? <a name="a52"></a><a class="code" href="./class_m_h_w_render_1_1_m_blend_state.html#a508bf9ce7f09728669b77bdc572a2340a3413982bfa28274fd0153a37b7950aa3">MBlendState::kBlueChannel</a>  : 0;</div>
<div class="line">            mask |= (values[3]!=0) ? <a name="a53"></a><a class="code" href="./class_m_h_w_render_1_1_m_blend_state.html#a508bf9ce7f09728669b77bdc572a2340a49d7d249c9c91e4ce0132bcffe5d73d9">MBlendState::kAlphaChannel</a> : 0;</div>
<div class="line"></div>
<div class="line"> <span class="comment">// We always use the target 0 since the CgFX plugin only</span></div>
<div class="line"> <span class="comment">// renders to a single framebuffer.</span></div>
<div class="line">            blendStateDesc-&gt;<a class="code" href="./class_m_h_w_render_1_1_m_blend_state_desc.html#ab6054509e76bc88d697a365e82c504c8">targetBlends</a>[0].<a name="a54"></a><a class="code" href="./class_m_h_w_render_1_1_m_target_blend_desc.html#a187b082600ea97d72d0298d34778c252">targetWriteMask</a> =</div>
<div class="line"> <a name="a55"></a><a class="code" href="./class_m_h_w_render_1_1_m_blend_state.html#a508bf9ce7f09728669b77bdc572a2340">MBlendState::ChannelMask</a>(mask);</div>
<div class="line">        }</div>
<div class="line"> <span class="keywordflow">else</span> {</div>
<div class="line"> <a class="code" href="./class_m_global.html#a4ddbe97e58a90e1ab05d45a62c006cf0">MGlobal::displayError</a>(WrongNumValues);</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"> <span class="comment">//******************************************************************************</span></div>
<div class="line"> <span class="comment">// Rasterizer states</span></div>
<div class="line"> <span class="comment">//******************************************************************************</span></div>
<div class="line"></div>
<div class="line"> <span class="keywordtype">void</span> assignHdlr_FillMode(</div>
<div class="line"> <span class="keyword">const</span> CGstateassignment&amp; sa,</div>
<div class="line"> <a class="code" href="./class_m_h_w_render_1_1_m_blend_state_desc.html">MBlendStateDesc</a>*         <span class="comment">/* blendStateDesc */</span>,</div>
<div class="line"> <a class="code" href="./class_m_h_w_render_1_1_m_rasterizer_state_desc.html">MRasterizerStateDesc</a>*    rasterizerStateDesc,</div>
<div class="line"> <a class="code" href="./class_m_h_w_render_1_1_m_depth_stencil_state_desc.html">MDepthStencilStateDesc</a>*  <span class="comment">/* depthStencilStateDesc */</span>)</div>
<div class="line">    {</div>
<div class="line"> <span class="keywordtype">int</span> numValues = 0;</div>
<div class="line"> <span class="keyword">const</span> <span class="keywordtype">int</span> *values = cgGetIntStateAssignmentValues(sa, &amp;numValues);</div>
<div class="line"> <span class="keywordflow">if</span> (numValues &gt;= 1) {</div>
<div class="line"> <span class="keywordflow">switch</span>(values[0])</div>
<div class="line">            {</div>
<div class="line"> <span class="keywordflow">case</span> GL_FILL:  rasterizerStateDesc-&gt;<a name="a56"></a><a class="code" href="./class_m_h_w_render_1_1_m_rasterizer_state_desc.html#a46fb5863fb478c76999b012605b7809e">fillMode</a> = <a name="a57"></a><a class="code" href="./class_m_h_w_render_1_1_m_rasterizer_state.html#a75a9acd74effffae38daed55136b0980ab6cc17dcad5774f5e5c959bbaaaac71c">MRasterizerState::kFillSolid</a>; <span class="keywordflow">break</span>;</div>
<div class="line"> <span class="keywordflow">case</span> GL_LINE:  rasterizerStateDesc-&gt;<a class="code" href="./class_m_h_w_render_1_1_m_rasterizer_state_desc.html#a46fb5863fb478c76999b012605b7809e">fillMode</a> = <a name="a58"></a><a class="code" href="./class_m_h_w_render_1_1_m_rasterizer_state.html#a75a9acd74effffae38daed55136b0980a93f7bebc1ac031198fe7659965168fbc">MRasterizerState::kFillWireFrame</a>; <span class="keywordflow">break</span>;</div>
<div class="line"> <span class="keywordflow">case</span> GL_POINT: <span class="comment">//we don't have such enum in MRasteriszerState, so pass</span></div>
<div class="line"> <span class="keywordflow">default</span>:; <span class="comment">//error</span></div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line"> <span class="keywordflow">else</span> {</div>
<div class="line"> <a class="code" href="./class_m_global.html#a4ddbe97e58a90e1ab05d45a62c006cf0">MGlobal::displayError</a>(WrongNumValues);</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line"> <span class="keywordtype">void</span> assignHdlr_CullFace(</div>
<div class="line"> <span class="keyword">const</span> CGstateassignment&amp; sa,</div>
<div class="line"> <a class="code" href="./class_m_h_w_render_1_1_m_blend_state_desc.html">MBlendStateDesc</a>*         <span class="comment">/* blendStateDesc */</span>,</div>
<div class="line"> <a class="code" href="./class_m_h_w_render_1_1_m_rasterizer_state_desc.html">MRasterizerStateDesc</a>*    rasterizerStateDesc,</div>
<div class="line"> <a class="code" href="./class_m_h_w_render_1_1_m_depth_stencil_state_desc.html">MDepthStencilStateDesc</a>*  <span class="comment">/* depthStencilStateDesc */</span>)</div>
<div class="line">    {</div>
<div class="line"> <span class="keywordtype">int</span> numValues = 0;</div>
<div class="line"> <span class="keyword">const</span> <span class="keywordtype">int</span> *values = cgGetIntStateAssignmentValues(sa, &amp;numValues);</div>
<div class="line"> <span class="keywordflow">if</span> (numValues == 1) {</div>
<div class="line"> <span class="keywordflow">switch</span>(values[0])</div>
<div class="line">            {</div>
<div class="line"> <span class="keywordflow">case</span> GL_FRONT: rasterizerStateDesc-&gt;<a name="a59"></a><a class="code" href="./class_m_h_w_render_1_1_m_rasterizer_state_desc.html#a5a9f0fe3d49830803b7a25440b2d19a6">cullMode</a> = <a name="a60"></a><a class="code" href="./class_m_h_w_render_1_1_m_rasterizer_state.html#a9602dcbc7b9991767e322a6f55541e8aaa2bfdab9ddd516d51dcdec76b2be463a">MRasterizerState::kCullFront</a>; <span class="keywordflow">break</span>;</div>
<div class="line"> <span class="keywordflow">case</span> GL_BACK:  rasterizerStateDesc-&gt;<a class="code" href="./class_m_h_w_render_1_1_m_rasterizer_state_desc.html#a5a9f0fe3d49830803b7a25440b2d19a6">cullMode</a> = <a name="a61"></a><a class="code" href="./class_m_h_w_render_1_1_m_rasterizer_state.html#a9602dcbc7b9991767e322a6f55541e8aad2157571dec56cac60f0af75d6ac7123">MRasterizerState::kCullBack</a>;  <span class="keywordflow">break</span>;</div>
<div class="line"> <span class="keywordflow">case</span> GL_FRONT_AND_BACK:   <span class="comment">//we don't have such enum in MRasteriszerState, so pass</span></div>
<div class="line"> <span class="keywordflow">default</span>:; <span class="comment">//error</span></div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line"> <span class="keywordflow">else</span> {</div>
<div class="line"> <a class="code" href="./class_m_global.html#a4ddbe97e58a90e1ab05d45a62c006cf0">MGlobal::displayError</a>(WrongNumValues);</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line"> <span class="keywordtype">void</span> assignHdlr_CullFaceEnable(</div>
<div class="line"> <span class="keyword">const</span> CGstateassignment&amp; sa,</div>
<div class="line"> <a class="code" href="./class_m_h_w_render_1_1_m_blend_state_desc.html">MBlendStateDesc</a>*         <span class="comment">/* blendStateDesc */</span>,</div>
<div class="line"> <a class="code" href="./class_m_h_w_render_1_1_m_rasterizer_state_desc.html">MRasterizerStateDesc</a>*    rasterizerStateDesc,</div>
<div class="line"> <a class="code" href="./class_m_h_w_render_1_1_m_depth_stencil_state_desc.html">MDepthStencilStateDesc</a>*  <span class="comment">/* depthStencilStateDesc */</span>)</div>
<div class="line">    {</div>
<div class="line"> <span class="keywordtype">int</span> numValues = 0;</div>
<div class="line"> <span class="keyword">const</span> CGbool *values = cgGetBoolStateAssignmentValues(sa, &amp;numValues);</div>
<div class="line"> <span class="keywordflow">if</span> (numValues == 1) {</div>
<div class="line"> <span class="keywordflow">if</span>(values[0] == CG_TRUE) {</div>
<div class="line"> <span class="comment">//use default cull mode if cull is enabled</span></div>
<div class="line">                rasterizerStateDesc-&gt;<a class="code" href="./class_m_h_w_render_1_1_m_rasterizer_state_desc.html#a5a9f0fe3d49830803b7a25440b2d19a6">cullMode</a> = <a class="code" href="./class_m_h_w_render_1_1_m_rasterizer_state.html#a9602dcbc7b9991767e322a6f55541e8aad2157571dec56cac60f0af75d6ac7123">MRasterizerState::kCullBack</a>;</div>
<div class="line"></div>
<div class="line">            }</div>
<div class="line"> <span class="keywordflow">else</span> {</div>
<div class="line">                rasterizerStateDesc-&gt;<a class="code" href="./class_m_h_w_render_1_1_m_rasterizer_state_desc.html#a5a9f0fe3d49830803b7a25440b2d19a6">cullMode</a> = <a name="a62"></a><a class="code" href="./class_m_h_w_render_1_1_m_rasterizer_state.html#a9602dcbc7b9991767e322a6f55541e8aaa6657ab67920a4dcc6e0a30044cc5487">MRasterizerState::kCullNone</a>;</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line"> <span class="keywordflow">else</span> {</div>
<div class="line"> <a class="code" href="./class_m_global.html#a4ddbe97e58a90e1ab05d45a62c006cf0">MGlobal::displayError</a>(WrongNumValues);</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line"> <span class="keywordtype">void</span> assignHdlr_FrontFace(</div>
<div class="line"> <span class="keyword">const</span> CGstateassignment&amp; sa,</div>
<div class="line"> <a class="code" href="./class_m_h_w_render_1_1_m_blend_state_desc.html">MBlendStateDesc</a>*         <span class="comment">/* blendStateDesc */</span>,</div>
<div class="line"> <a class="code" href="./class_m_h_w_render_1_1_m_rasterizer_state_desc.html">MRasterizerStateDesc</a>*    rasterizerStateDesc,</div>
<div class="line"> <a class="code" href="./class_m_h_w_render_1_1_m_depth_stencil_state_desc.html">MDepthStencilStateDesc</a>*  <span class="comment">/* depthStencilStateDesc */</span>)</div>
<div class="line">    {</div>
<div class="line"> <span class="keywordtype">int</span> numValues = 0;</div>
<div class="line"> <span class="keyword">const</span> <span class="keywordtype">int</span> *values = cgGetIntStateAssignmentValues(sa, &amp;numValues);</div>
<div class="line"> <span class="keywordflow">if</span> (numValues == 1) {</div>
<div class="line"> <span class="keywordflow">switch</span>(values[0])</div>
<div class="line">            {</div>
<div class="line"> <span class="keywordflow">case</span> GL_CW:  rasterizerStateDesc-&gt;<a name="a63"></a><a class="code" href="./class_m_h_w_render_1_1_m_rasterizer_state_desc.html#a6fc1637df72a635bc7c013d57b2398ef">frontCounterClockwise</a> = <span class="keyword">false</span>; <span class="keywordflow">break</span>;</div>
<div class="line"> <span class="keywordflow">case</span> GL_CCW: rasterizerStateDesc-&gt;<a class="code" href="./class_m_h_w_render_1_1_m_rasterizer_state_desc.html#a6fc1637df72a635bc7c013d57b2398ef">frontCounterClockwise</a> = <span class="keyword">true</span>; <span class="keywordflow">break</span>;</div>
<div class="line"> <span class="keywordflow">default</span>:; <span class="comment">//error</span></div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line"> <span class="keywordflow">else</span> {</div>
<div class="line"> <a class="code" href="./class_m_global.html#a4ddbe97e58a90e1ab05d45a62c006cf0">MGlobal::displayError</a>(WrongNumValues);</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line"> <span class="keywordtype">void</span> assignHdlr_PolygonMode(</div>
<div class="line"> <span class="keyword">const</span> CGstateassignment&amp; sa,</div>
<div class="line"> <a class="code" href="./class_m_h_w_render_1_1_m_blend_state_desc.html">MBlendStateDesc</a>*         <span class="comment">/* blendStateDesc */</span>,</div>
<div class="line"> <a class="code" href="./class_m_h_w_render_1_1_m_rasterizer_state_desc.html">MRasterizerStateDesc</a>*    rasterizerStateDesc,</div>
<div class="line"> <a class="code" href="./class_m_h_w_render_1_1_m_depth_stencil_state_desc.html">MDepthStencilStateDesc</a>*  <span class="comment">/* depthStencilStateDesc */</span>)</div>
<div class="line">    {</div>
<div class="line"> <span class="keywordtype">int</span> numValues = 0;</div>
<div class="line"> <span class="keyword">const</span> <span class="keywordtype">int</span> *values = cgGetIntStateAssignmentValues(sa, &amp;numValues);</div>
<div class="line"> <span class="keywordflow">if</span> (numValues == 2) {</div>
<div class="line"> <span class="keywordflow">switch</span>(values[0])</div>
<div class="line">            {</div>
<div class="line"> <span class="keywordflow">case</span> GL_FRONT: rasterizerStateDesc-&gt;<a class="code" href="./class_m_h_w_render_1_1_m_rasterizer_state_desc.html#a5a9f0fe3d49830803b7a25440b2d19a6">cullMode</a> = <a class="code" href="./class_m_h_w_render_1_1_m_rasterizer_state.html#a9602dcbc7b9991767e322a6f55541e8aaa2bfdab9ddd516d51dcdec76b2be463a">MRasterizerState::kCullFront</a>; <span class="keywordflow">break</span>;</div>
<div class="line"> <span class="keywordflow">case</span> GL_BACK:  rasterizerStateDesc-&gt;<a class="code" href="./class_m_h_w_render_1_1_m_rasterizer_state_desc.html#a5a9f0fe3d49830803b7a25440b2d19a6">cullMode</a> = <a class="code" href="./class_m_h_w_render_1_1_m_rasterizer_state.html#a9602dcbc7b9991767e322a6f55541e8aad2157571dec56cac60f0af75d6ac7123">MRasterizerState::kCullBack</a>;  <span class="keywordflow">break</span>;</div>
<div class="line"> <span class="keywordflow">case</span> GL_FRONT_AND_BACK:   <span class="comment">//we don't have such enum in MRasteriszerState, so pass</span></div>
<div class="line"> <span class="keywordflow">default</span>:; <span class="comment">//error</span></div>
<div class="line">            }</div>
<div class="line"> <span class="keywordflow">switch</span>(values[1])</div>
<div class="line">            {</div>
<div class="line"> <span class="keywordflow">case</span> GL_FILL:  rasterizerStateDesc-&gt;<a class="code" href="./class_m_h_w_render_1_1_m_rasterizer_state_desc.html#a46fb5863fb478c76999b012605b7809e">fillMode</a> = <a class="code" href="./class_m_h_w_render_1_1_m_rasterizer_state.html#a75a9acd74effffae38daed55136b0980ab6cc17dcad5774f5e5c959bbaaaac71c">MRasterizerState::kFillSolid</a>; <span class="keywordflow">break</span>;</div>
<div class="line"> <span class="keywordflow">case</span> GL_LINE:  rasterizerStateDesc-&gt;<a class="code" href="./class_m_h_w_render_1_1_m_rasterizer_state_desc.html#a46fb5863fb478c76999b012605b7809e">fillMode</a> = <a class="code" href="./class_m_h_w_render_1_1_m_rasterizer_state.html#a75a9acd74effffae38daed55136b0980a93f7bebc1ac031198fe7659965168fbc">MRasterizerState::kFillWireFrame</a>; <span class="keywordflow">break</span>;</div>
<div class="line"> <span class="keywordflow">case</span> GL_POINT: <span class="comment">//we don't have such enum in MRasteriszerState, so pass</span></div>
<div class="line"> <span class="keywordflow">default</span>:; <span class="comment">//error</span></div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line"> <span class="keywordflow">else</span> {</div>
<div class="line"> <a class="code" href="./class_m_global.html#a4ddbe97e58a90e1ab05d45a62c006cf0">MGlobal::displayError</a>(WrongNumValues);</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line"> <span class="keywordtype">void</span> assignHdlr_PolygonOffset(</div>
<div class="line"> <span class="keyword">const</span> CGstateassignment&amp; sa,</div>
<div class="line"> <a class="code" href="./class_m_h_w_render_1_1_m_blend_state_desc.html">MBlendStateDesc</a>*         <span class="comment">/* blendStateDesc */</span>,</div>
<div class="line"> <a class="code" href="./class_m_h_w_render_1_1_m_rasterizer_state_desc.html">MRasterizerStateDesc</a>*    rasterizerStateDesc,</div>
<div class="line"> <a class="code" href="./class_m_h_w_render_1_1_m_depth_stencil_state_desc.html">MDepthStencilStateDesc</a>*  <span class="comment">/* depthStencilStateDesc */</span>)</div>
<div class="line">    {</div>
<div class="line"> <span class="keywordtype">int</span> numValues = 0;</div>
<div class="line"> <span class="keyword">const</span> <span class="keywordtype">float</span> *values = cgGetFloatStateAssignmentValues(sa, &amp;numValues);</div>
<div class="line"> <span class="keywordflow">if</span> (numValues == 2) {</div>
<div class="line">            rasterizerStateDesc-&gt;<a name="a64"></a><a class="code" href="./class_m_h_w_render_1_1_m_rasterizer_state_desc.html#a7d6c8cc49b0374cb87605d24acacd4e2">slopeScaledDepthBias</a> = values[0];</div>
<div class="line">            rasterizerStateDesc-&gt;<a name="a65"></a><a class="code" href="./class_m_h_w_render_1_1_m_rasterizer_state_desc.html#a2894fe1122185e1e681e79ab7cfeb8d6">depthBias</a> = values[1];</div>
<div class="line">            rasterizerStateDesc-&gt;<a name="a66"></a><a class="code" href="./class_m_h_w_render_1_1_m_rasterizer_state_desc.html#a0c22bd503abc493c0b54ba8a7593a6d8">depthBiasIsFloat</a> = <span class="keyword">true</span>;</div>
<div class="line">        }</div>
<div class="line"> <span class="keywordflow">else</span> {</div>
<div class="line"> <a class="code" href="./class_m_global.html#a4ddbe97e58a90e1ab05d45a62c006cf0">MGlobal::displayError</a>(WrongNumValues);</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line"> <span class="keywordtype">void</span> assignHdlr_DepthBias(</div>
<div class="line"> <span class="keyword">const</span> CGstateassignment&amp; sa,</div>
<div class="line"> <a class="code" href="./class_m_h_w_render_1_1_m_blend_state_desc.html">MBlendStateDesc</a>*         <span class="comment">/* blendStateDesc */</span>,</div>
<div class="line"> <a class="code" href="./class_m_h_w_render_1_1_m_rasterizer_state_desc.html">MRasterizerStateDesc</a>*    rasterizerStateDesc,</div>
<div class="line"> <a class="code" href="./class_m_h_w_render_1_1_m_depth_stencil_state_desc.html">MDepthStencilStateDesc</a>*  <span class="comment">/* depthStencilStateDesc */</span>)</div>
<div class="line">    {</div>
<div class="line"> <span class="keywordtype">int</span> numValues = 0;</div>
<div class="line"> <span class="keyword">const</span> <span class="keywordtype">float</span> *values = cgGetFloatStateAssignmentValues(sa, &amp;numValues);</div>
<div class="line"> <span class="keywordflow">if</span> (numValues == 1) {</div>
<div class="line">            rasterizerStateDesc-&gt;<a class="code" href="./class_m_h_w_render_1_1_m_rasterizer_state_desc.html#a2894fe1122185e1e681e79ab7cfeb8d6">depthBias</a> = values[0];</div>
<div class="line">            rasterizerStateDesc-&gt;<a class="code" href="./class_m_h_w_render_1_1_m_rasterizer_state_desc.html#a0c22bd503abc493c0b54ba8a7593a6d8">depthBiasIsFloat</a> = <span class="keyword">true</span>;</div>
<div class="line">        }</div>
<div class="line"> <span class="keywordflow">else</span> {</div>
<div class="line"> <a class="code" href="./class_m_global.html#a4ddbe97e58a90e1ab05d45a62c006cf0">MGlobal::displayError</a>(WrongNumValues);</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line"> <span class="keywordtype">void</span> assignHdlr_SlopScaleDepthBias(</div>
<div class="line"> <span class="keyword">const</span> CGstateassignment&amp; sa,</div>
<div class="line"> <a class="code" href="./class_m_h_w_render_1_1_m_blend_state_desc.html">MBlendStateDesc</a>*         <span class="comment">/* blendStateDesc */</span>,</div>
<div class="line"> <a class="code" href="./class_m_h_w_render_1_1_m_rasterizer_state_desc.html">MRasterizerStateDesc</a>*    rasterizerStateDesc,</div>
<div class="line"> <a class="code" href="./class_m_h_w_render_1_1_m_depth_stencil_state_desc.html">MDepthStencilStateDesc</a>*  <span class="comment">/* depthStencilStateDesc */</span>)</div>
<div class="line">    {</div>
<div class="line"> <span class="keywordtype">int</span> numValues = 0;</div>
<div class="line"> <span class="keyword">const</span> <span class="keywordtype">float</span> *values = cgGetFloatStateAssignmentValues(sa, &amp;numValues);</div>
<div class="line"> <span class="keywordflow">if</span> (numValues == 1) {</div>
<div class="line">            rasterizerStateDesc-&gt;<a class="code" href="./class_m_h_w_render_1_1_m_rasterizer_state_desc.html#a7d6c8cc49b0374cb87605d24acacd4e2">slopeScaledDepthBias</a> = values[0];</div>
<div class="line">        }</div>
<div class="line"> <span class="keywordflow">else</span> {</div>
<div class="line"> <a class="code" href="./class_m_global.html#a4ddbe97e58a90e1ab05d45a62c006cf0">MGlobal::displayError</a>(WrongNumValues);</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line"> <span class="keywordtype">void</span> assignHdlr_PolygonOffsetFillEnable(</div>
<div class="line"> <span class="keyword">const</span> CGstateassignment&amp; sa,</div>
<div class="line"> <a class="code" href="./class_m_h_w_render_1_1_m_blend_state_desc.html">MBlendStateDesc</a>*         <span class="comment">/* blendStateDesc */</span>,</div>
<div class="line"> <a class="code" href="./class_m_h_w_render_1_1_m_rasterizer_state_desc.html">MRasterizerStateDesc</a>*    rasterizerStateDesc,</div>
<div class="line"> <a class="code" href="./class_m_h_w_render_1_1_m_depth_stencil_state_desc.html">MDepthStencilStateDesc</a>*  <span class="comment">/* depthStencilStateDesc */</span>)</div>
<div class="line">    {</div>
<div class="line"> <span class="keywordtype">int</span> numValues = 0;</div>
<div class="line"> <span class="keyword">const</span> CGbool *values = cgGetBoolStateAssignmentValues(sa, &amp;numValues);</div>
<div class="line"> <span class="keywordflow">if</span> (numValues == 1) {</div>
<div class="line">            rasterizerStateDesc-&gt;<a name="a67"></a><a class="code" href="./class_m_h_w_render_1_1_m_rasterizer_state_desc.html#a19c867eb902deeadc492fa246f662b29">depthClipEnable</a> = (values[0] == CG_TRUE) ? <span class="keyword">true</span> : <span class="keyword">false</span>;</div>
<div class="line">        }</div>
<div class="line"> <span class="keywordflow">else</span> {</div>
<div class="line"> <a class="code" href="./class_m_global.html#a4ddbe97e58a90e1ab05d45a62c006cf0">MGlobal::displayError</a>(WrongNumValues);</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line"> <span class="keywordtype">void</span> assignHdlr_ScissorTestEnable(</div>
<div class="line"> <span class="keyword">const</span> CGstateassignment&amp; sa,</div>
<div class="line"> <a class="code" href="./class_m_h_w_render_1_1_m_blend_state_desc.html">MBlendStateDesc</a>*         <span class="comment">/* blendStateDesc */</span>,</div>
<div class="line"> <a class="code" href="./class_m_h_w_render_1_1_m_rasterizer_state_desc.html">MRasterizerStateDesc</a>*    rasterizerStateDesc,</div>
<div class="line"> <a class="code" href="./class_m_h_w_render_1_1_m_depth_stencil_state_desc.html">MDepthStencilStateDesc</a>*  <span class="comment">/* depthStencilStateDesc */</span>)</div>
<div class="line">    {</div>
<div class="line"> <span class="keywordtype">int</span> numValues = 0;</div>
<div class="line"> <span class="keyword">const</span> CGbool *values = cgGetBoolStateAssignmentValues(sa, &amp;numValues);</div>
<div class="line"> <span class="keywordflow">if</span> (numValues == 1) {</div>
<div class="line">            rasterizerStateDesc-&gt;<a name="a68"></a><a class="code" href="./class_m_h_w_render_1_1_m_rasterizer_state_desc.html#a52b4cdd20f7f4847f7a3fdec28c2565c">scissorEnable</a> = (values[0] == CG_TRUE) ? <span class="keyword">true</span> : <span class="keyword">false</span>;</div>
<div class="line">        }</div>
<div class="line"> <span class="keywordflow">else</span> {</div>
<div class="line"> <a class="code" href="./class_m_global.html#a4ddbe97e58a90e1ab05d45a62c006cf0">MGlobal::displayError</a>(WrongNumValues);</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line"> <span class="keywordtype">void</span> assignHdlr_MultisampleEnable(</div>
<div class="line"> <span class="keyword">const</span> CGstateassignment&amp; sa,</div>
<div class="line"> <a class="code" href="./class_m_h_w_render_1_1_m_blend_state_desc.html">MBlendStateDesc</a>*         <span class="comment">/* blendStateDesc */</span>,</div>
<div class="line"> <a class="code" href="./class_m_h_w_render_1_1_m_rasterizer_state_desc.html">MRasterizerStateDesc</a>*    rasterizerStateDesc,</div>
<div class="line"> <a class="code" href="./class_m_h_w_render_1_1_m_depth_stencil_state_desc.html">MDepthStencilStateDesc</a>*  <span class="comment">/* depthStencilStateDesc */</span>)</div>
<div class="line">    {</div>
<div class="line"> <span class="keywordtype">int</span> numValues = 0;</div>
<div class="line"> <span class="keyword">const</span> CGbool *values = cgGetBoolStateAssignmentValues(sa, &amp;numValues);</div>
<div class="line"> <span class="keywordflow">if</span> (numValues == 1) {</div>
<div class="line">            rasterizerStateDesc-&gt;<a name="a69"></a><a class="code" href="./class_m_h_w_render_1_1_m_rasterizer_state_desc.html#a0014b3f735f6f94469377ca0ce55c199">multiSampleEnable</a> = (values[0] == CG_TRUE) ? <span class="keyword">true</span> : <span class="keyword">false</span>;</div>
<div class="line">        }</div>
<div class="line"> <span class="keywordflow">else</span> {</div>
<div class="line"> <a class="code" href="./class_m_global.html#a4ddbe97e58a90e1ab05d45a62c006cf0">MGlobal::displayError</a>(WrongNumValues);</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line"> <span class="keywordtype">void</span> assignHdlr_LineSmoothEnable(</div>
<div class="line"> <span class="keyword">const</span> CGstateassignment&amp; sa,</div>
<div class="line"> <a class="code" href="./class_m_h_w_render_1_1_m_blend_state_desc.html">MBlendStateDesc</a>*         <span class="comment">/* blendStateDesc */</span>,</div>
<div class="line"> <a class="code" href="./class_m_h_w_render_1_1_m_rasterizer_state_desc.html">MRasterizerStateDesc</a>*    rasterizerStateDesc,</div>
<div class="line"> <a class="code" href="./class_m_h_w_render_1_1_m_depth_stencil_state_desc.html">MDepthStencilStateDesc</a>*  <span class="comment">/* depthStencilStateDesc */</span>)</div>
<div class="line">    {</div>
<div class="line"> <span class="keywordtype">int</span> numValues = 0;</div>
<div class="line"> <span class="keyword">const</span> CGbool *values = cgGetBoolStateAssignmentValues(sa, &amp;numValues);</div>
<div class="line"> <span class="keywordflow">if</span> (numValues == 1) {</div>
<div class="line">            rasterizerStateDesc-&gt;<a name="a70"></a><a class="code" href="./class_m_h_w_render_1_1_m_rasterizer_state_desc.html#a5e83624750785537c8a23e42750703ce">antialiasedLineEnable</a> = (values[0] == CG_TRUE) ? <span class="keyword">true</span> : <span class="keyword">false</span>;</div>
<div class="line">        }</div>
<div class="line"> <span class="keywordflow">else</span> {</div>
<div class="line"> <a class="code" href="./class_m_global.html#a4ddbe97e58a90e1ab05d45a62c006cf0">MGlobal::displayError</a>(WrongNumValues);</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line"> <span class="comment">//******************************************************************************</span></div>
<div class="line"> <span class="comment">// Depth and stencil states</span></div>
<div class="line"> <span class="comment">//******************************************************************************</span></div>
<div class="line"></div>
<div class="line"> <span class="keywordtype">void</span> assignHdlr_DepthTestEnable(</div>
<div class="line"> <span class="keyword">const</span> CGstateassignment&amp; sa,</div>
<div class="line"> <a class="code" href="./class_m_h_w_render_1_1_m_blend_state_desc.html">MBlendStateDesc</a>*         <span class="comment">/* blendStateDesc */</span>,</div>
<div class="line"> <a class="code" href="./class_m_h_w_render_1_1_m_rasterizer_state_desc.html">MRasterizerStateDesc</a>*    <span class="comment">/* rasterizerStateDesc */</span>,</div>
<div class="line"> <a class="code" href="./class_m_h_w_render_1_1_m_depth_stencil_state_desc.html">MDepthStencilStateDesc</a>*  depthStencilStateDesc)</div>
<div class="line">    {</div>
<div class="line"> <span class="keywordtype">int</span> numValues = 0;</div>
<div class="line"> <span class="keyword">const</span> CGbool *values = cgGetBoolStateAssignmentValues(sa, &amp;numValues);</div>
<div class="line"> <span class="keywordflow">if</span> (numValues == 1) {</div>
<div class="line"> <span class="keyword">const</span> <span class="keywordtype">bool</span> value = (values[0] == CG_TRUE) ? <span class="keyword">true</span> : <span class="keyword">false</span>;</div>
<div class="line">            depthStencilStateDesc-&gt;<a name="a71"></a><a class="code" href="./class_m_h_w_render_1_1_m_depth_stencil_state_desc.html#a63deb05e0b27e537fcd7ecb470b68725">depthEnable</a> = value;</div>
<div class="line">        }</div>
<div class="line"> <span class="keywordflow">else</span> {</div>
<div class="line"> <a class="code" href="./class_m_global.html#a4ddbe97e58a90e1ab05d45a62c006cf0">MGlobal::displayError</a>(WrongNumValues);</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line"> <span class="keywordtype">void</span> assignHdlr_DepthMask(</div>
<div class="line"> <span class="keyword">const</span> CGstateassignment&amp; sa,</div>
<div class="line"> <a class="code" href="./class_m_h_w_render_1_1_m_blend_state_desc.html">MBlendStateDesc</a>*         <span class="comment">/* blendStateDesc */</span>,</div>
<div class="line"> <a class="code" href="./class_m_h_w_render_1_1_m_rasterizer_state_desc.html">MRasterizerStateDesc</a>*    <span class="comment">/* rasterizerStateDesc */</span>,</div>
<div class="line"> <a class="code" href="./class_m_h_w_render_1_1_m_depth_stencil_state_desc.html">MDepthStencilStateDesc</a>*  depthStencilStateDesc)</div>
<div class="line">    {</div>
<div class="line"> <span class="keywordtype">int</span> numValues = 0;</div>
<div class="line"> <span class="keyword">const</span> CGbool *values = cgGetBoolStateAssignmentValues(sa, &amp;numValues);</div>
<div class="line"> <span class="keywordflow">if</span> (numValues == 1) {</div>
<div class="line"> <span class="keyword">const</span> <span class="keywordtype">bool</span> value = (values[0] == CG_TRUE) ? <span class="keyword">true</span> : <span class="keyword">false</span>;</div>
<div class="line">            depthStencilStateDesc-&gt;<a name="a72"></a><a class="code" href="./class_m_h_w_render_1_1_m_depth_stencil_state_desc.html#a1944b0918378af218375dd45c1f191d1">depthWriteEnable</a> = value;</div>
<div class="line">        }</div>
<div class="line"> <span class="keywordflow">else</span> {</div>
<div class="line"> <a class="code" href="./class_m_global.html#a4ddbe97e58a90e1ab05d45a62c006cf0">MGlobal::displayError</a>(WrongNumValues);</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line"> <span class="keywordtype">void</span> assignHdlr_DepthFunc(</div>
<div class="line"> <span class="keyword">const</span> CGstateassignment&amp; sa,</div>
<div class="line"> <a class="code" href="./class_m_h_w_render_1_1_m_blend_state_desc.html">MBlendStateDesc</a>*         <span class="comment">/* blendStateDesc */</span>,</div>
<div class="line"> <a class="code" href="./class_m_h_w_render_1_1_m_rasterizer_state_desc.html">MRasterizerStateDesc</a>*    <span class="comment">/* rasterizerStateDesc */</span>,</div>
<div class="line"> <a class="code" href="./class_m_h_w_render_1_1_m_depth_stencil_state_desc.html">MDepthStencilStateDesc</a>*  depthStencilStateDesc)</div>
<div class="line">    {</div>
<div class="line"> <span class="keywordtype">int</span> numValues = 0;</div>
<div class="line"> <span class="keyword">const</span> <span class="keywordtype">int</span> *values = cgGetIntStateAssignmentValues(sa, &amp;numValues);</div>
<div class="line"> <span class="keywordflow">if</span>(numValues == 1) {</div>
<div class="line">            depthStencilStateDesc-&gt;<a name="a73"></a><a class="code" href="./class_m_h_w_render_1_1_m_depth_stencil_state_desc.html#aece62b93b1909efb0c8f3a2a0d9f7fff">depthFunc</a> = mapCompareMode(values[0]);</div>
<div class="line">        }</div>
<div class="line"> <span class="keywordflow">else</span> {</div>
<div class="line"> <a class="code" href="./class_m_global.html#a4ddbe97e58a90e1ab05d45a62c006cf0">MGlobal::displayError</a>(WrongNumValues);</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line"> <span class="keywordtype">void</span> assignHdlr_StencilEnable(</div>
<div class="line"> <span class="keyword">const</span> CGstateassignment&amp; sa,</div>
<div class="line"> <a class="code" href="./class_m_h_w_render_1_1_m_blend_state_desc.html">MBlendStateDesc</a>*         <span class="comment">/* blendStateDesc */</span>,</div>
<div class="line"> <a class="code" href="./class_m_h_w_render_1_1_m_rasterizer_state_desc.html">MRasterizerStateDesc</a>*    <span class="comment">/* rasterizerStateDesc */</span>,</div>
<div class="line"> <a class="code" href="./class_m_h_w_render_1_1_m_depth_stencil_state_desc.html">MDepthStencilStateDesc</a>*  depthStencilStateDesc)</div>
<div class="line">    {</div>
<div class="line"> <span class="keywordtype">int</span> numValues = 0;</div>
<div class="line"> <span class="keyword">const</span> CGbool *values = cgGetBoolStateAssignmentValues(sa, &amp;numValues);</div>
<div class="line"> <span class="keywordflow">if</span> (numValues == 1) {</div>
<div class="line"> <span class="keyword">const</span> <span class="keywordtype">bool</span> value = (values[0] == CG_TRUE) ? <span class="keyword">true</span> : <span class="keyword">false</span>;</div>
<div class="line">            depthStencilStateDesc-&gt;<a name="a74"></a><a class="code" href="./class_m_h_w_render_1_1_m_depth_stencil_state_desc.html#a742c8a0eb885bafbc3f607d76fa5063a">stencilEnable</a> = value;</div>
<div class="line">        }</div>
<div class="line"> <span class="keywordflow">else</span> {</div>
<div class="line"> <a class="code" href="./class_m_global.html#a4ddbe97e58a90e1ab05d45a62c006cf0">MGlobal::displayError</a>(WrongNumValues);</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line"> <span class="keywordtype">void</span> assignHdlr_StencilWriteMask(</div>
<div class="line"> <span class="keyword">const</span> CGstateassignment&amp; sa,</div>
<div class="line"> <a class="code" href="./class_m_h_w_render_1_1_m_blend_state_desc.html">MBlendStateDesc</a>*         <span class="comment">/* blendStateDesc */</span>,</div>
<div class="line"> <a class="code" href="./class_m_h_w_render_1_1_m_rasterizer_state_desc.html">MRasterizerStateDesc</a>*    <span class="comment">/* rasterizerStateDesc */</span>,</div>
<div class="line"> <a class="code" href="./class_m_h_w_render_1_1_m_depth_stencil_state_desc.html">MDepthStencilStateDesc</a>*  depthStencilStateDesc)</div>
<div class="line">    {</div>
<div class="line"> <span class="keywordtype">int</span> numValues = 0;</div>
<div class="line"> <span class="keyword">const</span> <span class="keywordtype">int</span> *values = cgGetIntStateAssignmentValues(sa, &amp;numValues);</div>
<div class="line"> <span class="keywordflow">if</span> (numValues == 1)</div>
<div class="line">        {</div>
<div class="line">            depthStencilStateDesc-&gt;<a name="a75"></a><a class="code" href="./class_m_h_w_render_1_1_m_depth_stencil_state_desc.html#a8e861744605e5217260390c66343ff10">stencilWriteMask</a> = (<span class="keywordtype">unsigned</span> char)values[0];</div>
<div class="line">        }</div>
<div class="line"> <span class="keywordflow">else</span> {</div>
<div class="line"> <a class="code" href="./class_m_global.html#a4ddbe97e58a90e1ab05d45a62c006cf0">MGlobal::displayError</a>(WrongNumValues);</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line"> <span class="keywordtype">void</span> assignHdlr_StencilFunc(</div>
<div class="line"> <span class="keyword">const</span> CGstateassignment&amp; sa,</div>
<div class="line"> <a class="code" href="./class_m_h_w_render_1_1_m_blend_state_desc.html">MBlendStateDesc</a>*         <span class="comment">/* blendStateDesc */</span>,</div>
<div class="line"> <a class="code" href="./class_m_h_w_render_1_1_m_rasterizer_state_desc.html">MRasterizerStateDesc</a>*    <span class="comment">/* rasterizerStateDesc */</span>,</div>
<div class="line"> <a class="code" href="./class_m_h_w_render_1_1_m_depth_stencil_state_desc.html">MDepthStencilStateDesc</a>*  depthStencilStateDesc)</div>
<div class="line">    {</div>
<div class="line"> <span class="keywordtype">int</span> numValues = 0;</div>
<div class="line"> <span class="keyword">const</span> <span class="keywordtype">int</span> *values = cgGetIntStateAssignmentValues(sa, &amp;numValues);</div>
<div class="line"> <span class="keywordflow">if</span> (numValues == 1) {</div>
<div class="line">            depthStencilStateDesc-&gt;<a name="a76"></a><a class="code" href="./class_m_h_w_render_1_1_m_depth_stencil_state_desc.html#ab71cf4c0b589679608a82717c15a5e33">frontFace</a>.<a name="a77"></a><a class="code" href="./class_m_h_w_render_1_1_m_stencil_op_desc.html#ac311347988e8679cefd31c9a4f797faa">stencilFunc</a> =</div>
<div class="line">                mapCompareMode(values[0]);</div>
<div class="line">            depthStencilStateDesc-&gt;<a name="a78"></a><a class="code" href="./class_m_h_w_render_1_1_m_depth_stencil_state_desc.html#a55af5b0011d4a2053953557923debbf2">backFace</a>.<a class="code" href="./class_m_h_w_render_1_1_m_stencil_op_desc.html#ac311347988e8679cefd31c9a4f797faa">stencilFunc</a> =</div>
<div class="line">                mapCompareMode(values[0]);</div>
<div class="line">        }</div>
<div class="line"> <span class="keywordflow">else</span> <span class="keywordflow">if</span> (numValues == 3)</div>
<div class="line">        {</div>
<div class="line">            depthStencilStateDesc-&gt;<a class="code" href="./class_m_h_w_render_1_1_m_depth_stencil_state_desc.html#ab71cf4c0b589679608a82717c15a5e33">frontFace</a>.<a class="code" href="./class_m_h_w_render_1_1_m_stencil_op_desc.html#ac311347988e8679cefd31c9a4f797faa">stencilFunc</a> =</div>
<div class="line">                mapCompareMode(values[0]);</div>
<div class="line">            depthStencilStateDesc-&gt;<a class="code" href="./class_m_h_w_render_1_1_m_depth_stencil_state_desc.html#a55af5b0011d4a2053953557923debbf2">backFace</a>.<a class="code" href="./class_m_h_w_render_1_1_m_stencil_op_desc.html#ac311347988e8679cefd31c9a4f797faa">stencilFunc</a> =</div>
<div class="line">                mapCompareMode(values[0]);</div>
<div class="line">            depthStencilStateDesc-&gt;<a name="a79"></a><a class="code" href="./class_m_h_w_render_1_1_m_depth_stencil_state_desc.html#aea5d4fdc9bfc7e2040e39952ae3bedb3">stencilReferenceVal</a> = values[1];</div>
<div class="line">            depthStencilStateDesc-&gt;<a name="a80"></a><a class="code" href="./class_m_h_w_render_1_1_m_depth_stencil_state_desc.html#a49c8f18ab242315420ea35690f2c5c00">stencilReadMask</a>     = (<span class="keywordtype">unsigned</span> char)values[2];</div>
<div class="line">        }</div>
<div class="line"> <span class="keywordflow">else</span> {</div>
<div class="line"> <a class="code" href="./class_m_global.html#a4ddbe97e58a90e1ab05d45a62c006cf0">MGlobal::displayError</a>(WrongNumValues);</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line"> <span class="keywordtype">void</span> assignHdlr_StencilFuncSeparate(</div>
<div class="line"> <span class="keyword">const</span> CGstateassignment&amp; sa,</div>
<div class="line"> <a class="code" href="./class_m_h_w_render_1_1_m_blend_state_desc.html">MBlendStateDesc</a>*         <span class="comment">/* blendStateDesc */</span>,</div>
<div class="line"> <a class="code" href="./class_m_h_w_render_1_1_m_rasterizer_state_desc.html">MRasterizerStateDesc</a>*    <span class="comment">/* rasterizerStateDesc */</span>,</div>
<div class="line"> <a class="code" href="./class_m_h_w_render_1_1_m_depth_stencil_state_desc.html">MDepthStencilStateDesc</a>*  depthStencilStateDesc)</div>
<div class="line">    {</div>
<div class="line"> <span class="keywordtype">int</span> numValues = 0;</div>
<div class="line"> <span class="keyword">const</span> <span class="keywordtype">int</span> *values = cgGetIntStateAssignmentValues(sa, &amp;numValues);</div>
<div class="line"> <span class="keywordflow">if</span> (numValues == 4) {</div>
<div class="line"> <span class="keywordflow">switch</span> (values[0]) {</div>
<div class="line"> <span class="keywordflow">case</span> GL_FRONT:</div>
<div class="line">                    depthStencilStateDesc-&gt;<a class="code" href="./class_m_h_w_render_1_1_m_depth_stencil_state_desc.html#ab71cf4c0b589679608a82717c15a5e33">frontFace</a>.<a class="code" href="./class_m_h_w_render_1_1_m_stencil_op_desc.html#ac311347988e8679cefd31c9a4f797faa">stencilFunc</a> =</div>
<div class="line">                        mapCompareMode(values[1]);</div>
<div class="line"> <span class="keywordflow">break</span>;</div>
<div class="line"></div>
<div class="line"> <span class="keywordflow">case</span> GL_BACK:</div>
<div class="line">                    depthStencilStateDesc-&gt;<a class="code" href="./class_m_h_w_render_1_1_m_depth_stencil_state_desc.html#a55af5b0011d4a2053953557923debbf2">backFace</a>.<a class="code" href="./class_m_h_w_render_1_1_m_stencil_op_desc.html#ac311347988e8679cefd31c9a4f797faa">stencilFunc</a> =</div>
<div class="line">                        mapCompareMode(values[1]);</div>
<div class="line"> <span class="keywordflow">break</span>;</div>
<div class="line"></div>
<div class="line"> <span class="keywordflow">case</span> GL_FRONT_AND_BACK:</div>
<div class="line"> <span class="keywordflow">default</span>:</div>
<div class="line">                    depthStencilStateDesc-&gt;<a class="code" href="./class_m_h_w_render_1_1_m_depth_stencil_state_desc.html#ab71cf4c0b589679608a82717c15a5e33">frontFace</a>.<a class="code" href="./class_m_h_w_render_1_1_m_stencil_op_desc.html#ac311347988e8679cefd31c9a4f797faa">stencilFunc</a> =</div>
<div class="line">                        mapCompareMode(values[1]);</div>
<div class="line">                    depthStencilStateDesc-&gt;<a class="code" href="./class_m_h_w_render_1_1_m_depth_stencil_state_desc.html#a55af5b0011d4a2053953557923debbf2">backFace</a>.<a class="code" href="./class_m_h_w_render_1_1_m_stencil_op_desc.html#ac311347988e8679cefd31c9a4f797faa">stencilFunc</a> =</div>
<div class="line">                        mapCompareMode(values[1]);</div>
<div class="line"> <span class="keywordflow">break</span>;</div>
<div class="line">            }</div>
<div class="line"></div>
<div class="line"> <span class="comment">// Note: The OpenMaya API does not support seperate</span></div>
<div class="line"> <span class="comment">// reference and read mask for front and back faces.</span></div>
<div class="line">            depthStencilStateDesc-&gt;<a class="code" href="./class_m_h_w_render_1_1_m_depth_stencil_state_desc.html#aea5d4fdc9bfc7e2040e39952ae3bedb3">stencilReferenceVal</a> = values[2];</div>
<div class="line">            depthStencilStateDesc-&gt;<a class="code" href="./class_m_h_w_render_1_1_m_depth_stencil_state_desc.html#a49c8f18ab242315420ea35690f2c5c00">stencilReadMask</a>     = (<span class="keywordtype">unsigned</span> char)values[3];</div>
<div class="line">        }</div>
<div class="line"> <span class="keywordflow">else</span> {</div>
<div class="line"> <a class="code" href="./class_m_global.html#a4ddbe97e58a90e1ab05d45a62c006cf0">MGlobal::displayError</a>(WrongNumValues);</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line"> <span class="keywordtype">void</span> assignHdlr_StencilOp(</div>
<div class="line"> <span class="keyword">const</span> CGstateassignment&amp; sa,</div>
<div class="line"> <a class="code" href="./class_m_h_w_render_1_1_m_blend_state_desc.html">MBlendStateDesc</a>*         <span class="comment">/* blendStateDesc */</span>,</div>
<div class="line"> <a class="code" href="./class_m_h_w_render_1_1_m_rasterizer_state_desc.html">MRasterizerStateDesc</a>*    <span class="comment">/* rasterizerStateDesc */</span>,</div>
<div class="line"> <a class="code" href="./class_m_h_w_render_1_1_m_depth_stencil_state_desc.html">MDepthStencilStateDesc</a>*  depthStencilStateDesc)</div>
<div class="line">    {</div>
<div class="line"> <span class="keywordtype">int</span> numValues = 0;</div>
<div class="line"> <span class="keyword">const</span> <span class="keywordtype">int</span> *values = cgGetIntStateAssignmentValues(sa, &amp;numValues);</div>
<div class="line"> <span class="keywordflow">if</span> (numValues == 3) {</div>
<div class="line">            depthStencilStateDesc-&gt;<a class="code" href="./class_m_h_w_render_1_1_m_depth_stencil_state_desc.html#ab71cf4c0b589679608a82717c15a5e33">frontFace</a>.<a name="a81"></a><a class="code" href="./class_m_h_w_render_1_1_m_stencil_op_desc.html#a1eed3a7b5878b8ea1ce25f1c6f708797">stencilFailOp</a> =</div>
<div class="line">                mapStencilOperation(values[0]);</div>
<div class="line">            depthStencilStateDesc-&gt;<a class="code" href="./class_m_h_w_render_1_1_m_depth_stencil_state_desc.html#ab71cf4c0b589679608a82717c15a5e33">frontFace</a>.<a name="a82"></a><a class="code" href="./class_m_h_w_render_1_1_m_stencil_op_desc.html#ad9bceea8209e9b0f3e11a108891aef52">stencilDepthFailOp</a> =</div>
<div class="line">                mapStencilOperation(values[1]);</div>
<div class="line">            depthStencilStateDesc-&gt;<a class="code" href="./class_m_h_w_render_1_1_m_depth_stencil_state_desc.html#ab71cf4c0b589679608a82717c15a5e33">frontFace</a>.<a name="a83"></a><a class="code" href="./class_m_h_w_render_1_1_m_stencil_op_desc.html#af423dd1386a44a09a6a043c7a4ac4bb3">stencilPassOp</a> =</div>
<div class="line">                mapStencilOperation(values[2]);</div>
<div class="line"></div>
<div class="line">            depthStencilStateDesc-&gt;<a class="code" href="./class_m_h_w_render_1_1_m_depth_stencil_state_desc.html#a55af5b0011d4a2053953557923debbf2">backFace</a>.<a class="code" href="./class_m_h_w_render_1_1_m_stencil_op_desc.html#a1eed3a7b5878b8ea1ce25f1c6f708797">stencilFailOp</a> =</div>
<div class="line">                mapStencilOperation(values[0]);</div>
<div class="line">            depthStencilStateDesc-&gt;<a class="code" href="./class_m_h_w_render_1_1_m_depth_stencil_state_desc.html#a55af5b0011d4a2053953557923debbf2">backFace</a>.<a class="code" href="./class_m_h_w_render_1_1_m_stencil_op_desc.html#ad9bceea8209e9b0f3e11a108891aef52">stencilDepthFailOp</a> =</div>
<div class="line">                mapStencilOperation(values[1]);</div>
<div class="line">            depthStencilStateDesc-&gt;<a class="code" href="./class_m_h_w_render_1_1_m_depth_stencil_state_desc.html#a55af5b0011d4a2053953557923debbf2">backFace</a>.<a class="code" href="./class_m_h_w_render_1_1_m_stencil_op_desc.html#af423dd1386a44a09a6a043c7a4ac4bb3">stencilPassOp</a> =</div>
<div class="line">                mapStencilOperation(values[2]);</div>
<div class="line">        }</div>
<div class="line"> <span class="keywordflow">else</span> {</div>
<div class="line"> <a class="code" href="./class_m_global.html#a4ddbe97e58a90e1ab05d45a62c006cf0">MGlobal::displayError</a>(WrongNumValues);</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line"> <span class="keywordtype">void</span> assignHdlr_StencilOpSeparate(</div>
<div class="line"> <span class="keyword">const</span> CGstateassignment&amp; sa,</div>
<div class="line"> <a class="code" href="./class_m_h_w_render_1_1_m_blend_state_desc.html">MBlendStateDesc</a>*         <span class="comment">/* blendStateDesc */</span>,</div>
<div class="line"> <a class="code" href="./class_m_h_w_render_1_1_m_rasterizer_state_desc.html">MRasterizerStateDesc</a>*    <span class="comment">/* rasterizerStateDesc */</span>,</div>
<div class="line"> <a class="code" href="./class_m_h_w_render_1_1_m_depth_stencil_state_desc.html">MDepthStencilStateDesc</a>*  depthStencilStateDesc)</div>
<div class="line">    {</div>
<div class="line"> <span class="keywordtype">int</span> numValues = 0;</div>
<div class="line"> <span class="keyword">const</span> <span class="keywordtype">int</span> *values = cgGetIntStateAssignmentValues(sa, &amp;numValues);</div>
<div class="line"> <span class="keywordflow">if</span> (numValues == 4) {</div>
<div class="line"> <span class="keywordflow">if</span> (values[0] == GL_FRONT || values[0] == GL_FRONT_AND_BACK) {</div>
<div class="line">                depthStencilStateDesc-&gt;<a class="code" href="./class_m_h_w_render_1_1_m_depth_stencil_state_desc.html#ab71cf4c0b589679608a82717c15a5e33">frontFace</a>.<a class="code" href="./class_m_h_w_render_1_1_m_stencil_op_desc.html#a1eed3a7b5878b8ea1ce25f1c6f708797">stencilFailOp</a> =</div>
<div class="line">                    mapStencilOperation(values[1]);</div>
<div class="line">                depthStencilStateDesc-&gt;<a class="code" href="./class_m_h_w_render_1_1_m_depth_stencil_state_desc.html#ab71cf4c0b589679608a82717c15a5e33">frontFace</a>.<a class="code" href="./class_m_h_w_render_1_1_m_stencil_op_desc.html#ad9bceea8209e9b0f3e11a108891aef52">stencilDepthFailOp</a> =</div>
<div class="line">                    mapStencilOperation(values[2]);</div>
<div class="line">                depthStencilStateDesc-&gt;<a class="code" href="./class_m_h_w_render_1_1_m_depth_stencil_state_desc.html#ab71cf4c0b589679608a82717c15a5e33">frontFace</a>.<a class="code" href="./class_m_h_w_render_1_1_m_stencil_op_desc.html#af423dd1386a44a09a6a043c7a4ac4bb3">stencilPassOp</a> =</div>
<div class="line">                    mapStencilOperation(values[3]);</div>
<div class="line">            }</div>
<div class="line"></div>
<div class="line"> <span class="keywordflow">if</span> (values[0] == GL_BACK || values[0] == GL_FRONT_AND_BACK) {</div>
<div class="line">                depthStencilStateDesc-&gt;<a class="code" href="./class_m_h_w_render_1_1_m_depth_stencil_state_desc.html#a55af5b0011d4a2053953557923debbf2">backFace</a>.<a class="code" href="./class_m_h_w_render_1_1_m_stencil_op_desc.html#a1eed3a7b5878b8ea1ce25f1c6f708797">stencilFailOp</a> =</div>
<div class="line">                    mapStencilOperation(values[1]);</div>
<div class="line">                depthStencilStateDesc-&gt;<a class="code" href="./class_m_h_w_render_1_1_m_depth_stencil_state_desc.html#a55af5b0011d4a2053953557923debbf2">backFace</a>.<a class="code" href="./class_m_h_w_render_1_1_m_stencil_op_desc.html#ad9bceea8209e9b0f3e11a108891aef52">stencilDepthFailOp</a> =</div>
<div class="line">                    mapStencilOperation(values[2]);</div>
<div class="line">                depthStencilStateDesc-&gt;<a class="code" href="./class_m_h_w_render_1_1_m_depth_stencil_state_desc.html#a55af5b0011d4a2053953557923debbf2">backFace</a>.<a class="code" href="./class_m_h_w_render_1_1_m_stencil_op_desc.html#af423dd1386a44a09a6a043c7a4ac4bb3">stencilPassOp</a> =</div>
<div class="line">                    mapStencilOperation(values[3]);</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line"> <span class="keywordflow">else</span> {</div>
<div class="line"> <a class="code" href="./class_m_global.html#a4ddbe97e58a90e1ab05d45a62c006cf0">MGlobal::displayError</a>(WrongNumValues);</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line"> <span class="keywordtype">void</span> assignHdlr_StencilRef(</div>
<div class="line"> <span class="keyword">const</span> CGstateassignment&amp; sa,</div>
<div class="line"> <a class="code" href="./class_m_h_w_render_1_1_m_blend_state_desc.html">MBlendStateDesc</a>*         <span class="comment">/* blendStateDesc */</span>,</div>
<div class="line"> <a class="code" href="./class_m_h_w_render_1_1_m_rasterizer_state_desc.html">MRasterizerStateDesc</a>*    <span class="comment">/* rasterizerStateDesc */</span>,</div>
<div class="line"> <a class="code" href="./class_m_h_w_render_1_1_m_depth_stencil_state_desc.html">MDepthStencilStateDesc</a>*  depthStencilStateDesc)</div>
<div class="line">    {</div>
<div class="line"> <span class="keywordtype">int</span> numValues = 0;</div>
<div class="line"> <span class="keyword">const</span> <span class="keywordtype">int</span> *values = cgGetIntStateAssignmentValues(sa, &amp;numValues);</div>
<div class="line"> <span class="keywordflow">if</span> (numValues == 1) {</div>
<div class="line">            depthStencilStateDesc-&gt;<a class="code" href="./class_m_h_w_render_1_1_m_depth_stencil_state_desc.html#aea5d4fdc9bfc7e2040e39952ae3bedb3">stencilReferenceVal</a> = values[0];</div>
<div class="line">        }</div>
<div class="line"> <span class="keywordflow">else</span> {</div>
<div class="line"> <a class="code" href="./class_m_global.html#a4ddbe97e58a90e1ab05d45a62c006cf0">MGlobal::displayError</a>(WrongNumValues);</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line"> <span class="keywordtype">void</span> assignHdlr_StencilFail(</div>
<div class="line"> <span class="keyword">const</span> CGstateassignment&amp; sa,</div>
<div class="line"> <a class="code" href="./class_m_h_w_render_1_1_m_blend_state_desc.html">MBlendStateDesc</a>*         <span class="comment">/* blendStateDesc */</span>,</div>
<div class="line"> <a class="code" href="./class_m_h_w_render_1_1_m_rasterizer_state_desc.html">MRasterizerStateDesc</a>*    <span class="comment">/* rasterizerStateDesc */</span>,</div>
<div class="line"> <a class="code" href="./class_m_h_w_render_1_1_m_depth_stencil_state_desc.html">MDepthStencilStateDesc</a>*  depthStencilStateDesc)</div>
<div class="line">    {</div>
<div class="line"> <span class="keywordtype">int</span> numValues = 0;</div>
<div class="line"> <span class="keyword">const</span> <span class="keywordtype">int</span> *values = cgGetIntStateAssignmentValues(sa, &amp;numValues);</div>
<div class="line"> <span class="keywordflow">if</span> (numValues == 1) {</div>
<div class="line">            depthStencilStateDesc-&gt;<a class="code" href="./class_m_h_w_render_1_1_m_depth_stencil_state_desc.html#ab71cf4c0b589679608a82717c15a5e33">frontFace</a>.<a class="code" href="./class_m_h_w_render_1_1_m_stencil_op_desc.html#a1eed3a7b5878b8ea1ce25f1c6f708797">stencilFailOp</a> =</div>
<div class="line">                mapStencilOperation(values[0]);</div>
<div class="line">            depthStencilStateDesc-&gt;<a class="code" href="./class_m_h_w_render_1_1_m_depth_stencil_state_desc.html#a55af5b0011d4a2053953557923debbf2">backFace</a>.<a class="code" href="./class_m_h_w_render_1_1_m_stencil_op_desc.html#a1eed3a7b5878b8ea1ce25f1c6f708797">stencilFailOp</a> =</div>
<div class="line">                mapStencilOperation(values[0]);</div>
<div class="line">        }</div>
<div class="line"> <span class="keywordflow">else</span> {</div>
<div class="line"> <a class="code" href="./class_m_global.html#a4ddbe97e58a90e1ab05d45a62c006cf0">MGlobal::displayError</a>(WrongNumValues);</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line"> <span class="keywordtype">void</span> assignHdlr_StencilZFail(</div>
<div class="line"> <span class="keyword">const</span> CGstateassignment&amp; sa,</div>
<div class="line"> <a class="code" href="./class_m_h_w_render_1_1_m_blend_state_desc.html">MBlendStateDesc</a>*         <span class="comment">/* blendStateDesc */</span>,</div>
<div class="line"> <a class="code" href="./class_m_h_w_render_1_1_m_rasterizer_state_desc.html">MRasterizerStateDesc</a>*    <span class="comment">/* rasterizerStateDesc */</span>,</div>
<div class="line"> <a class="code" href="./class_m_h_w_render_1_1_m_depth_stencil_state_desc.html">MDepthStencilStateDesc</a>*  depthStencilStateDesc)</div>
<div class="line">    {</div>
<div class="line"> <span class="keywordtype">int</span> numValues = 0;</div>
<div class="line"> <span class="keyword">const</span> <span class="keywordtype">int</span> *values = cgGetIntStateAssignmentValues(sa, &amp;numValues);</div>
<div class="line"> <span class="keywordflow">if</span> (numValues == 1) {</div>
<div class="line">            depthStencilStateDesc-&gt;<a class="code" href="./class_m_h_w_render_1_1_m_depth_stencil_state_desc.html#ab71cf4c0b589679608a82717c15a5e33">frontFace</a>.<a class="code" href="./class_m_h_w_render_1_1_m_stencil_op_desc.html#ad9bceea8209e9b0f3e11a108891aef52">stencilDepthFailOp</a> =</div>
<div class="line">                mapStencilOperation(values[0]);</div>
<div class="line">            depthStencilStateDesc-&gt;<a class="code" href="./class_m_h_w_render_1_1_m_depth_stencil_state_desc.html#a55af5b0011d4a2053953557923debbf2">backFace</a>.<a class="code" href="./class_m_h_w_render_1_1_m_stencil_op_desc.html#ad9bceea8209e9b0f3e11a108891aef52">stencilDepthFailOp</a> =</div>
<div class="line">                mapStencilOperation(values[0]);</div>
<div class="line">        }</div>
<div class="line"> <span class="keywordflow">else</span> {</div>
<div class="line"> <a class="code" href="./class_m_global.html#a4ddbe97e58a90e1ab05d45a62c006cf0">MGlobal::displayError</a>(WrongNumValues);</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line"> <span class="keywordtype">void</span> assignHdlr_StencilPass(</div>
<div class="line"> <span class="keyword">const</span> CGstateassignment&amp; sa,</div>
<div class="line"> <a class="code" href="./class_m_h_w_render_1_1_m_blend_state_desc.html">MBlendStateDesc</a>*         <span class="comment">/* blendStateDesc */</span>,</div>
<div class="line"> <a class="code" href="./class_m_h_w_render_1_1_m_rasterizer_state_desc.html">MRasterizerStateDesc</a>*    <span class="comment">/* rasterizerStateDesc */</span>,</div>
<div class="line"> <a class="code" href="./class_m_h_w_render_1_1_m_depth_stencil_state_desc.html">MDepthStencilStateDesc</a>*  depthStencilStateDesc)</div>
<div class="line">    {</div>
<div class="line"> <span class="keywordtype">int</span> numValues = 0;</div>
<div class="line"> <span class="keyword">const</span> <span class="keywordtype">int</span> *values = cgGetIntStateAssignmentValues(sa, &amp;numValues);</div>
<div class="line"> <span class="keywordflow">if</span> (numValues == 1) {</div>
<div class="line">            depthStencilStateDesc-&gt;<a class="code" href="./class_m_h_w_render_1_1_m_depth_stencil_state_desc.html#ab71cf4c0b589679608a82717c15a5e33">frontFace</a>.<a class="code" href="./class_m_h_w_render_1_1_m_stencil_op_desc.html#af423dd1386a44a09a6a043c7a4ac4bb3">stencilPassOp</a> =</div>
<div class="line">                mapStencilOperation(values[0]);</div>
<div class="line">            depthStencilStateDesc-&gt;<a class="code" href="./class_m_h_w_render_1_1_m_depth_stencil_state_desc.html#a55af5b0011d4a2053953557923debbf2">backFace</a>.<a class="code" href="./class_m_h_w_render_1_1_m_stencil_op_desc.html#af423dd1386a44a09a6a043c7a4ac4bb3">stencilPassOp</a> =</div>
<div class="line">                mapStencilOperation(values[0]);</div>
<div class="line">        }</div>
<div class="line"> <span class="keywordflow">else</span> {</div>
<div class="line"> <a class="code" href="./class_m_global.html#a4ddbe97e58a90e1ab05d45a62c006cf0">MGlobal::displayError</a>(WrongNumValues);</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"> <span class="comment">//******************************************************************************</span></div>
<div class="line"> <span class="comment">// Error handlers for unsupported states</span></div>
<div class="line"> <span class="comment">//******************************************************************************</span></div>
<div class="line"></div>
<div class="line"> <span class="keywordtype">bool</span> unsupportedIfTrue(<span class="keyword">const</span> CGstateassignment&amp; sa)</div>
<div class="line">    {</div>
<div class="line"> <span class="keywordtype">int</span> numValues = 0;</div>
<div class="line"> <span class="keyword">const</span> CGbool *values = cgGetBoolStateAssignmentValues(sa, &amp;numValues);</div>
<div class="line"> <span class="keywordflow">if</span> (numValues == 1) {</div>
<div class="line"> <span class="keyword">const</span> <span class="keywordtype">bool</span> value = (values[0] == CG_TRUE) ? <span class="keyword">true</span> : <span class="keyword">false</span>;</div>
<div class="line"> <span class="keywordflow">if</span> (value) {</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#ifdef DEBUG</span></div>
<div class="line">                CGstate state = cgGetStateAssignmentState(sa);</div>
<div class="line"> <span class="keyword">const</span> <span class="keywordtype">char</span> *stateName = cgGetStateName(state);</div>
<div class="line"></div>
<div class="line"> <span class="comment">// Unsupported state. We must use a</span></div>
<div class="line"> <span class="comment">// glPushAttrib()/glPopAttrib() pair to guarantee correct</span></div>
<div class="line"> <span class="comment">// rendering.</span></div>
<div class="line"> <a class="code" href="./class_m_string.html">MString</a> s;</div>
<div class="line">                s += <span class="stringliteral">"cgfxShader: The CgFX state assignment \""</span>;</div>
<div class="line">                s += stateName;</div>
<div class="line">                s += <span class="stringliteral">" = true;\" contained in the shader file is not accelarated by the "</span></div>
<div class="line"> <span class="stringliteral">"cgfxShader plugin in a VP2.0 viewport and will results in lower "</span></div>
<div class="line"> <span class="stringliteral">"performance."</span>;</div>
<div class="line"> <a class="code" href="./class_m_global.html#acb043e7fc4eb7fc0f39833d31364b8a4">MGlobal::displayWarning</a>(s);</div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line"></div>
<div class="line"> <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line">            }</div>
<div class="line"> <span class="keywordflow">else</span> {</div>
<div class="line"> <span class="comment">// The state assignment value is false. We assume that</span></div>
<div class="line"> <span class="comment">// this state corresponds to the default Cg, VP2.0</span></div>
<div class="line"> <span class="comment">// and OpenGL state. We can therefore safely assume</span></div>
<div class="line"> <span class="comment">// that this state assignment is supported.</span></div>
<div class="line"> <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line"> <span class="keywordflow">else</span> {</div>
<div class="line"> <a class="code" href="./class_m_global.html#a4ddbe97e58a90e1ab05d45a62c006cf0">MGlobal::displayError</a>(WrongNumValues);</div>
<div class="line"> <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"><span class="comment">//==============================================================================</span></div>
<div class="line"><span class="comment">// CLASS cgfxPassStateSetter</span></div>
<div class="line"><span class="comment">//==============================================================================</span></div>
<div class="line"></div>
<div class="line">cgfxPassStateSetter::ViewportMode cgfxPassStateSetter::sActiveViewportMode =</div>
<div class="line">    cgfxPassStateSetter::kUnknown;</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">bool</span> cgfxPassStateSetter::registerCgStateCallBacks(</div>
<div class="line">    cgfxPassStateSetter::ViewportMode mode</div>
<div class="line">) {</div>
<div class="line"> <span class="keyword">static</span> <span class="keywordtype">bool</span> initialized = <span class="keyword">false</span>;</div>
<div class="line"> <span class="keywordflow">if</span>(!initialized)</div>
<div class="line">    {</div>
<div class="line"> <span class="comment">// Ignored states</span></div>
<div class="line">        StateAssignment::registerIgnoredState(<span class="stringliteral">"VertexProgram"</span>);</div>
<div class="line">        StateAssignment::registerIgnoredState(<span class="stringliteral">"VertexShader"</span>);</div>
<div class="line">        StateAssignment::registerIgnoredState(<span class="stringliteral">"GeometryProgram"</span>);</div>
<div class="line">        StateAssignment::registerIgnoredState(<span class="stringliteral">"GeometryShader"</span>);</div>
<div class="line">        StateAssignment::registerIgnoredState(<span class="stringliteral">"FragmentProgram"</span>);</div>
<div class="line">        StateAssignment::registerIgnoredState(<span class="stringliteral">"PixelShader"</span>);</div>
<div class="line"></div>
<div class="line"> <span class="comment">// Blend states</span></div>
<div class="line">        StateAssignment::registerHandler(<span class="stringliteral">"BlendColor"</span>,        assignHdlr_BlendColor      );</div>
<div class="line">        StateAssignment::registerHandler(<span class="stringliteral">"BlendEnable"</span>,       assignHdlr_BlendEnable     );</div>
<div class="line">        StateAssignment::registerHandler(<span class="stringliteral">"AlphaBlendEnable"</span>,  assignHdlr_BlendEnable     );</div>
<div class="line"></div>
<div class="line">        StateAssignment::registerHandler(<span class="stringliteral">"SrcBlend"</span>,          assignHdlr_SrcBlend        );</div>
<div class="line">        StateAssignment::registerHandler(<span class="stringliteral">"DestBlend"</span>,         assignHdlr_DestBlend       );</div>
<div class="line">        StateAssignment::registerHandler(<span class="stringliteral">"BlendFunc"</span>,         assignHdlr_BlendFunc       );</div>
<div class="line"></div>
<div class="line">        StateAssignment::registerHandler(<span class="stringliteral">"BlendOp"</span>,           assignHdlr_BlendOp         );</div>
<div class="line">        StateAssignment::registerHandler(<span class="stringliteral">"BlendEquation"</span>,     assignHdlr_BlendOp         );</div>
<div class="line">        StateAssignment::registerHandler(<span class="stringliteral">"BlendFuncSeparate"</span>, assignHdlr_BlendFuncSeparate );</div>
<div class="line">        StateAssignment::registerHandler(<span class="stringliteral">"BlendEquationSeparate"</span>, assignHdlr_BlendEquationSeparate );</div>
<div class="line"></div>
<div class="line">        StateAssignment::registerHandler(<span class="stringliteral">"ColorWriteEnable"</span>,  assignHdlr_ColorWriteEnable);</div>
<div class="line"></div>
<div class="line"> <span class="comment">// FXIME: I am not sure how to handle the</span></div>
<div class="line"> <span class="comment">// MBlendStateDesc::alphaToCoverageEnable and</span></div>
<div class="line"> <span class="comment">// MBlendStateDesc::multiSampleMask fields of the</span></div>
<div class="line"> <span class="comment">// MBlendStateDesc. It seems to me that Maya should initialize</span></div>
<div class="line"> <span class="comment">// them to the proper values depending on whether MSAA is</span></div>
<div class="line"> <span class="comment">// globaly enabled. They also seems DirectX specific.</span></div>
<div class="line"></div>
<div class="line"> <span class="comment">// Note: The MBlendStateDesc::independentBlendEnable field is</span></div>
<div class="line"> <span class="comment">// always set to false since the CgFX plugin only renders to a</span></div>
<div class="line"> <span class="comment">// single framebuffer.</span></div>
<div class="line"></div>
<div class="line"></div>
<div class="line"> <span class="comment">// Rasterizer states</span></div>
<div class="line"> <span class="comment">//</span></div>
<div class="line">        StateAssignment::registerHandler(<span class="stringliteral">"FillMode"</span>,                assignHdlr_FillMode                );</div>
<div class="line">        StateAssignment::registerHandler(<span class="stringliteral">"CullMode"</span>,                assignHdlr_CullFace                );</div>
<div class="line">        StateAssignment::registerHandler(<span class="stringliteral">"CullFace"</span>,                assignHdlr_CullFace                );</div>
<div class="line">        StateAssignment::registerHandler(<span class="stringliteral">"CullFaceEnable"</span>,          assignHdlr_CullFaceEnable          );</div>
<div class="line">        StateAssignment::registerHandler(<span class="stringliteral">"FrontFace"</span>,               assignHdlr_FrontFace               );</div>
<div class="line">        StateAssignment::registerHandler(<span class="stringliteral">"PolygonMode"</span>,             assignHdlr_PolygonMode             );</div>
<div class="line"></div>
<div class="line">        StateAssignment::registerHandler(<span class="stringliteral">"PolygonOffset"</span>,           assignHdlr_PolygonOffset           );</div>
<div class="line">        StateAssignment::registerHandler(<span class="stringliteral">"DepthBias"</span>,               assignHdlr_DepthBias               );</div>
<div class="line">        StateAssignment::registerHandler(<span class="stringliteral">"SlopScaleDepthBias"</span>,      assignHdlr_SlopScaleDepthBias      );</div>
<div class="line">        StateAssignment::registerHandler(<span class="stringliteral">"PolygonOffsetFillEnable"</span>, assignHdlr_PolygonOffsetFillEnable );</div>
<div class="line"></div>
<div class="line">        StateAssignment::registerHandler(<span class="stringliteral">"ScissorTestEnable"</span>,       assignHdlr_ScissorTestEnable       );</div>
<div class="line">        StateAssignment::registerHandler(<span class="stringliteral">"MultisampleEnable"</span>,       assignHdlr_MultisampleEnable       );</div>
<div class="line">        StateAssignment::registerHandler(<span class="stringliteral">"MultiSampleAntialias"</span>,    assignHdlr_MultisampleEnable       );</div>
<div class="line"></div>
<div class="line"> <span class="comment">// The OpenMaya API combines the Line and Point smoothing into</span></div>
<div class="line"> <span class="comment">// a single control, mainly because there are no such separate</span></div>
<div class="line"> <span class="comment">// controls on DX.</span></div>
<div class="line">        StateAssignment::registerHandler(<span class="stringliteral">"LineSmoothEnable"</span>,        assignHdlr_LineSmoothEnable       );</div>
<div class="line">        StateAssignment::registerHandler(<span class="stringliteral">"PointSmoothEnable"</span>,       assignHdlr_LineSmoothEnable       );</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"> <span class="comment">// Depth and stencil states</span></div>
<div class="line">        StateAssignment::registerHandler(<span class="stringliteral">"DepthTestEnable"</span>,         assignHdlr_DepthTestEnable         );</div>
<div class="line">        StateAssignment::registerHandler(<span class="stringliteral">"ZEnable"</span>,                 assignHdlr_DepthTestEnable         );</div>
<div class="line">        StateAssignment::registerHandler(<span class="stringliteral">"DepthMask"</span>,               assignHdlr_DepthMask               );</div>
<div class="line">        StateAssignment::registerHandler(<span class="stringliteral">"ZWriteEnable"</span>,            assignHdlr_DepthMask               );</div>
<div class="line">        StateAssignment::registerHandler(<span class="stringliteral">"DepthFunc"</span>,               assignHdlr_DepthFunc               );</div>
<div class="line"></div>
<div class="line">        StateAssignment::registerHandler(<span class="stringliteral">"StencilEnable"</span>,           assignHdlr_StencilEnable           );</div>
<div class="line">        StateAssignment::registerHandler(<span class="stringliteral">"StencilTestEnable"</span>,       assignHdlr_StencilEnable           );</div>
<div class="line">        StateAssignment::registerHandler(<span class="stringliteral">"StencilMask"</span>,             assignHdlr_StencilWriteMask        );</div>
<div class="line">        StateAssignment::registerHandler(<span class="stringliteral">"StencilWriteMask"</span>,        assignHdlr_StencilWriteMask        );</div>
<div class="line">        StateAssignment::registerHandler(<span class="stringliteral">"StencilFunc"</span>,             assignHdlr_StencilFunc             );</div>
<div class="line">        StateAssignment::registerHandler(<span class="stringliteral">"StencilFuncSeparate"</span>,     assignHdlr_StencilFuncSeparate     );</div>
<div class="line">        StateAssignment::registerHandler(<span class="stringliteral">"StencilOp"</span>,               assignHdlr_StencilOp               );</div>
<div class="line">        StateAssignment::registerHandler(<span class="stringliteral">"StencilOpSeparate"</span>,       assignHdlr_StencilOpSeparate       );</div>
<div class="line"></div>
<div class="line">        StateAssignment::registerHandler(<span class="stringliteral">"StencilRef"</span>,              assignHdlr_StencilRef              );</div>
<div class="line">        StateAssignment::registerHandler(<span class="stringliteral">"StencilFail"</span>,             assignHdlr_StencilFail             );</div>
<div class="line">        StateAssignment::registerHandler(<span class="stringliteral">"StencilZFail"</span>,            assignHdlr_StencilZFail            );</div>
<div class="line">        StateAssignment::registerHandler(<span class="stringliteral">"StencilPass"</span>,             assignHdlr_StencilPass             );</div>
<div class="line"></div>
<div class="line"> <span class="comment">// Unsupported states</span></div>
<div class="line">        StateAssignment::registerUnsupportedCheck(<span class="stringliteral">"AutoNormalEnable"</span>,               unsupportedIfTrue);</div>
<div class="line">        StateAssignment::registerUnsupportedCheck(<span class="stringliteral">"AlphaTestEnable"</span>,                unsupportedIfTrue);</div>
<div class="line">        StateAssignment::registerUnsupportedCheck(<span class="stringliteral">"ClipPlaneEnable"</span>,                unsupportedIfTrue);</div>
<div class="line">        StateAssignment::registerUnsupportedCheck(<span class="stringliteral">"ColorLogicOpEnable"</span>,             unsupportedIfTrue);</div>
<div class="line">        StateAssignment::registerUnsupportedCheck(<span class="stringliteral">"ColorVertex"</span>,                    unsupportedIfTrue);</div>
<div class="line">        StateAssignment::registerUnsupportedCheck(<span class="stringliteral">"DepthBoundsEnable"</span>,              unsupportedIfTrue);</div>
<div class="line">        StateAssignment::registerUnsupportedCheck(<span class="stringliteral">"DepthClampEnable"</span>,               unsupportedIfTrue);</div>
<div class="line">        StateAssignment::registerUnsupportedCheck(<span class="stringliteral">"DitherEnable"</span>,                   unsupportedIfTrue);</div>
<div class="line">        StateAssignment::registerUnsupportedCheck(<span class="stringliteral">"FogEnable"</span>,                      unsupportedIfTrue);</div>
<div class="line">        StateAssignment::registerUnsupportedCheck(<span class="stringliteral">"LightEnable"</span>,                    unsupportedIfTrue);</div>
<div class="line">        StateAssignment::registerUnsupportedCheck(<span class="stringliteral">"LightModelLocalViewerEnable"</span>,    unsupportedIfTrue);</div>
<div class="line">        StateAssignment::registerUnsupportedCheck(<span class="stringliteral">"LightModelTwoSideEnable"</span>,        unsupportedIfTrue);</div>
<div class="line">        StateAssignment::registerUnsupportedCheck(<span class="stringliteral">"LightingEnable"</span>,                 unsupportedIfTrue);</div>
<div class="line">        StateAssignment::registerUnsupportedCheck(<span class="stringliteral">"LineStippleEnable"</span>,              unsupportedIfTrue);</div>
<div class="line">        StateAssignment::registerUnsupportedCheck(<span class="stringliteral">"LocalViewer"</span>,                    unsupportedIfTrue);</div>
<div class="line">        StateAssignment::registerUnsupportedCheck(<span class="stringliteral">"LogicOpEnable"</span>,                  unsupportedIfTrue);</div>
<div class="line">        StateAssignment::registerUnsupportedCheck(<span class="stringliteral">"NormalizeEnable"</span>,                unsupportedIfTrue);</div>
<div class="line">        StateAssignment::registerUnsupportedCheck(<span class="stringliteral">"PointScaleEnable"</span>,               unsupportedIfTrue);</div>
<div class="line">        StateAssignment::registerUnsupportedCheck(<span class="stringliteral">"PointSmoothEnable"</span>,              unsupportedIfTrue);</div>
<div class="line">        StateAssignment::registerUnsupportedCheck(<span class="stringliteral">"PointSpriteCoordReplace"</span>,        unsupportedIfTrue);</div>
<div class="line">        StateAssignment::registerUnsupportedCheck(<span class="stringliteral">"PointSpriteEnable"</span>,              unsupportedIfTrue);</div>
<div class="line">        StateAssignment::registerUnsupportedCheck(<span class="stringliteral">"PolygonOffsetLineEnable"</span>,        unsupportedIfTrue);</div>
<div class="line">        StateAssignment::registerUnsupportedCheck(<span class="stringliteral">"PolygonOffsetPointEnable"</span>,       unsupportedIfTrue);</div>
<div class="line">        StateAssignment::registerUnsupportedCheck(<span class="stringliteral">"PolygonStippleEnable"</span>,           unsupportedIfTrue);</div>
<div class="line">        StateAssignment::registerUnsupportedCheck(<span class="stringliteral">"RescaleNormalEnable"</span>,            unsupportedIfTrue);</div>
<div class="line">        StateAssignment::registerUnsupportedCheck(<span class="stringliteral">"SampleAlphaToCoverageEnable"</span>,    unsupportedIfTrue);</div>
<div class="line">        StateAssignment::registerUnsupportedCheck(<span class="stringliteral">"SampleAlphaToOneEnable"</span>,         unsupportedIfTrue);</div>
<div class="line">        StateAssignment::registerUnsupportedCheck(<span class="stringliteral">"SampleCoverageEnable"</span>,           unsupportedIfTrue);</div>
<div class="line">        StateAssignment::registerUnsupportedCheck(<span class="stringliteral">"ScissorTestEnable"</span>,              unsupportedIfTrue);</div>
<div class="line">        StateAssignment::registerUnsupportedCheck(<span class="stringliteral">"StencilTestTwoSideEnable"</span>,       unsupportedIfTrue);</div>
<div class="line">        StateAssignment::registerUnsupportedCheck(<span class="stringliteral">"TexGenQEnable"</span>,                  unsupportedIfTrue);</div>
<div class="line">        StateAssignment::registerUnsupportedCheck(<span class="stringliteral">"TexGenREnable"</span>,                  unsupportedIfTrue );</div>
<div class="line">        StateAssignment::registerUnsupportedCheck(<span class="stringliteral">"TexGenSEnable"</span>,                  unsupportedIfTrue );</div>
<div class="line">        StateAssignment::registerUnsupportedCheck(<span class="stringliteral">"TexGenTEnable"</span>,                  unsupportedIfTrue );</div>
<div class="line">        StateAssignment::registerUnsupportedCheck(<span class="stringliteral">"Texture1DEnable"</span>,                unsupportedIfTrue );</div>
<div class="line">        StateAssignment::registerUnsupportedCheck(<span class="stringliteral">"Texture2DEnable"</span>,                unsupportedIfTrue );</div>
<div class="line">        StateAssignment::registerUnsupportedCheck(<span class="stringliteral">"Texture3DEnable"</span>,                unsupportedIfTrue );</div>
<div class="line">        StateAssignment::registerUnsupportedCheck(<span class="stringliteral">"TextureCubeMapEnable"</span>,           unsupportedIfTrue );</div>
<div class="line">        StateAssignment::registerUnsupportedCheck(<span class="stringliteral">"TextureRectangleEnable"</span>,         unsupportedIfTrue );</div>
<div class="line">        StateAssignment::registerUnsupportedCheck(<span class="stringliteral">"VertexProgramPointSizeEnable"</span>,   unsupportedIfTrue );</div>
<div class="line">        StateAssignment::registerUnsupportedCheck(<span class="stringliteral">"VertexProgramTwoSideEnable"</span>,     unsupportedIfTrue );</div>
<div class="line"></div>
<div class="line">        initialized = <span class="keyword">true</span>;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line"> <span class="keywordflow">if</span>(mode == cgfxPassStateSetter::kUnknown)</div>
<div class="line"> <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"></div>
<div class="line"> <span class="keywordflow">if</span>(mode == cgfxPassStateSetter::sActiveViewportMode)</div>
<div class="line"> <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"></div>
<div class="line"> <span class="keywordflow">if</span>(mode == cgfxPassStateSetter::kDefaultViewport)</div>
<div class="line">    {</div>
<div class="line">        StateAssignment::registerDefaultCallBacks();</div>
<div class="line">        sActiveViewportMode = cgfxPassStateSetter::kDefaultViewport;</div>
<div class="line">    }</div>
<div class="line"> <span class="keywordflow">else</span></div>
<div class="line">    {</div>
<div class="line">        StateAssignment::registerVP20CallBacks();</div>
<div class="line">        sActiveViewportMode = cgfxPassStateSetter::kVP20Viewport;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line"> <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line">cgfxPassStateSetter::cgfxPassStateSetter()</div>
<div class="line">    : fBlendState(NULL),</div>
<div class="line">      fRasterizerState(NULL),</div>
<div class="line">      fDepthStencilState(NULL),</div>
<div class="line">      fIsPushPopAttribsRequired(false)</div>
<div class="line">{}</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">void</span> cgfxPassStateSetter::init(</div>
<div class="line"> <a name="_a84"></a><a class="code" href="./class_m_h_w_render_1_1_m_state_manager.html">MStateManager</a>* stateMgr,</div>
<div class="line">    CGpass pass</div>
<div class="line">)</div>
<div class="line">{</div>
<div class="line"> <span class="comment">// Start with the default state!</span></div>
<div class="line"> <a class="code" href="./class_m_h_w_render_1_1_m_blend_state_desc.html">MBlendStateDesc</a> blendStateDesc;</div>
<div class="line"> <a class="code" href="./class_m_h_w_render_1_1_m_rasterizer_state_desc.html">MRasterizerStateDesc</a> rasterizerStateDesc;</div>
<div class="line"> <a class="code" href="./class_m_h_w_render_1_1_m_depth_stencil_state_desc.html">MDepthStencilStateDesc</a> depthStencilStateDesc;</div>
<div class="line"></div>
<div class="line">    CGstateassignment sa = cgGetFirstStateAssignment(pass);</div>
<div class="line"> <span class="keywordflow">while</span> (sa) {</div>
<div class="line">        fIsPushPopAttribsRequired |=</div>
<div class="line">            StateAssignment::callHandler(sa,</div>
<div class="line">                                         &amp;blendStateDesc,</div>
<div class="line">                                         &amp;rasterizerStateDesc,</div>
<div class="line">                                         &amp;depthStencilStateDesc);</div>
<div class="line">        sa = cgGetNextStateAssignment(sa);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    fBlendState = stateMgr-&gt;<a name="a85"></a><a class="code" href="./class_m_h_w_render_1_1_m_state_manager.html#aeb560f7829270f34ab413ad314314c8f">acquireBlendState</a>(blendStateDesc);</div>
<div class="line">    fDepthStencilState = stateMgr-&gt;<a name="a86"></a><a class="code" href="./class_m_h_w_render_1_1_m_state_manager.html#a4fae5c76bc6698abb77b9ffec01bc21a">acquireDepthStencilState</a>(depthStencilStateDesc);</div>
<div class="line">    fRasterizerState = stateMgr-&gt;<a name="a87"></a><a class="code" href="./class_m_h_w_render_1_1_m_state_manager.html#a1f43e6ab99a6e2e5817df7bb1a0c69e6">acquireRasterizerState</a>(rasterizerStateDesc);</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line">cgfxPassStateSetter::~cgfxPassStateSetter()</div>
<div class="line">{</div>
<div class="line">    MStateManager::releaseBlendState(fBlendState);</div>
<div class="line">    fBlendState = NULL;</div>
<div class="line"></div>
<div class="line">    MStateManager::releaseDepthStencilState(fDepthStencilState);</div>
<div class="line">    fDepthStencilState = NULL;</div>
<div class="line"></div>
<div class="line">    MStateManager::releaseRasterizerState(fRasterizerState);</div>
<div class="line">    fRasterizerState = NULL;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">void</span> cgfxPassStateSetter::setPassState(<a class="code" href="./class_m_h_w_render_1_1_m_state_manager.html">MStateManager</a>* stateMgr)<span class="keyword"> const</span></div>
<div class="line"><span class="keyword"></span>{</div>
<div class="line">    stateMgr-&gt;<a name="a88"></a><a class="code" href="./class_m_h_w_render_1_1_m_state_manager.html#a27dbc083002d85108ed30ee1131f68c1">setBlendState</a>(fBlendState);</div>
<div class="line">    stateMgr-&gt;<a name="a89"></a><a class="code" href="./class_m_h_w_render_1_1_m_state_manager.html#a5a6b8e76300df4a0c9f6a38b236118f7">setDepthStencilState</a>(fDepthStencilState);</div>
<div class="line">    stateMgr-&gt;<a name="a90"></a><a class="code" href="./class_m_h_w_render_1_1_m_state_manager.html#a7dfb1c4f28575ed6581aa40a7b64f22a">setRasterizerState</a>(fRasterizerState);</div>
<div class="line">}</div>
</div><!-- fragment --> </div><!-- contents -->
</div><!-- doc-content -->
<div class="footer-block"><a class="comments-anchor" href="../html/ac.cmtdialog.htm" target="_blank"><span class="comments-link">Please send us your comment about this page</span></a></div></div>
</link></link></link></link></div></body>
</html>
