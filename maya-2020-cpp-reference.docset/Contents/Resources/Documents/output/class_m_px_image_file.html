<!-- saved from url=(0024)http://docs.autodesk.com -->
<html>
<head><script src="../scripts/yepnope.1.5.4-min.js" type="text/javascript"></script><script src="../scripts/lib/jquery-1.11.1.min.js" type="text/javascript"></script>
<title>C++ API Reference: MPxImageFile Class Reference</title>
</head>
<body height="100%"><div class="body_content" id="body-content"><link href="cpp_ref/navtree.css" rel="stylesheet" type="text/css"/><link href="cpp_ref/doxygen.css" rel="stylesheet" type="text/css"/><link href="cpp_ref/tabs.css" rel="stylesheet" type="text/css"/><link href="style/adsk.cpm.css" rel="stylesheet" type="text/css"/><script type="text/javascript">
var tocSystemNeedsToBeLoaded = typeof(cpp_ref_adsk_ref_toc) == 'undefined';
var weAreIn21 = $('div#main.view-active').length;
var tocPrefix = '';
if (weAreIn21)
{ tocPrefix = 'cpp_ref/'; }
function cpp_ref_initializeToc(forceTrigger) {
    cpp_ref_adsk_ref_toc.initResizable();
    cpp_ref_adsk_ref_toc.initNavTree('class_m_px_image_file.html', tocPrefix);
    dQuery(document).trigger('toc_initialized');
}
if (tocSystemNeedsToBeLoaded)
{
	yepnope([{
	load:[tocPrefix + 'json3.min.js', tocPrefix + 'jquery.js', tocPrefix + 'ref-toc-controller.js', tocPrefix + 'dynsections.js'],
	complete: function() {
	  if (typeof(dQuery) == 'undefined')
	  {
	    dQuery = jQuery.noConflict(true);
	  }
	  else { jQuery.noConflict(true); }
	  $(document).ready(cpp_ref_initializeToc);
	}
 	}])
}
if (!weAreIn21) { // if in AKN...
$(window).load( function() {
    setTimeout( function() {
        var content = $('body > div').not('#body-content');     // take any divs under body that are not id=body-content
        content.each( function() { 
            $(this).css( { 'padding-left': $(this).css('margin-left') } );       // and if they have any padding-left already, move it to margin-left.
        } );
        var width = cpp_ref_adsk_ref_toc.readFromStorage('width');
        content.css({marginLeft:parseInt(width)+6+"px"});
    }, 100);
} ); 
}
</script><script>
 if (!tocSystemNeedsToBeLoaded) { cpp_ref_initializeToc(); }
 </script>
<div>
<div class="head">
<h1>C++ API Reference: MPxImageFile Class Reference</h1>
</div>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<!-- end header part -->
<!-- Generated by Doxygen 1.8.10 -->
<div class="tabs" id="navrow1">
<ul class="tablist">
<li><a href="./index.html"><span>Main Page</span></a></li>
<li><a href="./pages.html"><span>Related Pages</span></a></li>
<li><a href="./modules.html"><span>Modules</span></a></li>
<li><a href="./namespaces.html"><span>Namespaces</span></a></li>
<li class="current"><a href="./annotated.html"><span>Classes</span></a></li>
<li><a href="./examples.html"><span>Examples</span></a></li>
<li>
<div class="MSearchBoxInactive" id="MSearchBox">
<span class="left">
<img alt="" id="MSearchSelect" onmouseout="return searchBox.OnSearchSelectHide()" onmouseover="return searchBox.OnSearchSelectShow()" src="cpp_ref/search/mag_sel.png"/>
<input accesskey="S" id="MSearchField" onblur="searchBox.OnSearchFieldFocus(false)" onfocus="searchBox.OnSearchFieldFocus(true)" onkeyup="searchBox.OnSearchFieldChange(event)" type="text" value="Search"/>
</span><span class="right">
<a href="javascript:searchBox.CloseResultsWindow()" id="MSearchClose"><img alt="" border="0" id="MSearchCloseImg" src="cpp_ref/search/close.png"/></a>
</span>
</div>
</li>
</ul>
</div>
<div class="tabs2" id="navrow2">
<ul class="tablist">
<li><a href="./annotated.html"><span>Class List</span></a></li>
<li><a href="./classes.html"><span>Class Index</span></a></li>
<li><a href="./hierarchy.html"><span>Class Hierarchy</span></a></li>
<li><a href="./functions.html"><span>Class Members</span></a></li>
</ul>
</div>
</div><!-- top -->
<div class="ui-resizable side-nav-resizable" id="side-nav">
<div id="nav-tree">
<div id="nav-tree-contents">
<div class="sync" id="nav-sync"></div>
</div>
</div>
<div class="ui-resizable-handle" id="splitbar" style="-moz-user-select:none;">
</div>
</div>
<div id="doc-content">
<!-- window showing the filter options -->
<!-- iframe showing the search results (closed by default) -->
<div class="header">
<div class="headertitle">
<div class="title">MPxImageFile Class Reference<div class="ingroups"><a class="el" href="./group___open_maya.html">OpenMaya - API module for common classes</a> | <a class="el" href="./group___m_px.html">Proxy classes</a></div></div> </div>
<div class="summary">
<a href="class_m_px_image_file.html#pub-methods">Public Member Functions</a> |
<a href="./class_m_px_image_file-members.html">List of all members</a> </div></div><!--header-->
<div class="contents">
<p>Image manipulation.  
 <a href="./class_m_px_image_file.html#details">More...</a></p>
<p><code>#include &lt;MPxImageFile.h&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ae4bd5fe3a0629742c541ac138d8a32af"><td align="right" class="memItemLeft" valign="top"> </td><td class="memItemRight" valign="bottom"><a class="el" href="./class_m_px_image_file.html#ae4bd5fe3a0629742c541ac138d8a32af">MPxImageFile</a> ()</td></tr>
<tr class="memdesc:ae4bd5fe3a0629742c541ac138d8a32af"><td class="mdescLeft"> </td><td class="mdescRight">The default class constructor.  <a href="class_m_px_image_file.html#ae4bd5fe3a0629742c541ac138d8a32af">More...</a><br/></td></tr>
<tr class="separator:ae4bd5fe3a0629742c541ac138d8a32af"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:adaf846b0f270c2c60245f86ba1ccc8f6"><td align="right" class="memItemLeft" valign="top">virtual </td><td class="memItemRight" valign="bottom"><a class="el" href="./class_m_px_image_file.html#adaf846b0f270c2c60245f86ba1ccc8f6">~MPxImageFile</a> ()</td></tr>
<tr class="memdesc:adaf846b0f270c2c60245f86ba1ccc8f6"><td class="mdescLeft"> </td><td class="mdescRight">Class destructor.  <a href="class_m_px_image_file.html#adaf846b0f270c2c60245f86ba1ccc8f6">More...</a><br/></td></tr>
<tr class="separator:adaf846b0f270c2c60245f86ba1ccc8f6"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:a693072120ed50338f3b977525d6c1cbb"><td align="right" class="memItemLeft" valign="top">virtual <a class="el" href="./class_m_status.html">MStatus</a> </td><td class="memItemRight" valign="bottom"><a class="el" href="./class_m_px_image_file.html#a693072120ed50338f3b977525d6c1cbb">open</a> (<a class="el" href="./class_m_string.html">MString</a> pathname, <a class="el" href="./class_m_image_file_info.html">MImageFileInfo</a> *info)</td></tr>
<tr class="memdesc:a693072120ed50338f3b977525d6c1cbb"><td class="mdescLeft"> </td><td class="mdescRight">Attempt to open the specified file as an image and extract the image characteristics.  <a href="class_m_px_image_file.html#a693072120ed50338f3b977525d6c1cbb">More...</a><br/></td></tr>
<tr class="separator:a693072120ed50338f3b977525d6c1cbb"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:af42e5e206ba3b54cea108f6869b379e7"><td align="right" class="memItemLeft" valign="top">virtual <a class="el" href="./class_m_status.html">MStatus</a> </td><td class="memItemRight" valign="bottom"><a class="el" href="./class_m_px_image_file.html#af42e5e206ba3b54cea108f6869b379e7">load</a> (<a class="el" href="./class_m_image.html">MImage</a> &amp;image, unsigned int imageNumber)</td></tr>
<tr class="memdesc:af42e5e206ba3b54cea108f6869b379e7"><td class="mdescLeft"> </td><td class="mdescRight">Load the previously opened image file into an <a class="el" href="./class_m_image.html" title="Image manipulation. ">MImage</a>.  <a href="class_m_px_image_file.html#af42e5e206ba3b54cea108f6869b379e7">More...</a><br/></td></tr>
<tr class="separator:af42e5e206ba3b54cea108f6869b379e7"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:a2398010f3069cd53ae2f38c1143f988d"><td align="right" class="memItemLeft" valign="top">virtual <a class="el" href="./class_m_status.html">MStatus</a> </td><td class="memItemRight" valign="bottom"><a class="el" href="./class_m_px_image_file.html#a2398010f3069cd53ae2f38c1143f988d">glLoad</a> (const <a class="el" href="./class_m_image_file_info.html">MImageFileInfo</a> &amp;info, unsigned int imageNumber)</td></tr>
<tr class="memdesc:a2398010f3069cd53ae2f38c1143f988d"><td class="mdescLeft"> </td><td class="mdescRight">Load the previously opened image file as an OpenGL texture.  <a href="class_m_px_image_file.html#a2398010f3069cd53ae2f38c1143f988d">More...</a><br/></td></tr>
<tr class="separator:a2398010f3069cd53ae2f38c1143f988d"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:a0a34ca7b49311218db7cf12792d11f2d"><td align="right" class="memItemLeft" valign="top">virtual <a class="el" href="./class_m_status.html">MStatus</a> </td><td class="memItemRight" valign="bottom"><a class="el" href="./class_m_px_image_file.html#a0a34ca7b49311218db7cf12792d11f2d">close</a> ()</td></tr>
<tr class="memdesc:a0a34ca7b49311218db7cf12792d11f2d"><td class="mdescLeft"> </td><td class="mdescRight">Close the image file.  <a href="class_m_px_image_file.html#a0a34ca7b49311218db7cf12792d11f2d">More...</a><br/></td></tr>
<tr class="separator:a0a34ca7b49311218db7cf12792d11f2d"><td class="memSeparator" colspan="2"> </td></tr>
</table>
<a id="details" name="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Image manipulation. </p>
<p>This class provides methods for reading file images stored on disk.</p>
<p>The <a class="el" href="./class_m_px_image_file.html" title="Image manipulation. ">MPxImageFile</a> class can be used to implement support for new image file formats in Maya. The implementation is able to support both fixed and floating point image formats.</p>
<p><a class="el" href="./class_m_px_image_file.html" title="Image manipulation. ">MPxImageFile</a> allows custom image formats to be recognized by Maya and any plug-ins that use Maya's API for accessing images. However be aware that some third party plugins bypass Maya's API and use their own internal facilities for accessing images, which means that they will not recognize MPxImageFile-based image formats. </p>
<dl class="section"><div class="dynheader closed" id="dynsection-example0" onclick="return toggleVisibility(this)" style="cursor:pointer;"><dt><img alt="+" id="dynsection-example0-trigger" src="cpp_ref/closed.png"/> <b>Examples: </b></dt></div><div class="dyncontent" id="dynsection-example0-content" style="display:none;"><dd><a class="el" href="./dds_float_reader_8cpp-example.html#_a1">ddsFloatReader.cpp</a>, <a class="el" href="./_open_e_x_r_8cpp-example.html#_a1">OpenEXR.cpp</a>, <a class="el" href="./simple_image_file_2simple_image_file_8cpp-example.html#_a1">simpleImageFile/simpleImageFile.cpp</a>, and <a class="el" href="./tiff_float_reader_8cpp-example.html#_a1">tiffFloatReader.cpp</a>.</dd></div>
</dl></div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="ae4bd5fe3a0629742c541ac138d8a32af"></a>
<div class="memitem">
<div class="memproto">
<table class="memname">
<tr>
<td class="memname">OPENMAYA_MAJOR_NAMESPACE_OPEN <a class="el" href="./class_m_px_image_file.html">MPxImageFile</a> </td>
<td>(</td>
<td class="paramname"></td><td>)</td>
<td></td>
</tr>
</table>
</div><div class="memdoc">
<p>The default class constructor. </p>
<p>Initialize the image. </p>
</div>
</div>
<a class="anchor" id="adaf846b0f270c2c60245f86ba1ccc8f6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
<tr>
<td class="mlabels-left">
<table class="memname">
<tr>
<td class="memname">~<a class="el" href="./class_m_px_image_file.html">MPxImageFile</a> </td>
<td>(</td>
<td class="paramname"></td><td>)</td>
<td></td>
</tr>
</table>
</td>
<td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span> </td>
</tr>
</table>
</div><div class="memdoc">
<p>Class destructor. </p>
<p>Automatically releases the associated image array. </p>
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a693072120ed50338f3b977525d6c1cbb"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
<tr>
<td class="mlabels-left">
<table class="memname">
<tr>
<td class="memname"><a class="dashAnchor" name="//apple_ref/cpp/Function/open"></a><a class="el" href="./class_m_status.html">MStatus</a> open </td>
<td>(</td>
<td class="paramtype"><a class="el" href="./class_m_string.html">MString</a> </td>
<td class="paramname"><em>pathname</em>, </td>
</tr>
<tr>
<td class="paramkey"></td>
<td></td>
<td class="paramtype"><a class="el" href="./class_m_image_file_info.html">MImageFileInfo</a> * </td>
<td class="paramname"><em>info</em> </td>
</tr>
<tr>
<td></td>
<td>)</td>
<td></td><td></td>
</tr>
</table>
</td>
<td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span> </td>
</tr>
</table>
</div><div class="memdoc">
<p>Attempt to open the specified file as an image and extract the image characteristics. </p>
<p>It is important that this function only return success if the image is definitely supported by this implementation.</p>
<dl class="params"><dt>Parameters</dt><dd>
<table class="params">
<tr><td class="paramdir">[in]</td><td class="paramname">pathname</td><td>the image file to open </td></tr>
<tr><td class="paramdir">[in]</td><td class="paramname">info</td><td>an optional pointer to the image info structure to fill in. If this pointer is non-NULL, the implementation of this method should parse the image header to populate the information structure.</td></tr>
</table>
</dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>MS::kSuccess if the image is supported by this implementation </li>
<li>MS::kFailure otherwise </li>
</ul>
</dd></dl>
<dl class="section"><div class="dynheader closed" id="dynsection-example1" onclick="return toggleVisibility(this)" style="cursor:pointer;"><dt><img alt="+" id="dynsection-example1-trigger" src="cpp_ref/closed.png"/> <b>Examples: </b></dt></div><div class="dyncontent" id="dynsection-example1-content" style="display:none;"><dd><a class="el" href="./_open_e_x_r_8cpp-example.html#a3">OpenEXR.cpp</a>, <a class="el" href="./simple_image_file_2simple_image_file_8cpp-example.html#a3">simpleImageFile/simpleImageFile.cpp</a>, and <a class="el" href="./tiff_float_reader_8cpp-example.html#a3">tiffFloatReader.cpp</a>.</dd></div>
</dl>
</div>
</div>
<a class="anchor" id="af42e5e206ba3b54cea108f6869b379e7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
<tr>
<td class="mlabels-left">
<table class="memname">
<tr>
<td class="memname"><a class="dashAnchor" name="//apple_ref/cpp/Function/load"></a><a class="el" href="./class_m_status.html">MStatus</a> load </td>
<td>(</td>
<td class="paramtype"><a class="el" href="./class_m_image.html">MImage</a> &amp; </td>
<td class="paramname"><em>image</em>, </td>
</tr>
<tr>
<td class="paramkey"></td>
<td></td>
<td class="paramtype">unsigned int </td>
<td class="paramname"><em>imageNumber</em> </td>
</tr>
<tr>
<td></td>
<td>)</td>
<td></td><td></td>
</tr>
</table>
</td>
<td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span> </td>
</tr>
</table>
</div><div class="memdoc">
<p>Load the previously opened image file into an <a class="el" href="./class_m_image.html" title="Image manipulation. ">MImage</a>. </p>
<dl class="params"><dt>Parameters</dt><dd>
<table class="params">
<tr><td class="paramdir">[in]</td><td class="paramname">image</td><td>the image to load the currently open file into </td></tr>
<tr><td class="paramdir">[in]</td><td class="paramname">imageNumber</td><td>the index of image to load (for files containing multiple images)</td></tr>
</table>
</dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>MS::kFailure if the image cannot be loaded (e.g. it is corrupt) </li>
<li>MS::kSuccess otherwise </li>
</ul>
</dd></dl>
<dl class="section"><div class="dynheader closed" id="dynsection-example2" onclick="return toggleVisibility(this)" style="cursor:pointer;"><dt><img alt="+" id="dynsection-example2-trigger" src="cpp_ref/closed.png"/> <b>Examples: </b></dt></div><div class="dyncontent" id="dynsection-example2-content" style="display:none;"><dd><a class="el" href="./_open_e_x_r_8cpp-example.html#a5">OpenEXR.cpp</a>, <a class="el" href="./simple_image_file_2simple_image_file_8cpp-example.html#a5">simpleImageFile/simpleImageFile.cpp</a>, and <a class="el" href="./tiff_float_reader_8cpp-example.html#a5">tiffFloatReader.cpp</a>.</dd></div>
</dl>
</div>
</div>
<a class="anchor" id="a2398010f3069cd53ae2f38c1143f988d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
<tr>
<td class="mlabels-left">
<table class="memname">
<tr>
<td class="memname"><a class="dashAnchor" name="//apple_ref/cpp/Function/glLoad"></a><a class="el" href="./class_m_status.html">MStatus</a> glLoad </td>
<td>(</td>
<td class="paramtype">const <a class="el" href="./class_m_image_file_info.html">MImageFileInfo</a> &amp; </td>
<td class="paramname"><em>info</em>, </td>
</tr>
<tr>
<td class="paramkey"></td>
<td></td>
<td class="paramtype">unsigned int </td>
<td class="paramname"><em>imageNumber</em> </td>
</tr>
<tr>
<td></td>
<td>)</td>
<td></td><td></td>
</tr>
</table>
</td>
<td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span> </td>
</tr>
</table>
</div><div class="memdoc">
<p>Load the previously opened image file as an OpenGL texture. </p>
<p>The OpenGL texture will already have been bound by the caller of this method (i.e. do not call glBind again inside your implementation of this method - just use glTexImage2D or equivalent to load the texture). The type of texture that has been bound is specified in the information structure provided. It is important that your implementation verifies this type before loading any data, as loading an incompatible type may lead to instability. By overriding this method, you can implement non-2D texture support (such as cube maps), non-byte texture support (such as float and half), and compressed hardware texture support (such as DXT). You are free to use any available OpenGL extensions you want to load in the texture. While standard Maya shaders will only be able to use standard 2D textures, plugin hardware shaders can access non-2D textures loaded via this method. If your plugin set mipmaps to true at file open time, it is responsible for loading or generating the mipmap information inside this method.</p>
<dl class="params"><dt>Parameters</dt><dd>
<table class="params">
<tr><td class="paramdir">[in]</td><td class="paramname">info</td><td>a description of hardware texture to load. </td></tr>
<tr><td class="paramdir">[in]</td><td class="paramname">imageNumber</td><td>the index of image to load (for files containing multiple images)</td></tr>
</table>
</dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>MS::kFailure if the image cannot be loaded (e.g. it is corrupt) </li>
<li>MS::kSuccess otherwise </li>
</ul>
</dd></dl>
<dl class="section"><div class="dynheader closed" id="dynsection-example3" onclick="return toggleVisibility(this)" style="cursor:pointer;"><dt><img alt="+" id="dynsection-example3-trigger" src="cpp_ref/closed.png"/> <b>Examples: </b></dt></div><div class="dyncontent" id="dynsection-example3-content" style="display:none;"><dd><a class="el" href="./simple_image_file_2simple_image_file_8cpp-example.html#a7">simpleImageFile/simpleImageFile.cpp</a>.</dd></div>
</dl>
</div>
</div>
<a class="anchor" id="a0a34ca7b49311218db7cf12792d11f2d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
<tr>
<td class="mlabels-left">
<table class="memname">
<tr>
<td class="memname"><a class="dashAnchor" name="//apple_ref/cpp/Function/close"></a><a class="el" href="./class_m_status.html">MStatus</a> close </td>
<td>(</td>
<td class="paramname"></td><td>)</td>
<td></td>
</tr>
</table>
</td>
<td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span> </td>
</tr>
</table>
</div><div class="memdoc">
<p>Close the image file. </p>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>MS::kSuccess if the image was closed </li>
<li>MS::kFailure otherwise </li>
</ul>
</dd></dl>
<dl class="section"><div class="dynheader closed" id="dynsection-example4" onclick="return toggleVisibility(this)" style="cursor:pointer;"><dt><img alt="+" id="dynsection-example4-trigger" src="cpp_ref/closed.png"/> <b>Examples: </b></dt></div><div class="dyncontent" id="dynsection-example4-content" style="display:none;"><dd><a class="el" href="./tiff_float_reader_8cpp-example.html#a7">tiffFloatReader.cpp</a>.</dd></div>
</dl>
</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>MPxImageFile.h</li>
<li>MPxImageFile.cpp</li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div class="footer-block"><a class="comments-anchor" href="../html/ac.cmtdialog.htm" target="_blank"><span class="comments-link">Please send us your comment about this page</span></a></div></div>
</div></body>
</html>
