<!-- saved from url=(0024)http://docs.autodesk.com -->
<html>
<head><script src="../scripts/yepnope.1.5.4-min.js" type="text/javascript"></script><script src="../scripts/lib/jquery-1.11.1.min.js" type="text/javascript"></script>
<title>C++ API Reference: pointOnMeshInfo/pointOnMeshCmd.cpp</title>
</head>
<body height="100%"><div class="body_content" id="body-content"><link href="cpp_ref/navtree.css" rel="stylesheet" type="text/css"/><link href="cpp_ref/doxygen.css" rel="stylesheet" type="text/css"/><link href="cpp_ref/tabs.css" rel="stylesheet" type="text/css"/><link href="style/adsk.cpm.css" rel="stylesheet" type="text/css"/><script type="text/javascript">
var tocSystemNeedsToBeLoaded = typeof(cpp_ref_adsk_ref_toc) == 'undefined';
var weAreIn21 = $('div#main.view-active').length;
var tocPrefix = '';
if (weAreIn21)
{ tocPrefix = 'cpp_ref/'; }
function cpp_ref_initializeToc(forceTrigger) {
    cpp_ref_adsk_ref_toc.initResizable();
    cpp_ref_adsk_ref_toc.initNavTree('point_on_mesh_info_2point_on_mesh_cmd_8cpp-example.html', tocPrefix);
    dQuery(document).trigger('toc_initialized');
}
if (tocSystemNeedsToBeLoaded)
{
	yepnope([{
	load:[tocPrefix + 'json3.min.js', tocPrefix + 'jquery.js', tocPrefix + 'ref-toc-controller.js', tocPrefix + 'dynsections.js'],
	complete: function() {
	  if (typeof(dQuery) == 'undefined')
	  {
	    dQuery = jQuery.noConflict(true);
	  }
	  else { jQuery.noConflict(true); }
	  $(document).ready(cpp_ref_initializeToc);
	}
 	}])
}
if (!weAreIn21) { // if in AKN...
$(window).load( function() {
    setTimeout( function() {
        var content = $('body > div').not('#body-content');     // take any divs under body that are not id=body-content
        content.each( function() { 
            $(this).css( { 'padding-left': $(this).css('margin-left') } );       // and if they have any padding-left already, move it to margin-left.
        } );
        var width = cpp_ref_adsk_ref_toc.readFromStorage('width');
        content.css({marginLeft:parseInt(width)+6+"px"});
    }, 100);
} ); 
}
</script><script>
 if (!tocSystemNeedsToBeLoaded) { cpp_ref_initializeToc(); }
 </script>
<div>
<div class="head">
<h1>C++ API Reference: pointOnMeshInfo/pointOnMeshCmd.cpp</h1>
</div>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<!-- end header part -->
<!-- Generated by Doxygen 1.8.10 -->
<div class="tabs" id="navrow1">
<ul class="tablist">
<li><a href="./index.html"><span>Main Page</span></a></li>
<li><a href="./pages.html"><span>Related Pages</span></a></li>
<li><a href="./modules.html"><span>Modules</span></a></li>
<li><a href="./namespaces.html"><span>Namespaces</span></a></li>
<li><a href="./annotated.html"><span>Classes</span></a></li>
<li><a href="./examples.html"><span>Examples</span></a></li>
<li>
<div class="MSearchBoxInactive" id="MSearchBox">
<span class="left">
<img alt="" id="MSearchSelect" onmouseout="return searchBox.OnSearchSelectHide()" onmouseover="return searchBox.OnSearchSelectShow()" src="cpp_ref/search/mag_sel.png"/>
<input accesskey="S" id="MSearchField" onblur="searchBox.OnSearchFieldFocus(false)" onfocus="searchBox.OnSearchFieldFocus(true)" onkeyup="searchBox.OnSearchFieldChange(event)" type="text" value="Search"/>
</span><span class="right">
<a href="javascript:searchBox.CloseResultsWindow()" id="MSearchClose"><img alt="" border="0" id="MSearchCloseImg" src="cpp_ref/search/close.png"/></a>
</span>
</div>
</li>
</ul>
</div>
</div><!-- top -->
<div class="ui-resizable side-nav-resizable" id="side-nav">
<div id="nav-tree">
<div id="nav-tree-contents">
<div class="sync" id="nav-sync"></div>
</div>
</div>
<div class="ui-resizable-handle" id="splitbar" style="-moz-user-select:none;">
</div>
</div>
<div id="doc-content">
<!-- window showing the filter options -->
<!-- iframe showing the search results (closed by default) -->
<div class="header">
<div class="headertitle">
<div class="title">pointOnMeshInfo/pointOnMeshCmd.cpp</div> </div>
</div><!--header-->
<div class="contents">
<div class="fragment"><div class="line"><span class="comment">//-</span></div>
<div class="line"><span class="comment">// ==========================================================================</span></div>
<div class="line"><span class="comment">// Copyright 1995,2006,2008 Autodesk, Inc. All rights reserved.</span></div>
<div class="line"><span class="comment">//</span></div>
<div class="line"><span class="comment">// Use of this software is subject to the terms of the Autodesk</span></div>
<div class="line"><span class="comment">// license agreement provided at the time of installation or download,</span></div>
<div class="line"><span class="comment">// or which otherwise accompanies this software in either electronic</span></div>
<div class="line"><span class="comment">// or hard copy form.</span></div>
<div class="line"><span class="comment">// ==========================================================================</span></div>
<div class="line"><span class="comment">//+</span></div>
<div class="line"></div>
<div class="line"><span class="comment">// DISCLAIMER: THIS PLUGIN IS PROVIDED AS IS.  IT IS NOT SUPPORTED BY</span></div>
<div class="line"></div>
<div class="line"><span class="comment">//            AUTODESK, SO PLEASE USE AND MODIFY AT YOUR OWN RISK.</span></div>
<div class="line"></div>
<div class="line"></div>
<div class="line"></div>
<div class="line"><span class="comment">// PLUGIN NAME: pointOnMeshInfo v1.0</span></div>
<div class="line"></div>
<div class="line"><span class="comment">// FILE: pointOnMeshCmd.cpp</span></div>
<div class="line"></div>
<div class="line"><span class="comment">// DESCRIPTION: - Defines the `pointOnMesh` MEL command.</span></div>
<div class="line"></div>
<div class="line"><span class="comment">// AUTHOR: QT</span></div>
<div class="line"></div>
<div class="line"><span class="comment">// REFERENCES: - This plug-in is based on the `pointOnSurface` MEL command and "pointOnSurfaceInfo" node.</span></div>
<div class="line"></div>
<div class="line"><span class="comment">//             - The pointOnSubdNode.cpp plug-in example from the Maya Developer Kit was also used for reference.</span></div>
<div class="line"></div>
<div class="line"><span class="comment">// LAST UPDATED: Oct. 11th, 2001.</span></div>
<div class="line"></div>
<div class="line"><span class="comment">// COMPILED AND TESTED ON: Maya 4.0 on Windows</span></div>
<div class="line"></div>
<div class="line"></div>
<div class="line"></div>
<div class="line"></div>
<div class="line"></div>
<div class="line"><span class="comment">// HEADER FILES:</span></div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#include "pointOnMeshCmd.h"</span></div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#include "getPointAndNormal.h"</span></div>
<div class="line"></div>
<div class="line"></div>
<div class="line"></div>
<div class="line"></div>
<div class="line"></div>
<div class="line"><span class="comment">// CONSTRUCTOR DEFINITION:</span></div>
<div class="line"></div>
<div class="line">pointOnMeshCommand::pointOnMeshCommand()</div>
<div class="line"></div>
<div class="line">{</div>
<div class="line"></div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"></div>
<div class="line"></div>
<div class="line"></div>
<div class="line"><span class="comment">// DESTRUCTOR DEFINITION:</span></div>
<div class="line"></div>
<div class="line">pointOnMeshCommand::~pointOnMeshCommand()</div>
<div class="line"></div>
<div class="line">{</div>
<div class="line"></div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"></div>
<div class="line"></div>
<div class="line"></div>
<div class="line"><span class="comment">// METHOD FOR CREATING AN INSTANCE OF THIS COMMAND:</span></div>
<div class="line"></div>
<div class="line"><span class="keywordtype">void</span>* pointOnMeshCommand::creator()</div>
<div class="line"></div>
<div class="line">{</div>
<div class="line"></div>
<div class="line"> <span class="keywordflow">return</span> <span class="keyword">new</span> pointOnMeshCommand;</div>
<div class="line"></div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"></div>
<div class="line"></div>
<div class="line"></div>
<div class="line"><span class="comment">// MAKE THIS COMMAND UNDOABLE:</span></div>
<div class="line"></div>
<div class="line"><span class="keywordtype">bool</span> pointOnMeshCommand::isUndoable()<span class="keyword"> const</span></div>
<div class="line"><span class="keyword"></span></div>
<div class="line"><span class="keyword"></span>{</div>
<div class="line"></div>
<div class="line"> <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"></div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"></div>
<div class="line"></div>
<div class="line"></div>
<div class="line"><span class="comment">// FIRST INVOKED WHEN COMMAND IS CALLED, PARSING THE COMMAND ARGUMENTS, INITIALIZING DEFAULT PARAMETERS, THEN CALLING redoIt():</span></div>
<div class="line"></div>
<div class="line"><a name="_a0"></a><a class="code" href="./class_m_status.html">MStatus</a> pointOnMeshCommand::doIt(<span class="keyword">const</span> <a name="_a1"></a><a class="code" href="./class_m_arg_list.html">MArgList</a>&amp; args)</div>
<div class="line"></div>
<div class="line">{</div>
<div class="line"></div>
<div class="line"> <span class="comment">// INITIALIZE PRIVATE DATA FOR THE COMMAND:</span></div>
<div class="line"></div>
<div class="line">   nodeCreated = positionSpecified = normalSpecified = faceIndexSpecified = relativeSpecified = parameterUSpecified = parameterVSpecified = <span class="keyword">false</span>;</div>
<div class="line"></div>
<div class="line">   meshNodeName = pointOnMeshInfoName = <span class="stringliteral">""</span>;</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"></div>
<div class="line"> <span class="comment">// PARSE THE COMMAND'S ARGUMENTS:</span></div>
<div class="line"></div>
<div class="line"> <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> i=0; i&lt;args.<a name="a2"></a><a class="code" href="./class_m_arg_list.html#a99dd6a54b909ede1d11702fe58977e2a">length</a>(); i++)</div>
<div class="line"></div>
<div class="line">   {</div>
<div class="line"></div>
<div class="line"> <span class="keywordflow">if</span> ((<a name="_a3"></a><a class="code" href="./class_m_string.html">MString</a>(<span class="stringliteral">"-name"</span>)==args.<a name="a4"></a><a class="code" href="./class_m_arg_list.html#ad24ff3826e4df513b55e1a0ecb0a665b">asString</a>(i)) || (<a class="code" href="./class_m_string.html">MString</a>(<span class="stringliteral">"-na"</span>)==args.<a class="code" href="./class_m_arg_list.html#ad24ff3826e4df513b55e1a0ecb0a665b">asString</a>(i)))</div>
<div class="line"></div>
<div class="line">         pointOnMeshInfoName = args.<a class="code" href="./class_m_arg_list.html#ad24ff3826e4df513b55e1a0ecb0a665b">asString</a>(++i);</div>
<div class="line"></div>
<div class="line"> <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((<a class="code" href="./class_m_string.html">MString</a>(<span class="stringliteral">"-position"</span>)==args.<a class="code" href="./class_m_arg_list.html#ad24ff3826e4df513b55e1a0ecb0a665b">asString</a>(i)) || (<a class="code" href="./class_m_string.html">MString</a>(<span class="stringliteral">"-p"</span>)==args.<a class="code" href="./class_m_arg_list.html#ad24ff3826e4df513b55e1a0ecb0a665b">asString</a>(i)))</div>
<div class="line"></div>
<div class="line">         positionSpecified = <span class="keyword">true</span>;</div>
<div class="line"></div>
<div class="line"> <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((<a class="code" href="./class_m_string.html">MString</a>(<span class="stringliteral">"-normal"</span>)==args.<a class="code" href="./class_m_arg_list.html#ad24ff3826e4df513b55e1a0ecb0a665b">asString</a>(i)) || (<a class="code" href="./class_m_string.html">MString</a>(<span class="stringliteral">"-nr"</span>)==args.<a class="code" href="./class_m_arg_list.html#ad24ff3826e4df513b55e1a0ecb0a665b">asString</a>(i)))</div>
<div class="line"></div>
<div class="line">         normalSpecified = <span class="keyword">true</span>;</div>
<div class="line"></div>
<div class="line"> <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((<a class="code" href="./class_m_string.html">MString</a>(<span class="stringliteral">"-faceIndex"</span>)==args.<a class="code" href="./class_m_arg_list.html#ad24ff3826e4df513b55e1a0ecb0a665b">asString</a>(i)) || (<a class="code" href="./class_m_string.html">MString</a>(<span class="stringliteral">"-f"</span>)==args.<a class="code" href="./class_m_arg_list.html#ad24ff3826e4df513b55e1a0ecb0a665b">asString</a>(i)))</div>
<div class="line"></div>
<div class="line">      {</div>
<div class="line"></div>
<div class="line">         faceIndexSpecified = <span class="keyword">true</span>;</div>
<div class="line"></div>
<div class="line"> <span class="keywordtype">int</span> temp = args.<a name="a5"></a><a class="code" href="./class_m_arg_list.html#a54e9c6d91b7b999624b2384bc52f12a2">asInt</a>(++i);</div>
<div class="line"></div>
<div class="line"> <span class="keywordflow">if</span> (temp&lt;0)</div>
<div class="line"></div>
<div class="line">         {</div>
<div class="line"></div>
<div class="line">            displayError(<span class="stringliteral">"Invalid faceIndex!"</span>);</div>
<div class="line"></div>
<div class="line"> <span class="keywordflow">return</span> MS::kFailure;</div>
<div class="line"></div>
<div class="line">         }</div>
<div class="line"></div>
<div class="line">         faceIndex = temp;</div>
<div class="line"></div>
<div class="line">      }</div>
<div class="line"></div>
<div class="line"> <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((<a class="code" href="./class_m_string.html">MString</a>(<span class="stringliteral">"-relative"</span>)==args.<a class="code" href="./class_m_arg_list.html#ad24ff3826e4df513b55e1a0ecb0a665b">asString</a>(i)) || (<a class="code" href="./class_m_string.html">MString</a>(<span class="stringliteral">"-r"</span>)==args.<a class="code" href="./class_m_arg_list.html#ad24ff3826e4df513b55e1a0ecb0a665b">asString</a>(i)))</div>
<div class="line"></div>
<div class="line">      {</div>
<div class="line"></div>
<div class="line">         relativeSpecified = <span class="keyword">true</span>;</div>
<div class="line"></div>
<div class="line">         relative = args.<a name="a6"></a><a class="code" href="./class_m_arg_list.html#ae784f8b1dc47107155eec3e8e6af0722">asBool</a>(++i);</div>
<div class="line"></div>
<div class="line">      }</div>
<div class="line"></div>
<div class="line"> <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((<a class="code" href="./class_m_string.html">MString</a>(<span class="stringliteral">"-parameterU"</span>)==args.<a class="code" href="./class_m_arg_list.html#ad24ff3826e4df513b55e1a0ecb0a665b">asString</a>(i)) || (<a class="code" href="./class_m_string.html">MString</a>(<span class="stringliteral">"-u"</span>)==args.<a class="code" href="./class_m_arg_list.html#ad24ff3826e4df513b55e1a0ecb0a665b">asString</a>(i)))</div>
<div class="line"></div>
<div class="line">      {</div>
<div class="line"></div>
<div class="line">         parameterUSpecified = <span class="keyword">true</span>;</div>
<div class="line"></div>
<div class="line"> <span class="keywordtype">double</span> temp = args.<a name="a7"></a><a class="code" href="./class_m_arg_list.html#a15a33f5705d13873ab7f003bb64f0741">asDouble</a>(++i);</div>
<div class="line"></div>
<div class="line"> <span class="keywordflow">if</span> ((temp&lt;0) || (temp&gt;1))</div>
<div class="line"></div>
<div class="line">         {</div>
<div class="line"></div>
<div class="line">            displayError(<span class="stringliteral">"Invalid parameterU!"</span>);</div>
<div class="line"></div>
<div class="line"> <span class="keywordflow">return</span> MS::kFailure;</div>
<div class="line"></div>
<div class="line">         }</div>
<div class="line"></div>
<div class="line">         parameterU = temp;</div>
<div class="line"></div>
<div class="line">      }</div>
<div class="line"></div>
<div class="line"> <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((<a class="code" href="./class_m_string.html">MString</a>(<span class="stringliteral">"-parameterV"</span>)==args.<a class="code" href="./class_m_arg_list.html#ad24ff3826e4df513b55e1a0ecb0a665b">asString</a>(i)) || (<a class="code" href="./class_m_string.html">MString</a>(<span class="stringliteral">"-v"</span>)==args.<a class="code" href="./class_m_arg_list.html#ad24ff3826e4df513b55e1a0ecb0a665b">asString</a>(i)))</div>
<div class="line"></div>
<div class="line">      {</div>
<div class="line"></div>
<div class="line">         parameterVSpecified = <span class="keyword">true</span>;</div>
<div class="line"></div>
<div class="line"> <span class="keywordtype">double</span> temp = args.<a class="code" href="./class_m_arg_list.html#a15a33f5705d13873ab7f003bb64f0741">asDouble</a>(++i);</div>
<div class="line"></div>
<div class="line"> <span class="keywordflow">if</span> ((temp&lt;0) || (temp&gt;1))</div>
<div class="line"></div>
<div class="line">         {</div>
<div class="line"></div>
<div class="line">            displayError(<span class="stringliteral">"Invalid parameterV!"</span>);</div>
<div class="line"></div>
<div class="line"> <span class="keywordflow">return</span> MS::kFailure;</div>
<div class="line"></div>
<div class="line">         }</div>
<div class="line"></div>
<div class="line">         parameterV = temp;</div>
<div class="line"></div>
<div class="line">      }</div>
<div class="line"></div>
<div class="line"> <span class="keywordflow">else</span> <span class="keywordflow">if</span> (i==(args.<a class="code" href="./class_m_arg_list.html#a99dd6a54b909ede1d11702fe58977e2a">length</a>()-1))</div>
<div class="line"></div>
<div class="line">         meshNodeName = args.<a class="code" href="./class_m_arg_list.html#ad24ff3826e4df513b55e1a0ecb0a665b">asString</a>(i);</div>
<div class="line"></div>
<div class="line"> <span class="keywordflow">else</span></div>
<div class="line"></div>
<div class="line">      {</div>
<div class="line"></div>
<div class="line"> <a class="code" href="./class_m_string.html">MString</a> errorMessage = <span class="stringliteral">"Invalid flag: "</span>;</div>
<div class="line"></div>
<div class="line">         errorMessage += args.<a class="code" href="./class_m_arg_list.html#ad24ff3826e4df513b55e1a0ecb0a665b">asString</a>(i);</div>
<div class="line"></div>
<div class="line">         displayError(errorMessage);</div>
<div class="line"></div>
<div class="line"> <span class="keywordflow">return</span> MS::kFailure;</div>
<div class="line"></div>
<div class="line">      }</div>
<div class="line"></div>
<div class="line">   }</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"></div>
<div class="line"> <span class="comment">// MAKE SURE UNSPECIFIED INPUT PARAMETER FLAGS GET DEFAULT VALUES:</span></div>
<div class="line"></div>
<div class="line"> <span class="keywordflow">if</span> (!faceIndexSpecified)</div>
<div class="line"></div>
<div class="line">      faceIndex = 0;</div>
<div class="line"></div>
<div class="line"> <span class="keywordflow">if</span> (!relativeSpecified)</div>
<div class="line"></div>
<div class="line">      relative = <span class="keyword">true</span>;</div>
<div class="line"></div>
<div class="line"> <span class="keywordflow">if</span> (!parameterUSpecified)</div>
<div class="line"></div>
<div class="line">      parameterU = 0.5;</div>
<div class="line"></div>
<div class="line"> <span class="keywordflow">if</span> (!parameterVSpecified)</div>
<div class="line"></div>
<div class="line">      parameterV = 0.5;</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"></div>
<div class="line"> <span class="comment">// DO THE WORK:</span></div>
<div class="line"></div>
<div class="line"> <span class="keywordflow">return</span> redoIt();</div>
<div class="line"></div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"></div>
<div class="line"></div>
<div class="line"></div>
<div class="line"><span class="comment">// DOES MOST OF THE WORK IN COMPUTING THE POSITION, NORMAL, OR CREATING A "pointOnMeshInfo" NODE:</span></div>
<div class="line"></div>
<div class="line"><a class="code" href="./class_m_status.html">MStatus</a> pointOnMeshCommand::redoIt()</div>
<div class="line"></div>
<div class="line">{</div>
<div class="line"></div>
<div class="line"> <span class="comment">// WHEN NO MESH IS SPECIFIED IN THE COMMAND, GET THE FIRST SELECTED MESH FROM THE SELECTION LIST:</span></div>
<div class="line"></div>
<div class="line"> <a name="_a8"></a><a class="code" href="./class_m_selection_list.html">MSelectionList</a> sList;</div>
<div class="line"></div>
<div class="line"> <span class="keywordflow">if</span> (meshNodeName==<span class="stringliteral">""</span>)</div>
<div class="line"></div>
<div class="line">   {</div>
<div class="line"></div>
<div class="line"> <a name="a9"></a><a class="code" href="./class_m_global.html#a6d81d38246555884897fb153c93aaf42">MGlobal::getActiveSelectionList</a>(sList);</div>
<div class="line"></div>
<div class="line"> <span class="keywordflow">if</span> (sList.<a name="a10"></a><a class="code" href="./class_m_selection_list.html#a99dd6a54b909ede1d11702fe58977e2a">length</a>()==0)</div>
<div class="line"></div>
<div class="line">      {</div>
<div class="line"></div>
<div class="line">         displayError(<span class="stringliteral">"No mesh or mesh transform specified!"</span>);</div>
<div class="line"></div>
<div class="line"> <span class="keywordflow">return</span> MS::kFailure; </div>
<div class="line"></div>
<div class="line">      }</div>
<div class="line"></div>
<div class="line">   }</div>
<div class="line"></div>
<div class="line"> <span class="comment">// OTHERWISE, USE THE NODE NAME SPECIFIED IN THE LAST ARGUMENT OF THE COMMAND:</span></div>
<div class="line"></div>
<div class="line"> <span class="keywordflow">else</span> <span class="keywordflow">if</span> (sList.<a name="a11"></a><a class="code" href="./class_m_selection_list.html#a23929aeafb29672f2652128eac9c4dec">add</a>(meshNodeName) == MS::kInvalidParameter)</div>
<div class="line"></div>
<div class="line">   {</div>
<div class="line"></div>
<div class="line">      displayError(<span class="stringliteral">"Specified mesh does not exist!"</span>);</div>
<div class="line"></div>
<div class="line"> <span class="keywordflow">return</span> MS::kFailure; </div>
<div class="line"></div>
<div class="line">   }</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"></div>
<div class="line"> <span class="comment">// RETRIEVE THE FIRST ITEM FROM THE SELECTION LIST:</span></div>
<div class="line"></div>
<div class="line"> <a name="_a12"></a><a class="code" href="./class_m_dag_path.html">MDagPath</a> meshDagPath;</div>
<div class="line"></div>
<div class="line">   sList.<a name="a13"></a><a class="code" href="./class_m_selection_list.html#a16dda1a34d5f10be257d8421ac6deabd">getDagPath</a>(0, meshDagPath);</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"></div>
<div class="line"> <span class="comment">// CREATE AND CONNECT A "pointOnMeshInfo" NODE, OR GET THE POINT AND NORMAL ACCORDING TO</span></div>
<div class="line"></div>
<div class="line"> <span class="comment">// WHETHER THE "-position/-p" AND/OR "-normal/-nr" FLAGS WERE SPECIFIED, AND WHETHER THE MESH</span></div>
<div class="line"></div>
<div class="line"> <span class="comment">// "SHAPE" OR ITS "TRANSFORM" WAS SPECIFIED/SELECTED:</span></div>
<div class="line"></div>
<div class="line"> <a name="_a14"></a><a class="code" href="./class_m_point.html">MPoint</a> point;</div>
<div class="line"></div>
<div class="line"> <a name="_a15"></a><a class="code" href="./class_m_vector.html">MVector</a> normal;</div>
<div class="line"></div>
<div class="line"> <span class="comment">// WHEN THE SPECIFIED NODE IS THE MESH "SHAPE":</span></div>
<div class="line"></div>
<div class="line"> <span class="keywordflow">if</span> (meshDagPath.<a name="a16"></a><a class="code" href="./class_m_dag_path.html#ae024049dad815f2f186e6a4fead8be51">node</a>().<a name="a17"></a><a class="code" href="./class_m_object.html#af0af77f14f96d1134fb8e8e60dc7e420">hasFn</a>(<a name="a18"></a><a class="code" href="./class_m_fn.html#a1d1cfd8ffb84e947f82999c682b666a7a19fd562fc0900a60162e6073df36cb62">MFn::kMesh</a>))</div>
<div class="line"></div>
<div class="line">   {</div>
<div class="line"></div>
<div class="line"> <span class="comment">// WHEN NEITHER "-position/-p" NOR "-normal/-nr" ARE SPECIFIED, CREATE AND CONNECT A "pointOnMeshInfo" NODE AND RETURN ITS NODE NAME:</span></div>
<div class="line"></div>
<div class="line"> <span class="keywordflow">if</span> (!positionSpecified &amp;&amp; !normalSpecified)</div>
<div class="line"></div>
<div class="line">      {</div>
<div class="line"></div>
<div class="line"> <span class="comment">// CREATE THE NODE:</span></div>
<div class="line"></div>
<div class="line">         nodeCreated = <span class="keyword">true</span>;</div>
<div class="line"></div>
<div class="line"> <a name="_a19"></a><a class="code" href="./class_m_fn_dependency_node.html">MFnDependencyNode</a> depNodeFn;</div>
<div class="line"></div>
<div class="line"> <span class="keywordflow">if</span> (pointOnMeshInfoName == <span class="stringliteral">""</span>)</div>
<div class="line"></div>
<div class="line">            depNodeFn.<a name="a20"></a><a class="code" href="./class_m_fn_dependency_node.html#aae69364b2e9c744f9e36acb18dccaf30">create</a>(<span class="stringliteral">"pointOnMeshInfo"</span>);</div>
<div class="line"></div>
<div class="line"> <span class="keywordflow">else</span></div>
<div class="line"></div>
<div class="line">            depNodeFn.<a class="code" href="./class_m_fn_dependency_node.html#aae69364b2e9c744f9e36acb18dccaf30">create</a>(<span class="stringliteral">"pointOnMeshInfo"</span>, pointOnMeshInfoName);</div>
<div class="line"></div>
<div class="line">         pointOnMeshInfoName = depNodeFn.<a name="a21"></a><a class="code" href="./class_m_fn_dependency_node.html#a049384adbea0396ea2f03d1ad4d69df1">name</a>();</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"></div>
<div class="line"> <span class="comment">// SET THE ".faceIndex" ATTRIBUTE, IF SPECIFIED IN THE COMMAND:</span></div>
<div class="line"></div>
<div class="line"> <span class="keywordflow">if</span> (faceIndexSpecified)</div>
<div class="line"></div>
<div class="line">         {</div>
<div class="line"></div>
<div class="line"> <a name="_a22"></a><a class="code" href="./class_m_plug.html">MPlug</a> faceIndexPlug = depNodeFn.<a name="a23"></a><a class="code" href="./class_m_fn_dependency_node.html#aac29b4a3b51c9d236175e955638f7153">findPlug</a>(<span class="stringliteral">"faceIndex"</span>, <span class="keyword">true</span>);</div>
<div class="line"></div>
<div class="line">            faceIndexPlug.<a name="a24"></a><a class="code" href="./class_m_plug.html#aec7c3792a53d27a61ece4f7b81cc123b">setValue</a>(faceIndex);</div>
<div class="line"></div>
<div class="line">         }</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"></div>
<div class="line"> <span class="comment">// SET THE ".relative" ATTRIBUTE, IF SPECIFIED IN THE COMMAND:</span></div>
<div class="line"></div>
<div class="line"> <span class="keywordflow">if</span> (relativeSpecified)</div>
<div class="line"></div>
<div class="line">         {</div>
<div class="line"></div>
<div class="line"> <a class="code" href="./class_m_plug.html">MPlug</a> relativePlug = depNodeFn.<a class="code" href="./class_m_fn_dependency_node.html#aac29b4a3b51c9d236175e955638f7153">findPlug</a>(<span class="stringliteral">"relative"</span>, <span class="keyword">true</span>);</div>
<div class="line"></div>
<div class="line">            relativePlug.<a class="code" href="./class_m_plug.html#aec7c3792a53d27a61ece4f7b81cc123b">setValue</a>(relative);</div>
<div class="line"></div>
<div class="line">         }</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"></div>
<div class="line"> <span class="comment">// SET THE ".parameterU" ATTRIBUTE, IF SPECIFIED IN THE COMMAND:</span></div>
<div class="line"></div>
<div class="line"> <span class="keywordflow">if</span> (parameterUSpecified)</div>
<div class="line"></div>
<div class="line">         {</div>
<div class="line"></div>
<div class="line"> <a class="code" href="./class_m_plug.html">MPlug</a> parameterUPlug = depNodeFn.<a class="code" href="./class_m_fn_dependency_node.html#aac29b4a3b51c9d236175e955638f7153">findPlug</a>(<span class="stringliteral">"parameterU"</span>, <span class="keyword">true</span>);</div>
<div class="line"></div>
<div class="line">            parameterUPlug.<a class="code" href="./class_m_plug.html#aec7c3792a53d27a61ece4f7b81cc123b">setValue</a>(parameterU);</div>
<div class="line"></div>
<div class="line">         }</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"></div>
<div class="line"> <span class="comment">// SET THE ".parameterV" ATTRIBUTE, IF SPECIFIED IN THE COMMAND:</span></div>
<div class="line"></div>
<div class="line"> <span class="keywordflow">if</span> (parameterVSpecified)</div>
<div class="line"></div>
<div class="line">         {</div>
<div class="line"></div>
<div class="line"> <a class="code" href="./class_m_plug.html">MPlug</a> parameterVPlug = depNodeFn.<a class="code" href="./class_m_fn_dependency_node.html#aac29b4a3b51c9d236175e955638f7153">findPlug</a>(<span class="stringliteral">"parameterV"</span>, <span class="keyword">true</span>);</div>
<div class="line"></div>
<div class="line">            parameterVPlug.<a class="code" href="./class_m_plug.html#aec7c3792a53d27a61ece4f7b81cc123b">setValue</a>(parameterV);</div>
<div class="line"></div>
<div class="line">         }</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"></div>
<div class="line"> <span class="comment">// CONNECT THE NODES:</span></div>
<div class="line"></div>
<div class="line"> <a class="code" href="./class_m_plug.html">MPlug</a> worldMeshPlug, inMeshPlug;</div>
<div class="line"></div>
<div class="line">         inMeshPlug = depNodeFn.<a class="code" href="./class_m_fn_dependency_node.html#aac29b4a3b51c9d236175e955638f7153">findPlug</a>(<span class="stringliteral">"inMesh"</span>, <span class="keyword">true</span>);</div>
<div class="line"></div>
<div class="line">         depNodeFn.<a name="a25"></a><a class="code" href="./class_m_fn_base.html#ad09f5acece0f9926b3e0e55cff78c3be">setObject</a>(meshDagPath.<a class="code" href="./class_m_dag_path.html#ae024049dad815f2f186e6a4fead8be51">node</a>());</div>
<div class="line"></div>
<div class="line">         worldMeshPlug = depNodeFn.<a class="code" href="./class_m_fn_dependency_node.html#aac29b4a3b51c9d236175e955638f7153">findPlug</a>(<span class="stringliteral">"worldMesh"</span>, <span class="keyword">true</span>);</div>
<div class="line"></div>
<div class="line">         worldMeshPlug = worldMeshPlug.<a name="a26"></a><a class="code" href="./class_m_plug.html#a17852838d9f319e8bbebaa723969d02c">elementByLogicalIndex</a>(0);  <span class="comment">// ASSUME THE *FIRST* INSTANCE OF THE MESH IS REQUESTED FOR MESH SHAPES.</span></div>
<div class="line"></div>
<div class="line"> <a name="_a27"></a><a class="code" href="./class_m_d_g_modifier.html">MDGModifier</a> dgModifier;</div>
<div class="line"></div>
<div class="line">         dgModifier.<a name="a28"></a><a class="code" href="./class_m_d_g_modifier.html#afbd18f066f70fcd1864ddb4af91f3c7b">connect</a>(worldMeshPlug, inMeshPlug);</div>
<div class="line"></div>
<div class="line">         dgModifier.<a name="a29"></a><a class="code" href="./class_m_d_g_modifier.html#a984345cd272bc1a32a9fc2e93a6678b2">doIt</a>();</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"></div>
<div class="line"> <span class="comment">// SET COMMAND RESULT AND RETURN:</span></div>
<div class="line"></div>
<div class="line">         setResult(pointOnMeshInfoName);</div>
<div class="line"></div>
<div class="line"> <span class="keywordflow">return</span> <a name="a30"></a><a class="code" href="./class_m_status.html#a02ab596f4febca68da503aaf8dde3a80af0536797208144380691e2b376ffc1d1">MStatus::kSuccess</a>;</div>
<div class="line"></div>
<div class="line">      }</div>
<div class="line"></div>
<div class="line"> <span class="comment">// OTHERWISE, COMPUTE THE POINT-POSITION AND NORMAL, USING THE *FIRST* INSTANCE'S TRANSFORM:</span></div>
<div class="line"></div>
<div class="line"> <span class="keywordflow">else</span></div>
<div class="line"></div>
<div class="line">         getPointAndNormal(meshDagPath, faceIndex, relative, parameterU, parameterV, point, normal);</div>
<div class="line"></div>
<div class="line">   }</div>
<div class="line"></div>
<div class="line"> <span class="comment">// WHEN THE SPECIFIED NODE IS A "TRANSFORM" OF A MESH SHAPE:</span></div>
<div class="line"></div>
<div class="line"> <span class="keywordflow">else</span> <span class="keywordflow">if</span> (meshDagPath.<a class="code" href="./class_m_dag_path.html#ae024049dad815f2f186e6a4fead8be51">node</a>().<a class="code" href="./class_m_object.html#af0af77f14f96d1134fb8e8e60dc7e420">hasFn</a>(<a name="a31"></a><a class="code" href="./class_m_fn.html#a1d1cfd8ffb84e947f82999c682b666a7adafa274206df602835f0f22ae887e126">MFn::kTransform</a>) &amp;&amp; meshDagPath.<a name="a32"></a><a class="code" href="./class_m_dag_path.html#a5901f0fa543d32fb13756c2d004f37ae">hasFn</a>(<a class="code" href="./class_m_fn.html#a1d1cfd8ffb84e947f82999c682b666a7a19fd562fc0900a60162e6073df36cb62">MFn::kMesh</a>))</div>
<div class="line"></div>
<div class="line">   {</div>
<div class="line"></div>
<div class="line"> <span class="comment">// WHEN NEITHER "-position/-p" NOR "-normal/-nr" ARE SPECIFIED, CREATE AND CONNECT A "pointOnMeshInfo" NODE AND RETURN ITS NODE NAME:</span></div>
<div class="line"></div>
<div class="line"> <span class="keywordflow">if</span> (!positionSpecified &amp;&amp; !normalSpecified)</div>
<div class="line"></div>
<div class="line">      {</div>
<div class="line"></div>
<div class="line"> <span class="comment">// CREATE THE NODE:</span></div>
<div class="line"></div>
<div class="line">         nodeCreated = <span class="keyword">true</span>;</div>
<div class="line"></div>
<div class="line">         meshDagPath.<a name="a33"></a><a class="code" href="./class_m_dag_path.html#a658d9664035ff84ffefa217c0e45cc88">extendToShape</a>();</div>
<div class="line"></div>
<div class="line"> <a class="code" href="./class_m_fn_dependency_node.html">MFnDependencyNode</a> depNodeFn;</div>
<div class="line"></div>
<div class="line"> <span class="keywordflow">if</span> (pointOnMeshInfoName == <span class="stringliteral">""</span>)</div>
<div class="line"></div>
<div class="line">            depNodeFn.<a class="code" href="./class_m_fn_dependency_node.html#aae69364b2e9c744f9e36acb18dccaf30">create</a>(<span class="stringliteral">"pointOnMeshInfo"</span>);</div>
<div class="line"></div>
<div class="line"> <span class="keywordflow">else</span></div>
<div class="line"></div>
<div class="line">            depNodeFn.<a class="code" href="./class_m_fn_dependency_node.html#aae69364b2e9c744f9e36acb18dccaf30">create</a>(<span class="stringliteral">"pointOnMeshInfo"</span>, pointOnMeshInfoName);</div>
<div class="line"></div>
<div class="line">         pointOnMeshInfoName = depNodeFn.<a class="code" href="./class_m_fn_dependency_node.html#a049384adbea0396ea2f03d1ad4d69df1">name</a>();</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"></div>
<div class="line"> <span class="comment">// SET THE ".faceIndex" ATTRIBUTE, IF SPECIFIED IN THE COMMAND:</span></div>
<div class="line"></div>
<div class="line"> <span class="keywordflow">if</span> (faceIndexSpecified)</div>
<div class="line"></div>
<div class="line">         {</div>
<div class="line"></div>
<div class="line"> <a class="code" href="./class_m_plug.html">MPlug</a> faceIndexPlug = depNodeFn.<a class="code" href="./class_m_fn_dependency_node.html#aac29b4a3b51c9d236175e955638f7153">findPlug</a>(<span class="stringliteral">"faceIndex"</span>, <span class="keyword">true</span>);</div>
<div class="line"></div>
<div class="line">            faceIndexPlug.<a class="code" href="./class_m_plug.html#aec7c3792a53d27a61ece4f7b81cc123b">setValue</a>(faceIndex);</div>
<div class="line"></div>
<div class="line">         }</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"></div>
<div class="line"> <span class="comment">// SET THE ".relative" ATTRIBUTE, IF SPECIFIED IN THE COMMAND:</span></div>
<div class="line"></div>
<div class="line"> <span class="keywordflow">if</span> (relativeSpecified)</div>
<div class="line"></div>
<div class="line">         {</div>
<div class="line"></div>
<div class="line"> <a class="code" href="./class_m_plug.html">MPlug</a> relativePlug = depNodeFn.<a class="code" href="./class_m_fn_dependency_node.html#aac29b4a3b51c9d236175e955638f7153">findPlug</a>(<span class="stringliteral">"relative"</span>, <span class="keyword">true</span>);</div>
<div class="line"></div>
<div class="line">            relativePlug.<a class="code" href="./class_m_plug.html#aec7c3792a53d27a61ece4f7b81cc123b">setValue</a>(relative);</div>
<div class="line"></div>
<div class="line">         }</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"></div>
<div class="line"> <span class="comment">// SET THE ".parameterU" ATTRIBUTE, IF SPECIFIED IN THE COMMAND:</span></div>
<div class="line"></div>
<div class="line"> <span class="keywordflow">if</span> (parameterUSpecified)</div>
<div class="line"></div>
<div class="line">         {</div>
<div class="line"></div>
<div class="line"> <a class="code" href="./class_m_plug.html">MPlug</a> parameterUPlug = depNodeFn.<a class="code" href="./class_m_fn_dependency_node.html#aac29b4a3b51c9d236175e955638f7153">findPlug</a>(<span class="stringliteral">"parameterU"</span>, <span class="keyword">true</span>);</div>
<div class="line"></div>
<div class="line">            parameterUPlug.<a class="code" href="./class_m_plug.html#aec7c3792a53d27a61ece4f7b81cc123b">setValue</a>(parameterU);</div>
<div class="line"></div>
<div class="line">         }</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"></div>
<div class="line"> <span class="comment">// SET THE ".parameterV" ATTRIBUTE, IF SPECIFIED IN THE COMMAND:</span></div>
<div class="line"></div>
<div class="line"> <span class="keywordflow">if</span> (parameterVSpecified)</div>
<div class="line"></div>
<div class="line">         {</div>
<div class="line"></div>
<div class="line"> <a class="code" href="./class_m_plug.html">MPlug</a> parameterVPlug = depNodeFn.<a class="code" href="./class_m_fn_dependency_node.html#aac29b4a3b51c9d236175e955638f7153">findPlug</a>(<span class="stringliteral">"parameterV"</span>, <span class="keyword">true</span>);</div>
<div class="line"></div>
<div class="line">            parameterVPlug.<a class="code" href="./class_m_plug.html#aec7c3792a53d27a61ece4f7b81cc123b">setValue</a>(parameterV);</div>
<div class="line"></div>
<div class="line">         }</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"></div>
<div class="line"> <span class="comment">// CONNECT THE NODES:</span></div>
<div class="line"></div>
<div class="line"> <a class="code" href="./class_m_plug.html">MPlug</a> worldMeshPlug, inMeshPlug;</div>
<div class="line"></div>
<div class="line">         inMeshPlug = depNodeFn.<a class="code" href="./class_m_fn_dependency_node.html#aac29b4a3b51c9d236175e955638f7153">findPlug</a>(<span class="stringliteral">"inMesh"</span>, <span class="keyword">true</span>);</div>
<div class="line"></div>
<div class="line">         depNodeFn.<a class="code" href="./class_m_fn_base.html#ad09f5acece0f9926b3e0e55cff78c3be">setObject</a>(meshDagPath.<a class="code" href="./class_m_dag_path.html#ae024049dad815f2f186e6a4fead8be51">node</a>());</div>
<div class="line"></div>
<div class="line">         worldMeshPlug = depNodeFn.<a class="code" href="./class_m_fn_dependency_node.html#aac29b4a3b51c9d236175e955638f7153">findPlug</a>(<span class="stringliteral">"worldMesh"</span>, <span class="keyword">true</span>);</div>
<div class="line"></div>
<div class="line">         worldMeshPlug = worldMeshPlug.<a class="code" href="./class_m_plug.html#a17852838d9f319e8bbebaa723969d02c">elementByLogicalIndex</a>(meshDagPath.<a name="a34"></a><a class="code" href="./class_m_dag_path.html#ac908055bb978bce38fcb5f1af6620760">instanceNumber</a>());</div>
<div class="line"></div>
<div class="line"> <a class="code" href="./class_m_d_g_modifier.html">MDGModifier</a> dgModifier;</div>
<div class="line"></div>
<div class="line">         dgModifier.<a class="code" href="./class_m_d_g_modifier.html#afbd18f066f70fcd1864ddb4af91f3c7b">connect</a>(worldMeshPlug, inMeshPlug);</div>
<div class="line"></div>
<div class="line">         dgModifier.<a class="code" href="./class_m_d_g_modifier.html#a984345cd272bc1a32a9fc2e93a6678b2">doIt</a>();</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"></div>
<div class="line"> <span class="comment">// SET COMMAND RESULT AND RETURN:</span></div>
<div class="line"></div>
<div class="line">         setResult(pointOnMeshInfoName);</div>
<div class="line"></div>
<div class="line"> <span class="keywordflow">return</span> <a class="code" href="./class_m_status.html#a02ab596f4febca68da503aaf8dde3a80af0536797208144380691e2b376ffc1d1">MStatus::kSuccess</a>;         </div>
<div class="line"></div>
<div class="line">      }</div>
<div class="line"></div>
<div class="line"> <span class="comment">// OTHERWISE, COMPUTE THE POINT-POSITION AND NORMAL:</span></div>
<div class="line"></div>
<div class="line"> <span class="keywordflow">else</span></div>
<div class="line"></div>
<div class="line">         getPointAndNormal(meshDagPath, faceIndex, relative, parameterU, parameterV, point, normal);</div>
<div class="line"></div>
<div class="line">   }</div>
<div class="line"></div>
<div class="line"> <span class="comment">// INVALID INPUT WHEN SPECIFIED/SELECTED NODE IS NOT A MESH NOR TRANSFORM:</span></div>
<div class="line"></div>
<div class="line"> <span class="keywordflow">else</span></div>
<div class="line"></div>
<div class="line">   {</div>
<div class="line"></div>
<div class="line">      displayError(<span class="stringliteral">"Invalid type!  Only a mesh or its transform can be specified!"</span>);</div>
<div class="line"></div>
<div class="line"> <span class="keywordflow">return</span> <a name="a35"></a><a class="code" href="./class_m_status.html#a02ab596f4febca68da503aaf8dde3a80a1ef6c2d725fb4bec3e7e840d28adbc00">MStatus::kFailure</a>; </div>
<div class="line"></div>
<div class="line">   }</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"></div>
<div class="line"> <span class="comment">// SET THE RETURN VALUES OF THE COMMAND'S RESULT TO BE AN ARRAY OF FLOATS OUTPUTTING THE POSITION AND/OR NORMAL:</span></div>
<div class="line"></div>
<div class="line"> <a name="_a36"></a><a class="code" href="./class_m_double_array.html">MDoubleArray</a> result;</div>
<div class="line"></div>
<div class="line"> <span class="keywordflow">if</span> (positionSpecified)</div>
<div class="line"></div>
<div class="line">   {</div>
<div class="line"></div>
<div class="line">      result.<a name="a37"></a><a class="code" href="./class_m_double_array.html#aafcfe8ff7afecc2dee4defccbdfb8e55">append</a>(point.<a name="a38"></a><a class="code" href="./class_m_point.html#af88b946fb90d5f08b5fb740c70e98c10">x</a>);</div>
<div class="line"></div>
<div class="line">      result.<a class="code" href="./class_m_double_array.html#aafcfe8ff7afecc2dee4defccbdfb8e55">append</a>(point.<a name="a39"></a><a class="code" href="./class_m_point.html#ab927965981178aa1fba979a37168db2a">y</a>);</div>
<div class="line"></div>
<div class="line">      result.<a class="code" href="./class_m_double_array.html#aafcfe8ff7afecc2dee4defccbdfb8e55">append</a>(point.<a name="a40"></a><a class="code" href="./class_m_point.html#ab3e6ed577a7c669c19de1f9c1b46c872">z</a>);</div>
<div class="line"></div>
<div class="line">   }</div>
<div class="line"></div>
<div class="line"> <span class="keywordflow">if</span> (normalSpecified)</div>
<div class="line"></div>
<div class="line">   {</div>
<div class="line"></div>
<div class="line">      result.<a class="code" href="./class_m_double_array.html#aafcfe8ff7afecc2dee4defccbdfb8e55">append</a>(normal.<a name="a41"></a><a class="code" href="./class_m_vector.html#af88b946fb90d5f08b5fb740c70e98c10">x</a>);</div>
<div class="line"></div>
<div class="line">      result.<a class="code" href="./class_m_double_array.html#aafcfe8ff7afecc2dee4defccbdfb8e55">append</a>(normal.<a name="a42"></a><a class="code" href="./class_m_vector.html#ab927965981178aa1fba979a37168db2a">y</a>);</div>
<div class="line"></div>
<div class="line">      result.<a class="code" href="./class_m_double_array.html#aafcfe8ff7afecc2dee4defccbdfb8e55">append</a>(normal.<a name="a43"></a><a class="code" href="./class_m_vector.html#ab3e6ed577a7c669c19de1f9c1b46c872">z</a>);</div>
<div class="line"></div>
<div class="line">   }</div>
<div class="line"></div>
<div class="line">   setResult(result);</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"></div>
<div class="line"> <span class="keywordflow">return</span> <a class="code" href="./class_m_status.html#a02ab596f4febca68da503aaf8dde3a80af0536797208144380691e2b376ffc1d1">MStatus::kSuccess</a>;</div>
<div class="line"></div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"></div>
<div class="line"></div>
<div class="line"></div>
<div class="line"><span class="comment">// CALLED WHEN USER UNDOES THE COMMAND:</span></div>
<div class="line"></div>
<div class="line"><a class="code" href="./class_m_status.html">MStatus</a> pointOnMeshCommand::undoIt()</div>
<div class="line"></div>
<div class="line">{</div>
<div class="line"></div>
<div class="line"> <span class="comment">// MERELY DELETE THE "pointOnMeshInfo" NODE THAT WAS CREATED, IF ONE WAS CREATED:</span></div>
<div class="line"></div>
<div class="line"> <span class="keywordflow">if</span> (nodeCreated)</div>
<div class="line"></div>
<div class="line">   {</div>
<div class="line"></div>
<div class="line"> <a class="code" href="./class_m_string.html">MString</a> deleteCmd = <span class="stringliteral">"delete "</span>;</div>
<div class="line"></div>
<div class="line">      deleteCmd += pointOnMeshInfoName;</div>
<div class="line"></div>
<div class="line"> <a name="a44"></a><a class="code" href="./class_m_global.html#a09e405631e7cf680f8ac9d934ad73434">MGlobal::executeCommand</a>(deleteCmd);</div>
<div class="line"></div>
<div class="line">   }</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"></div>
<div class="line"> <span class="keywordflow">return</span> <a class="code" href="./class_m_status.html#a02ab596f4febca68da503aaf8dde3a80af0536797208144380691e2b376ffc1d1">MStatus::kSuccess</a>;</div>
<div class="line"></div>
<div class="line">}</div>
<div class="line"></div>
</div><!-- fragment --> </div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div class="footer-block"><a class="comments-anchor" href="../html/ac.cmtdialog.htm" target="_blank"><span class="comments-link">Please send us your comment about this page</span></a></div></div>
</div></body>
</html>
