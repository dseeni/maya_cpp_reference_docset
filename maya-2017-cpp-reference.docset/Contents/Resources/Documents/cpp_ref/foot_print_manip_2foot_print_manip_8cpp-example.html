<!-- saved from url=(0024)http://docs.autodesk.com -->
<html>
   <head><script src="../scripts/yepnope.1.5.4-min.js" type="text/javascript"></script><script src="../scripts/lib/jquery-1.11.1.min.js" type="text/javascript"></script><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="product" content="MAYAUL"><meta name="release" content="2017"><meta name="book" content="Developer"><meta name="created" content="2016-06-16"><meta name="topicid" content="GUID-02DEF634-1E7B-48C6-8ACD-2C934CA97887"><meta name="topic-type" content="concept">
      <title>footPrintManip/footPrintManip.cpp</title>
   

<meta name="topic-subtype" content="C++"></head>
   <body height="100%"><div class="body_content" id="body-content"><link rel="stylesheet" type="text/css" href="cpp_ref/navtree.css"><link rel="stylesheet" type="text/css" href="cpp_ref/doxygen.css"><link rel="stylesheet" type="text/css" href="cpp_ref/tabs.css"><link rel="stylesheet" type="text/css" href="style/adsk.cpm.css"><script language="javascript">var index = 'index.html';</script><script>$(document).ready(function() { yepnope.injectJs("./scripts/ac_common.js"); });</script><script type="text/javascript">
var tocSystemNeedsToBeLoaded = typeof(cpp_ref_adsk_ref_toc) == 'undefined';
var weAreIn21 = $('div#main.view-active').length;
var tocPrefix = '';
if (weAreIn21)
{ tocPrefix = 'cpp_ref/'; }
function cpp_ref_initializeToc(forceTrigger) {
    cpp_ref_adsk_ref_toc.initResizable();
    cpp_ref_adsk_ref_toc.initNavTree('foot_print_manip_2foot_print_manip_8cpp-example.html', tocPrefix);
    dQuery(document).trigger('toc_initialized');
}
if (tocSystemNeedsToBeLoaded)
{
	yepnope([{
	load:[tocPrefix + 'json3.min.js', tocPrefix + 'jquery.js', tocPrefix + 'ref-toc-controller.js', tocPrefix + 'dynsections.js'],
	complete: function() {
	  if (typeof(dQuery) == 'undefined')
	  {
	    dQuery = jQuery.noConflict(true);
	  }
	  else { jQuery.noConflict(true); }
	  $(document).ready(cpp_ref_initializeToc);
	}
 	}])
}
if (!weAreIn21) { // if in AKN...
$(window).load( function() {
    setTimeout( function() {
        var content = $('body > div').not('#body-content');     // take any divs under body that are not id=body-content
        content.each( function() { 
            $(this).css( { 'padding-left': $(this).css('margin-left') } );       // and if they have any padding-left already, move it to margin-left.
        } );
        var width = cpp_ref_adsk_ref_toc.readFromStorage('width');
        content.css({marginLeft:parseInt(width)+6+"px"});
    }, 100);
} ); 
}
</script><script>$("div#WidgetFloaterPanels,link[href*='microsofttranslator.com'],script[src*='microsofttranslator.com'],script[src*='bing.com']").remove();</script><script type='text/javascript'>$("div#navigation,div#breadcrumbs,div#banner").attr("translate","no"); var mtLocation = ((location && location.href && location.href.indexOf('https') == 0)?'https://ssl.microsofttranslator.com':'http://www.microsofttranslator.com')+'/ajax/v3/WidgetV3.ashx?ctf=True&ui=true&settings=Manual&from=en&hidelanguages='; yepnope.injectJs(mtLocation, function() {}, { charset:'utf-8', type:'text/javascript' } );</script><script>
 if (!tocSystemNeedsToBeLoaded) { cpp_ref_initializeToc(); }
 </script><!-- begin MT -->
            
            <div id='MicrosoftTranslatorWidget' class='Dark' style='float:right;z-index:100;color:white;background-color:#bbbbbb;height:58px;overflow:hidden'></div>
      <div>
         <div class="head">
            <h1>footPrintManip/footPrintManip.cpp</h1>
         </div>

    <div id="top"><!-- Generated by Doxygen 1.8.10 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="#!/url=./cpp_ref/index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="#!/url=./cpp_ref/pages.html"><span>Topics</span></a></li>
      <li><a href="#!/url=./cpp_ref/modules.html"><span>Modules</span></a></li>
      <li><a href="#!/url=./cpp_ref/namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="#!/url=./cpp_ref/annotated.html"><span>Classes</span></a></li>
      <li><a href="#!/url=./cpp_ref/examples.html"><span>Examples</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" class="ui-resizable-handle">
  </div>
</div>

<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">footPrintManip/footPrintManip.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<div class="fragment"><div class="line"><span class="comment">//-</span></div>
<div class="line"><span class="comment">// ==========================================================================</span></div>
<div class="line"><span class="comment">// Copyright 2015 Autodesk, Inc.  All rights reserved.</span></div>
<div class="line"><span class="comment">//</span></div>
<div class="line"><span class="comment">// Use of this software is subject to the terms of the Autodesk</span></div>
<div class="line"><span class="comment">// license agreement provided at the time of installation or download,</span></div>
<div class="line"><span class="comment">// or which otherwise accompanies this software in either electronic</span></div>
<div class="line"><span class="comment">// or hard copy form.</span></div>
<div class="line"><span class="comment">// ==========================================================================</span></div>
<div class="line"><span class="comment">//+</span></div>
<div class="line"></div>
<div class="line"><span class="comment">// </span></div>
<div class="line"><span class="comment">// DESCRIPTION:</span></div>
<div class="line"><span class="comment">// </span></div>
<div class="line"><span class="comment">// Produces these dependency graph nodes: &quot;footPrintLocator&quot; and &quot;footPrintLocatorManip&quot;.  </span></div>
<div class="line"><span class="comment">//</span></div>
<div class="line"><span class="comment">// This plug-in demonstrates how to use the Show Manip Tool with</span></div>
<div class="line"><span class="comment">// a user-defined manipulator. The user-defined manipulator corresponds to the foot print locator.</span></div>
<div class="line"><span class="comment">//</span></div>
<div class="line"><span class="comment">// This is the script for running this plug-in:</span></div>
<div class="line"><span class="comment">// </span></div>
<div class="line"><span class="comment">//  loadPlugin &quot;footPrintManip.so&quot;;</span></div>
<div class="line"><span class="comment">//  createNode footPrintLocator -n f1;</span></div>
<div class="line"><span class="comment">// </span></div>
<div class="line"><span class="comment">// To use this plug-in:</span></div>
<div class="line"><span class="comment">//  (1) Create a foot print locator (type createNode footPrintLocator).</span></div>
<div class="line"><span class="comment">//  (2) Select the foot print.</span></div>
<div class="line"><span class="comment">//  (3) Click the Show Manip Tool.</span></div>
<div class="line"><span class="comment">// </span></div>
<div class="line"><span class="comment"></span></div>
<div class="line"><span class="preprocessor">#include &lt;maya/MIOStream.h&gt;</span></div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#include &lt;maya/MPxNode.h&gt;</span>   </div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#include &lt;maya/MPxLocatorNode.h&gt;</span> </div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#include &lt;maya/MString.h&gt;</span> </div>
<div class="line"><span class="preprocessor">#include &lt;maya/MTypeId.h&gt;</span> </div>
<div class="line"><span class="preprocessor">#include &lt;maya/MPlug.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;maya/MVector.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;maya/MDataBlock.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;maya/MDataHandle.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;maya/MColor.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;maya/M3dView.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;maya/MFnPlugin.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;maya/MDistance.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;maya/MFnUnitAttribute.h&gt;</span></div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#include &lt;maya/MFn.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;maya/MPxNode.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;maya/MPxManipContainer.h&gt;</span> </div>
<div class="line"><span class="preprocessor">#include &lt;maya/MFnDistanceManip.h&gt;</span> </div>
<div class="line"><span class="preprocessor">#include &lt;maya/MPxContext.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;maya/MPxSelectionContext.h&gt;</span></div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#include &lt;maya/MFnNumericData.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;maya/MManipData.h&gt;</span></div>
<div class="line"></div>
<div class="line"><span class="comment">// Viewport 2.0</span></div>
<div class="line"><span class="preprocessor">#include &lt;maya/MDrawRegistry.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;maya/MPxDrawOverride.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;maya/MUserData.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;maya/MDrawContext.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;maya/MHWGeometryUtilities.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;maya/MPointArray.h&gt;</span></div>
<div class="line"></div>
<div class="line"><span class="comment">// Foot Data</span></div>
<div class="line"><span class="comment">//</span></div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">float</span> sole[][3] = { {  0.00f, 0.0f, -0.70f},</div>
<div class="line">                           {  0.04f, 0.0f, -0.69f },</div>
<div class="line">                           {  0.09f, 0.0f, -0.65f },</div>
<div class="line">                           {  0.13f, 0.0f, -0.61f }, </div>
<div class="line">                           {  0.16f, 0.0f, -0.54f },</div>
<div class="line">                           {  0.17f, 0.0f, -0.46f },</div>
<div class="line">                           {  0.17f, 0.0f, -0.35f },</div>
<div class="line">                           {  0.16f, 0.0f, -0.25f },</div>
<div class="line">                           {  0.15f, 0.0f, -0.14f },</div>
<div class="line">                           {  0.13f, 0.0f,  0.00f },</div>
<div class="line">                           {  0.00f, 0.0f,  0.00f },</div>
<div class="line">                           { -0.13f, 0.0f,  0.00f },</div>
<div class="line">                           { -0.15f, 0.0f, -0.14f },</div>
<div class="line">                           { -0.16f, 0.0f, -0.25f },</div>
<div class="line">                           { -0.17f, 0.0f, -0.35f },</div>
<div class="line">                           { -0.17f, 0.0f, -0.46f }, </div>
<div class="line">                           { -0.16f, 0.0f, -0.54f },</div>
<div class="line">                           { -0.13f, 0.0f, -0.61f },</div>
<div class="line">                           { -0.09f, 0.0f, -0.65f },</div>
<div class="line">                           { -0.04f, 0.0f, -0.69f }, </div>
<div class="line">                           { -0.00f, 0.0f, -0.70f } }; </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">float</span> heel[][3] = { {  0.00f, 0.0f,  0.06f },</div>
<div class="line">                           {  0.13f, 0.0f,  0.06f },</div>
<div class="line">                           {  0.14f, 0.0f,  0.15f },</div>
<div class="line">                           {  0.14f, 0.0f,  0.21f }, </div>
<div class="line">                           {  0.13f, 0.0f,  0.25f },</div>
<div class="line">                           {  0.11f, 0.0f,  0.28f },</div>
<div class="line">                           {  0.09f, 0.0f,  0.29f },</div>
<div class="line">                           {  0.04f, 0.0f,  0.30f },</div>
<div class="line">                           {  0.00f, 0.0f,  0.30f },</div>
<div class="line">                           { -0.04f, 0.0f,  0.30f },</div>
<div class="line">                           { -0.09f, 0.0f,  0.29f },</div>
<div class="line">                           { -0.11f, 0.0f,  0.28f }, </div>
<div class="line">                           { -0.13f, 0.0f,  0.25f },</div>
<div class="line">                           { -0.14f, 0.0f,  0.21f },</div>
<div class="line">                           { -0.14f, 0.0f,  0.15f },</div>
<div class="line">                           { -0.13f, 0.0f,  0.06f },  </div>
<div class="line">                           { -0.00f, 0.0f,  0.06f } }; </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">int</span> heelCount = 17;</div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">int</span> soleCount = 21;</div>
<div class="line"> </div>
<div class="line"></div>
<div class="line"><span class="keyword">class </span>footPrintLocatorManip : <span class="keyword">public</span> <a name="_a0"></a><a class="code" href="#!/url=./cpp_ref/class_m_px_manip_container.html">MPxManipContainer</a></div>
<div class="line">{</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    footPrintLocatorManip();</div>
<div class="line">    <span class="keyword">virtual</span> ~footPrintLocatorManip();</div>
<div class="line">    </div>
<div class="line">    <span class="keyword">static</span> <span class="keywordtype">void</span> * creator();</div>
<div class="line">    <span class="keyword">static</span> <a name="_a1"></a><a class="code" href="#!/url=./cpp_ref/class_m_status.html">MStatus</a> <a name="a2"></a><a class="code" href="#!/url=./cpp_ref/class_m_px_manip_container.html#ab775d976c0f4b24e540bd06af23a0738">initialize</a>();</div>
<div class="line">    <span class="keyword">virtual</span> <a class="code" href="#!/url=./cpp_ref/class_m_status.html">MStatus</a> <a name="a3"></a><a class="code" href="#!/url=./cpp_ref/class_m_px_manip_container.html#a5f6e1ab823f87eddad380cd85f61293c">createChildren</a>();</div>
<div class="line">    <span class="keyword">virtual</span> <a class="code" href="#!/url=./cpp_ref/class_m_status.html">MStatus</a> <a name="a4"></a><a class="code" href="#!/url=./cpp_ref/class_m_px_manip_container.html#ac7013eba743cd3226bc9a72b1ea27cff">connectToDependNode</a>(<span class="keyword">const</span> <a name="_a5"></a><a class="code" href="#!/url=./cpp_ref/class_m_object.html">MObject</a> &amp; node);</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Viewport 2.0 manipulator draw overrides</span></div>
<div class="line">    <span class="keyword">virtual</span> <span class="keywordtype">void</span>        <a name="a6"></a><a class="code" href="#!/url=./cpp_ref/class_m_px_manip_container.html#adee566b094fb6fc66326b15473f0a213">preDrawUI</a>( <span class="keyword">const</span> <a name="_a7"></a><a class="code" href="#!/url=./cpp_ref/class_m3d_view.html">M3dView</a> &amp;view );</div>
<div class="line">    <span class="keyword">virtual</span> <span class="keywordtype">void</span>        <a name="a8"></a><a class="code" href="#!/url=./cpp_ref/class_m_px_manip_container.html#a3d59fa8fd7b8746e2b458d04a8c45556">drawUI</a>( <a name="_a9"></a><a class="code" href="#!/url=./cpp_ref/class_m_h_w_render_1_1_m_u_i_draw_manager.html">MHWRender::MUIDrawManager</a>&amp; drawManager,</div>
<div class="line">                                        <span class="keyword">const</span> <a name="_a10"></a><a class="code" href="#!/url=./cpp_ref/class_m_h_w_render_1_1_m_frame_context.html">MHWRender::MFrameContext</a>&amp; frameContext) <span class="keyword">const</span>;</div>
<div class="line"></div>
<div class="line">    <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a name="a11"></a><a class="code" href="#!/url=./cpp_ref/class_m_px_manip_container.html#aef28aea1609504c09c2096a532c0cebe">draw</a>(<a class="code" href="#!/url=./cpp_ref/class_m3d_view.html">M3dView</a> &amp; view, </div>
<div class="line">                      <span class="keyword">const</span> <a name="_a12"></a><a class="code" href="#!/url=./cpp_ref/class_m_dag_path.html">MDagPath</a> &amp; path, </div>
<div class="line">                      <a class="code" href="#!/url=./cpp_ref/class_m3d_view.html#a1b68f8823b8e275a4b548fdd27263e8a">M3dView::DisplayStyle</a> style,</div>
<div class="line">                      <a class="code" href="#!/url=./cpp_ref/class_m3d_view.html#ad9c34c5373567566950642c16a7c4bca">M3dView::DisplayStatus</a> status);</div>
<div class="line">    <a name="_a13"></a><a class="code" href="#!/url=./cpp_ref/class_m_manip_data.html">MManipData</a> startPointCallback(<span class="keywordtype">unsigned</span> index) <span class="keyword">const</span>;</div>
<div class="line">    <a name="_a14"></a><a class="code" href="#!/url=./cpp_ref/class_m_vector.html">MVector</a> nodeTranslation() <span class="keyword">const</span>;</div>
<div class="line"></div>
<div class="line">    <a class="code" href="#!/url=./cpp_ref/class_m_dag_path.html">MDagPath</a> fDistanceManip;</div>
<div class="line">    <a class="code" href="#!/url=./cpp_ref/class_m_dag_path.html">MDagPath</a> fNodePath;</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Value prepared for Viewport 2.0 draw</span></div>
<div class="line">    <a name="_a15"></a><a class="code" href="#!/url=./cpp_ref/class_m_point.html">MPoint</a> fTextPosition;</div>
<div class="line"></div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    <span class="keyword">static</span> <a name="_a16"></a><a class="code" href="#!/url=./cpp_ref/class_m_type_id.html">MTypeId</a> id;</div>
<div class="line">};</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"><a class="code" href="#!/url=./cpp_ref/class_m_manip_data.html">MManipData</a> footPrintLocatorManip::startPointCallback(<span class="keywordtype">unsigned</span> index)<span class="keyword"> </span></div>
<div class="line"><span class="keyword">const</span></div>
<div class="line"><span class="keyword"></span>{</div>
<div class="line">    <a name="_a17"></a><a class="code" href="#!/url=./cpp_ref/class_m_fn_numeric_data.html">MFnNumericData</a> numData;</div>
<div class="line">    <a class="code" href="#!/url=./cpp_ref/class_m_object.html">MObject</a> numDataObj = numData.<a name="a18"></a><a class="code" href="#!/url=./cpp_ref/class_m_fn_numeric_data.html#a82c1cfe8ea0f4ed6e13097715906d600">create</a>(<a name="a19"></a><a class="code" href="#!/url=./cpp_ref/class_m_fn_numeric_data.html#a1d1cfd8ffb84e947f82999c682b666a7add817d1d2e1e1d24ac2e2819a58e8f99">MFnNumericData::k3Double</a>);</div>
<div class="line">    <a class="code" href="#!/url=./cpp_ref/class_m_vector.html">MVector</a> vec = nodeTranslation();</div>
<div class="line">    numData.<a name="a20"></a><a class="code" href="#!/url=./cpp_ref/class_m_fn_numeric_data.html#a5a8685975c5472876e8e3558911a7b7b">setData</a>(vec.<a name="a21"></a><a class="code" href="#!/url=./cpp_ref/class_m_vector.html#af88b946fb90d5f08b5fb740c70e98c10">x</a>, vec.<a name="a22"></a><a class="code" href="#!/url=./cpp_ref/class_m_vector.html#ab927965981178aa1fba979a37168db2a">y</a>, vec.<a name="a23"></a><a class="code" href="#!/url=./cpp_ref/class_m_vector.html#ab3e6ed577a7c669c19de1f9c1b46c872">z</a>);</div>
<div class="line">    <span class="keywordflow">return</span> <a class="code" href="#!/url=./cpp_ref/class_m_manip_data.html">MManipData</a>(numDataObj);</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"><a class="code" href="#!/url=./cpp_ref/class_m_vector.html">MVector</a> footPrintLocatorManip::nodeTranslation()<span class="keyword"> const</span></div>
<div class="line"><span class="keyword"></span>{</div>
<div class="line">    <a name="_a24"></a><a class="code" href="#!/url=./cpp_ref/class_m_fn_dag_node.html">MFnDagNode</a> dagFn(fNodePath);</div>
<div class="line">    <a class="code" href="#!/url=./cpp_ref/class_m_dag_path.html">MDagPath</a> path;</div>
<div class="line">    dagFn.<a name="a25"></a><a class="code" href="#!/url=./cpp_ref/class_m_dag_path.html#a45d0e6118fefc8c6e0b86b50234da810">getPath</a>(path);</div>
<div class="line">    path.<a name="a26"></a><a class="code" href="#!/url=./cpp_ref/class_m_dag_path.html#ac71eca2b78b8cfc088adc9af6f851dfd">pop</a>();  <span class="comment">// pop from the shape to the transform</span></div>
<div class="line">    <a name="_a27"></a><a class="code" href="#!/url=./cpp_ref/class_m_fn_transform.html">MFnTransform</a> transformFn(path);</div>
<div class="line">    <span class="keywordflow">return</span> transformFn.translation(<a name="a28"></a><a class="code" href="#!/url=./cpp_ref/class_m_space.html#ab11a1dda34491acff014ddfc9e6bafb8a45a60f04ac9114f0d6e865a6285f40b2">MSpace::kWorld</a>);</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"><a class="code" href="#!/url=./cpp_ref/class_m_type_id.html">MTypeId</a> footPrintLocatorManip::id( 0x8001b );</div>
<div class="line"></div>
<div class="line"></div>
<div class="line">footPrintLocatorManip::footPrintLocatorManip() </div>
<div class="line">{ </div>
<div class="line">    <span class="comment">// Do not call createChildren from here </span></div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"></div>
<div class="line">footPrintLocatorManip::~footPrintLocatorManip() </div>
<div class="line">{</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"><span class="keywordtype">void</span>* footPrintLocatorManip::creator()</div>
<div class="line">{</div>
<div class="line">     <span class="keywordflow">return</span> <span class="keyword">new</span> footPrintLocatorManip();</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"><a class="code" href="#!/url=./cpp_ref/class_m_status.html">MStatus</a> footPrintLocatorManip::initialize()</div>
<div class="line">{ </div>
<div class="line">    <a class="code" href="#!/url=./cpp_ref/class_m_status.html">MStatus</a> stat;</div>
<div class="line">    stat = <a class="code" href="#!/url=./cpp_ref/class_m_px_manip_container.html#ab775d976c0f4b24e540bd06af23a0738">MPxManipContainer::initialize</a>();</div>
<div class="line">    <span class="keywordflow">return</span> stat;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"><a class="code" href="#!/url=./cpp_ref/class_m_status.html">MStatus</a> footPrintLocatorManip::createChildren()</div>
<div class="line">{</div>
<div class="line">    <a class="code" href="#!/url=./cpp_ref/class_m_status.html">MStatus</a> stat = <a name="a29"></a><a class="code" href="#!/url=./cpp_ref/class_m_status.html#a02ab596f4febca68da503aaf8dde3a80af0536797208144380691e2b376ffc1d1">MStatus::kSuccess</a>;</div>
<div class="line"></div>
<div class="line">    <a name="_a30"></a><a class="code" href="#!/url=./cpp_ref/class_m_string.html">MString</a> manipName(<span class="stringliteral">&quot;distanceManip&quot;</span>);</div>
<div class="line">    <a class="code" href="#!/url=./cpp_ref/class_m_string.html">MString</a> distanceName(<span class="stringliteral">&quot;distance&quot;</span>);</div>
<div class="line"></div>
<div class="line">    <a class="code" href="#!/url=./cpp_ref/class_m_point.html">MPoint</a> startPoint(0.0, 0.0, 0.0);</div>
<div class="line">    <a class="code" href="#!/url=./cpp_ref/class_m_vector.html">MVector</a> direction(0.0, 1.0, 0.0);</div>
<div class="line">    fDistanceManip = addDistanceManip(manipName,</div>
<div class="line">                                      distanceName);</div>
<div class="line">    <a name="_a31"></a><a class="code" href="#!/url=./cpp_ref/class_m_fn_distance_manip.html">MFnDistanceManip</a> distanceManipFn(fDistanceManip);</div>
<div class="line">    distanceManipFn.setStartPoint(startPoint);</div>
<div class="line">    distanceManipFn.setDirection(direction);</div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">return</span> stat;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"><a class="code" href="#!/url=./cpp_ref/class_m_status.html">MStatus</a> footPrintLocatorManip::connectToDependNode(<span class="keyword">const</span> <a class="code" href="#!/url=./cpp_ref/class_m_object.html">MObject</a> &amp;node)</div>
<div class="line">{</div>
<div class="line">    <a class="code" href="#!/url=./cpp_ref/class_m_status.html">MStatus</a> stat;</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Get the DAG path</span></div>
<div class="line">    <span class="comment">//</span></div>
<div class="line">    <a class="code" href="#!/url=./cpp_ref/class_m_fn_dag_node.html">MFnDagNode</a> dagNodeFn(node);</div>
<div class="line">    dagNodeFn.getPath(fNodePath);</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Connect the plugs</span></div>
<div class="line">    <span class="comment">//    </span></div>
<div class="line"></div>
<div class="line">    <a class="code" href="#!/url=./cpp_ref/class_m_fn_distance_manip.html">MFnDistanceManip</a> distanceManipFn(fDistanceManip);</div>
<div class="line">    <a name="_a32"></a><a class="code" href="#!/url=./cpp_ref/class_m_fn_dependency_node.html">MFnDependencyNode</a> nodeFn(node);    </div>
<div class="line"></div>
<div class="line">    <a name="_a33"></a><a class="code" href="#!/url=./cpp_ref/class_m_plug.html">MPlug</a> sizePlug = nodeFn.findPlug(<span class="stringliteral">&quot;size&quot;</span>, &amp;stat);</div>
<div class="line">    <span class="keywordflow">if</span> (<a name="a34"></a><a class="code" href="#!/url=./cpp_ref/class_m_status.html#a02ab596f4febca68da503aaf8dde3a80a1ef6c2d725fb4bec3e7e840d28adbc00">MStatus::kFailure</a> != stat) {</div>
<div class="line">        distanceManipFn.connectToDistancePlug(sizePlug);</div>
<div class="line">        <span class="keywordtype">unsigned</span> startPointIndex = distanceManipFn.startPointIndex();</div>
<div class="line">        addPlugToManipConversionCallback(startPointIndex, </div>
<div class="line">                                         (plugToManipConversionCallback) </div>
<div class="line">                                         &amp;footPrintLocatorManip::startPointCallback);</div>
<div class="line"></div>
<div class="line">        <span class="comment">// also let the user tweak the size via the In-View Editor</span></div>
<div class="line">        <span class="comment">//</span></div>
<div class="line">        addPlugToInViewEditor( sizePlug );</div>
<div class="line"></div>
<div class="line">        finishAddingManips();</div>
<div class="line">        <a class="code" href="#!/url=./cpp_ref/class_m_px_manip_container.html#ac7013eba743cd3226bc9a72b1ea27cff">MPxManipContainer::connectToDependNode</a>(node);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> stat;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"><span class="keywordtype">void</span> footPrintLocatorManip::draw(<a class="code" href="#!/url=./cpp_ref/class_m3d_view.html">M3dView</a> &amp; view, </div>
<div class="line">                                 <span class="keyword">const</span> <a class="code" href="#!/url=./cpp_ref/class_m_dag_path.html">MDagPath</a> &amp;path, </div>
<div class="line">                                 <a class="code" href="#!/url=./cpp_ref/class_m3d_view.html#a1b68f8823b8e275a4b548fdd27263e8a">M3dView::DisplayStyle</a> style,</div>
<div class="line">                                 <a class="code" href="#!/url=./cpp_ref/class_m3d_view.html#ad9c34c5373567566950642c16a7c4bca">M3dView::DisplayStatus</a> status)</div>
<div class="line">{ </div>
<div class="line">    <a class="code" href="#!/url=./cpp_ref/class_m_px_manip_container.html#aef28aea1609504c09c2096a532c0cebe">MPxManipContainer::draw</a>(view, path, style, status);</div>
<div class="line">    view.<a name="a35"></a><a class="code" href="#!/url=./cpp_ref/class_m3d_view.html#a0e318e5634c7aaf31c4eb7232d2013d4">beginGL</a>(); </div>
<div class="line"></div>
<div class="line">    <a class="code" href="#!/url=./cpp_ref/class_m_point.html">MPoint</a> textPos = nodeTranslation();</div>
<div class="line">    <span class="keywordtype">char</span> str[100];</div>
<div class="line">    sprintf(str, <span class="stringliteral">&quot;Stretch Me!&quot;</span>); </div>
<div class="line">    <a class="code" href="#!/url=./cpp_ref/class_m_string.html">MString</a> distanceText(str);</div>
<div class="line">    view.<a name="a36"></a><a class="code" href="#!/url=./cpp_ref/class_m3d_view.html#a1d533091a31a590ee4599fde04fa65d7">drawText</a>(distanceText, textPos, <a name="a37"></a><a class="code" href="#!/url=./cpp_ref/class_m3d_view.html#a8e0d441725a81d2bbdebbea09078260eaa9953673f54fd9f854de23739ebe2f7a">M3dView::kLeft</a>);</div>
<div class="line"></div>
<div class="line">    view.<a name="a38"></a><a class="code" href="#!/url=./cpp_ref/class_m3d_view.html#ab810c5a46d728df70ff5f44b604559f4">endGL</a>();</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="comment">// Viewport 2.0 manipulator draw overrides</span></div>
<div class="line"><span class="keywordtype">void</span>    footPrintLocatorManip::preDrawUI( <span class="keyword">const</span> <a class="code" href="#!/url=./cpp_ref/class_m3d_view.html">M3dView</a> &amp;view )</div>
<div class="line">{</div>
<div class="line">    <span class="comment">// Update text drawing position</span></div>
<div class="line">    fTextPosition = nodeTranslation();</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">void</span>    footPrintLocatorManip::drawUI(</div>
<div class="line">    <a class="code" href="#!/url=./cpp_ref/class_m_h_w_render_1_1_m_u_i_draw_manager.html">MHWRender::MUIDrawManager</a>&amp; drawManager,</div>
<div class="line">    <span class="keyword">const</span> <a class="code" href="#!/url=./cpp_ref/class_m_h_w_render_1_1_m_frame_context.html">MHWRender::MFrameContext</a>&amp; frameContext )<span class="keyword"> const</span></div>
<div class="line"><span class="keyword"></span>{</div>
<div class="line">    drawManager.<a name="a39"></a><a class="code" href="#!/url=./cpp_ref/class_m_h_w_render_1_1_m_u_i_draw_manager.html#a9008ebfa63c02670625076230d77c3f9">beginDrawable</a>();</div>
<div class="line"></div>
<div class="line">    drawManager.<a name="a40"></a><a class="code" href="#!/url=./cpp_ref/class_m_h_w_render_1_1_m_u_i_draw_manager.html#a9baede3e37abe9551e50a8c6be65ec4d">setColor</a>( <a name="_a41"></a><a class="code" href="#!/url=./cpp_ref/class_m_color.html">MColor</a>( 0.0f, 1.0f, 0.1f ) );</div>
<div class="line">    drawManager.<a name="a42"></a><a class="code" href="#!/url=./cpp_ref/class_m_h_w_render_1_1_m_u_i_draw_manager.html#a334e4280e5ddd4653c69f9703b5dd3b4">text</a>( fTextPosition, <span class="stringliteral">&quot;Stretch Me!&quot;</span>, <a name="a43"></a><a class="code" href="#!/url=./cpp_ref/class_m_h_w_render_1_1_m_u_i_draw_manager.html#aa56f1a82069b5feeadbb4591cb3e474faa9953673f54fd9f854de23739ebe2f7a">MHWRender::MUIDrawManager::kLeft</a> );</div>
<div class="line"></div>
<div class="line">    drawManager.<a name="a44"></a><a class="code" href="#!/url=./cpp_ref/class_m_h_w_render_1_1_m_u_i_draw_manager.html#ab745185859d1eda9a0af543f35931821">text2d</a>( <a class="code" href="#!/url=./cpp_ref/class_m_point.html">MPoint</a>(100,100), <span class="stringliteral">&quot;Stretch Me 2D!&quot;</span>, <a class="code" href="#!/url=./cpp_ref/class_m_h_w_render_1_1_m_u_i_draw_manager.html#aa56f1a82069b5feeadbb4591cb3e474faa9953673f54fd9f854de23739ebe2f7a">MHWRender::MUIDrawManager::kLeft</a> );</div>
<div class="line"></div>
<div class="line">    drawManager.<a name="a45"></a><a class="code" href="#!/url=./cpp_ref/class_m_h_w_render_1_1_m_u_i_draw_manager.html#a78c343c25a05be7e46dd4b7ebab82ff6">endDrawable</a>();</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"><span class="keyword">class </span>footPrintLocator : <span class="keyword">public</span> <a name="_a46"></a><a class="code" href="#!/url=./cpp_ref/class_m_px_locator_node.html">MPxLocatorNode</a></div>
<div class="line">{</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    footPrintLocator();</div>
<div class="line">    <span class="keyword">virtual</span> ~footPrintLocator(); </div>
<div class="line"></div>
<div class="line">    <span class="keyword">virtual</span> <a class="code" href="#!/url=./cpp_ref/class_m_status.html">MStatus</a>         <a name="a47"></a><a class="code" href="#!/url=./cpp_ref/class_m_px_node.html#a5cb7edfa1f67c75588bec1c38b7bf5f8">compute</a>(<span class="keyword">const</span> <a class="code" href="#!/url=./cpp_ref/class_m_plug.html">MPlug</a>&amp; plug, <a name="_a48"></a><a class="code" href="#!/url=./cpp_ref/class_m_data_block.html">MDataBlock</a> &amp;data);</div>
<div class="line"></div>
<div class="line">    <span class="keyword">virtual</span> <span class="keywordtype">void</span>            <a name="a49"></a><a class="code" href="#!/url=./cpp_ref/class_m_px_locator_node.html#a999efab3ad8289b53bc370aaeb7d6146">draw</a>(<a class="code" href="#!/url=./cpp_ref/class_m3d_view.html">M3dView</a> &amp;view, <span class="keyword">const</span> <a class="code" href="#!/url=./cpp_ref/class_m_dag_path.html">MDagPath</a> &amp;path, </div>
<div class="line">                                 <a class="code" href="#!/url=./cpp_ref/class_m3d_view.html#a1b68f8823b8e275a4b548fdd27263e8a">M3dView::DisplayStyle</a> style,</div>
<div class="line">                                 <a class="code" href="#!/url=./cpp_ref/class_m3d_view.html#ad9c34c5373567566950642c16a7c4bca">M3dView::DisplayStatus</a> status);</div>
<div class="line"></div>
<div class="line">    <span class="keyword">virtual</span> <span class="keywordtype">bool</span>            <a name="a50"></a><a class="code" href="#!/url=./cpp_ref/class_m_px_locator_node.html#a4254418493ef1ab6847b9e5f395fa3de">isBounded</a>() <span class="keyword">const</span>;</div>
<div class="line">    <span class="keyword">virtual</span> <a name="_a51"></a><a class="code" href="#!/url=./cpp_ref/class_m_bounding_box.html">MBoundingBox</a>    <a name="a52"></a><a class="code" href="#!/url=./cpp_ref/class_m_px_locator_node.html#a762dab569a9d88aa731f3c7229803e1e">boundingBox</a>() <span class="keyword">const</span>; </div>
<div class="line"></div>
<div class="line">    <span class="keyword">static</span>  <span class="keywordtype">void</span> *          creator();</div>
<div class="line">    <span class="keyword">static</span>  <a class="code" href="#!/url=./cpp_ref/class_m_status.html">MStatus</a>         initialize();</div>
<div class="line"></div>
<div class="line">    <span class="keyword">static</span>  <a class="code" href="#!/url=./cpp_ref/class_m_object.html">MObject</a>         size;         <span class="comment">// The size of the foot</span></div>
<div class="line"></div>
<div class="line"><span class="keyword">public</span>: </div>
<div class="line">    <span class="keyword">static</span>  <a class="code" href="#!/url=./cpp_ref/class_m_type_id.html">MTypeId</a>     id;</div>
<div class="line">    <span class="keyword">static</span>  <a class="code" href="#!/url=./cpp_ref/class_m_string.html">MString</a>     drawDbClassification;</div>
<div class="line">    <span class="keyword">static</span>  <a class="code" href="#!/url=./cpp_ref/class_m_string.html">MString</a>     drawRegistrantId;</div>
<div class="line">};</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"><a class="code" href="#!/url=./cpp_ref/class_m_type_id.html">MTypeId</a> footPrintLocator::id( 0x8001c );</div>
<div class="line"><a class="code" href="#!/url=./cpp_ref/class_m_object.html">MObject</a> footPrintLocator::size;</div>
<div class="line"><a class="code" href="#!/url=./cpp_ref/class_m_string.html">MString</a> footPrintLocator::drawDbClassification(<span class="stringliteral">&quot;drawdb/geometry/footPrintLocator&quot;</span>);</div>
<div class="line"><a class="code" href="#!/url=./cpp_ref/class_m_string.html">MString</a> footPrintLocator::drawRegistrantId(<span class="stringliteral">&quot;FootPrintManipPlugin&quot;</span>);</div>
<div class="line"></div>
<div class="line">footPrintLocator::footPrintLocator() </div>
<div class="line">{}</div>
<div class="line"></div>
<div class="line"></div>
<div class="line">footPrintLocator::~footPrintLocator() </div>
<div class="line">{}</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"><a class="code" href="#!/url=./cpp_ref/class_m_status.html">MStatus</a> footPrintLocator::compute(<span class="keyword">const</span> <a class="code" href="#!/url=./cpp_ref/class_m_plug.html">MPlug</a> &amp;plug, <a class="code" href="#!/url=./cpp_ref/class_m_data_block.html">MDataBlock</a> &amp;data)</div>
<div class="line">{ </div>
<div class="line">    <span class="keywordflow">return</span> <a name="a53"></a><a class="code" href="#!/url=./cpp_ref/class_m_status.html#a02ab596f4febca68da503aaf8dde3a80a7f858db05022c8bc860d685e13bab6ae">MS::kUnknownParameter</a>;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"><span class="keywordtype">void</span> footPrintLocator::draw(<a class="code" href="#!/url=./cpp_ref/class_m3d_view.html">M3dView</a> &amp;view, <span class="keyword">const</span> <a class="code" href="#!/url=./cpp_ref/class_m_dag_path.html">MDagPath</a> &amp;path, </div>
<div class="line">                            <a class="code" href="#!/url=./cpp_ref/class_m3d_view.html#a1b68f8823b8e275a4b548fdd27263e8a">M3dView::DisplayStyle</a> style,</div>
<div class="line">                            <a class="code" href="#!/url=./cpp_ref/class_m3d_view.html#ad9c34c5373567566950642c16a7c4bca">M3dView::DisplayStatus</a> status)</div>
<div class="line">{ </div>
<div class="line">    <span class="comment">// Get the size</span></div>
<div class="line">    <span class="comment">//</span></div>
<div class="line">    <a class="code" href="#!/url=./cpp_ref/class_m_object.html">MObject</a> thisNode = thisMObject();</div>
<div class="line">    <a class="code" href="#!/url=./cpp_ref/class_m_plug.html">MPlug</a> plug(thisNode, size);</div>
<div class="line">    <a name="_a54"></a><a class="code" href="#!/url=./cpp_ref/class_m_distance.html">MDistance</a> sizeVal;</div>
<div class="line">    plug.getValue(sizeVal);</div>
<div class="line"></div>
<div class="line">    <span class="keywordtype">float</span> multiplier = (float) sizeVal.<a name="a55"></a><a class="code" href="#!/url=./cpp_ref/class_m_distance.html#ace39ab92685b0f5ab1a2925e748efb1f">asCentimeters</a>();</div>
<div class="line"></div>
<div class="line">    view.<a class="code" href="#!/url=./cpp_ref/class_m3d_view.html#a0e318e5634c7aaf31c4eb7232d2013d4">beginGL</a>(); </div>
<div class="line"></div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> ((style == <a name="a56"></a><a class="code" href="#!/url=./cpp_ref/class_m3d_view.html#a1b68f8823b8e275a4b548fdd27263e8aa7914d385424ca72fdf84654b735a5a50">M3dView::kFlatShaded</a>) || </div>
<div class="line">        (style == <a name="a57"></a><a class="code" href="#!/url=./cpp_ref/class_m3d_view.html#a1b68f8823b8e275a4b548fdd27263e8aa620925ec70781a5f5de890d906660d24">M3dView::kGouraudShaded</a>)) </div>
<div class="line">    {  </div>
<div class="line">        <span class="comment">// Push the color settings</span></div>
<div class="line">        <span class="comment">// </span></div>
<div class="line">        glPushAttrib(GL_CURRENT_BIT);</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> (status == <a name="a58"></a><a class="code" href="#!/url=./cpp_ref/class_m3d_view.html#ad9c34c5373567566950642c16a7c4bcaab6a8784b4cf96692e0d71d19c44ce732">M3dView::kActive</a>) {</div>
<div class="line">            view.<a name="a59"></a><a class="code" href="#!/url=./cpp_ref/class_m3d_view.html#aaf6fd568acc50d57be00639f773c1d73">setDrawColor</a>(13, <a name="a60"></a><a class="code" href="#!/url=./cpp_ref/class_m3d_view.html#a9b24d632cd80af03d971c58ce0b8df6aa18362fb06caee77a9bae15aa90e06d1c">M3dView::kActiveColors</a>);</div>
<div class="line">        } <span class="keywordflow">else</span> {</div>
<div class="line">            view.<a class="code" href="#!/url=./cpp_ref/class_m3d_view.html#aaf6fd568acc50d57be00639f773c1d73">setDrawColor</a>(13, <a name="a61"></a><a class="code" href="#!/url=./cpp_ref/class_m3d_view.html#a9b24d632cd80af03d971c58ce0b8df6aa466739773561fe25487724d1b7a16234">M3dView::kDormantColors</a>);</div>
<div class="line">        }  </div>
<div class="line"></div>
<div class="line">        glBegin(GL_TRIANGLE_FAN);</div>
<div class="line">            <span class="keywordtype">int</span> i;</div>
<div class="line">            <span class="keywordtype">int</span> last = soleCount - 1;</div>
<div class="line">            <span class="keywordflow">for</span> (i = 0; i &lt; last; ++i) {</div>
<div class="line">                glVertex3f(sole[i][0] * multiplier,</div>
<div class="line">                           sole[i][1] * multiplier,</div>
<div class="line">                           sole[i][2] * multiplier);</div>
<div class="line">            } </div>
<div class="line">        glEnd();</div>
<div class="line">        glBegin(GL_TRIANGLE_FAN);</div>
<div class="line">            last = heelCount - 1;</div>
<div class="line">            <span class="keywordflow">for</span> (i = 0; i &lt; last; ++i) {</div>
<div class="line">                glVertex3f(heel[i][0] * multiplier,</div>
<div class="line">                           heel[i][1] * multiplier,</div>
<div class="line">                           heel[i][2] * multiplier);</div>
<div class="line">            }</div>
<div class="line">        glEnd();</div>
<div class="line"></div>
<div class="line">        glPopAttrib();</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Draw the outline of the foot</span></div>
<div class="line">    <span class="comment">//</span></div>
<div class="line">    glBegin(GL_LINES);</div>
<div class="line">        <span class="keywordtype">int</span> i;</div>
<div class="line">        <span class="keywordtype">int</span> last = soleCount - 1;</div>
<div class="line">        <span class="keywordflow">for</span> (i = 0; i &lt; last; ++i) { </div>
<div class="line">            glVertex3f(sole[i][0] * multiplier, </div>
<div class="line">                       sole[i][1] * multiplier, </div>
<div class="line">                       sole[i][2] * multiplier);</div>
<div class="line">            glVertex3f(sole[i+1][0] * multiplier, </div>
<div class="line">                       sole[i+1][1] * multiplier, </div>
<div class="line">                       sole[i+1][2] * multiplier);</div>
<div class="line">        } </div>
<div class="line">        last = heelCount - 1;</div>
<div class="line">        <span class="keywordflow">for</span> (i = 0; i &lt; last; ++i) { </div>
<div class="line">            glVertex3f(heel[i][0] * multiplier, </div>
<div class="line">                       heel[i][1] * multiplier, </div>
<div class="line">                       heel[i][2] * multiplier);</div>
<div class="line">            glVertex3f(heel[i+1][0] * multiplier, </div>
<div class="line">                       heel[i+1][1] * multiplier, </div>
<div class="line">                       heel[i+1][2] * multiplier);</div>
<div class="line">        }</div>
<div class="line">    glEnd();</div>
<div class="line"></div>
<div class="line">    view.<a class="code" href="#!/url=./cpp_ref/class_m3d_view.html#ab810c5a46d728df70ff5f44b604559f4">endGL</a>();</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"><span class="keywordtype">bool</span> footPrintLocator::isBounded()<span class="keyword"> const</span></div>
<div class="line"><span class="keyword"></span>{ </div>
<div class="line">    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"><a class="code" href="#!/url=./cpp_ref/class_m_bounding_box.html">MBoundingBox</a> footPrintLocator::boundingBox()<span class="keyword"> const</span></div>
<div class="line"><span class="keyword"></span>{   </div>
<div class="line">    <span class="comment">// Get the size</span></div>
<div class="line">    <span class="comment">//</span></div>
<div class="line">    <a class="code" href="#!/url=./cpp_ref/class_m_object.html">MObject</a> thisNode = thisMObject();</div>
<div class="line">    <a class="code" href="#!/url=./cpp_ref/class_m_plug.html">MPlug</a> plug(thisNode, size);</div>
<div class="line">    <a class="code" href="#!/url=./cpp_ref/class_m_distance.html">MDistance</a> sizeVal;</div>
<div class="line">    plug.getValue(sizeVal);</div>
<div class="line"></div>
<div class="line">    <span class="keywordtype">double</span> multiplier = sizeVal.<a class="code" href="#!/url=./cpp_ref/class_m_distance.html#ace39ab92685b0f5ab1a2925e748efb1f">asCentimeters</a>();</div>
<div class="line"> </div>
<div class="line">    <a class="code" href="#!/url=./cpp_ref/class_m_point.html">MPoint</a> corner1(-0.17, 0.0, -0.7);</div>
<div class="line">    <a class="code" href="#!/url=./cpp_ref/class_m_point.html">MPoint</a> corner2(0.17, 0.0, 0.3);</div>
<div class="line"></div>
<div class="line">    corner1 = corner1 * multiplier;</div>
<div class="line">    corner2 = corner2 * multiplier;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> <a class="code" href="#!/url=./cpp_ref/class_m_bounding_box.html">MBoundingBox</a>(corner1, corner2);</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"><span class="keywordtype">void</span>* footPrintLocator::creator()</div>
<div class="line">{</div>
<div class="line">    <span class="keywordflow">return</span> <span class="keyword">new</span> footPrintLocator();</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"><a class="code" href="#!/url=./cpp_ref/class_m_status.html">MStatus</a> footPrintLocator::initialize()</div>
<div class="line">{ </div>
<div class="line">    <a name="_a62"></a><a class="code" href="#!/url=./cpp_ref/class_m_fn_unit_attribute.html">MFnUnitAttribute</a> unitFn;</div>
<div class="line">    <a class="code" href="#!/url=./cpp_ref/class_m_status.html">MStatus</a>          stat;</div>
<div class="line"></div>
<div class="line">    size = unitFn.<a name="a63"></a><a class="code" href="#!/url=./cpp_ref/class_m_fn_unit_attribute.html#a31f804de81a968aa11b510a6231e7874">create</a>(<span class="stringliteral">&quot;size&quot;</span>, <span class="stringliteral">&quot;sz&quot;</span>, <a name="a64"></a><a class="code" href="#!/url=./cpp_ref/class_m_fn_unit_attribute.html#a1d1cfd8ffb84e947f82999c682b666a7a1925172d8d6f77cdb98f7f486f706024">MFnUnitAttribute::kDistance</a>);</div>
<div class="line">    unitFn.<a name="a65"></a><a class="code" href="#!/url=./cpp_ref/class_m_fn_unit_attribute.html#a02a46e1b4ae48c38d85678a8611e3e77">setDefault</a>(10.0);</div>
<div class="line">    unitFn.<a name="a66"></a><a class="code" href="#!/url=./cpp_ref/class_m_fn_attribute.html#a8d2be80de133a200a455bf9e2ac1b709">setStorable</a>(<span class="keyword">true</span>);</div>
<div class="line">    unitFn.<a name="a67"></a><a class="code" href="#!/url=./cpp_ref/class_m_fn_attribute.html#a98bb3089ec3b7442383da68a5ef424c7">setWritable</a>(<span class="keyword">true</span>);</div>
<div class="line"></div>
<div class="line">    stat = addAttribute(size);</div>
<div class="line">    <span class="keywordflow">if</span> (!stat) {</div>
<div class="line">        stat.<a name="a68"></a><a class="code" href="#!/url=./cpp_ref/class_m_status.html#a1f01a4748fea4d8bcced082df83f804d">perror</a>(<span class="stringliteral">&quot;addAttribute&quot;</span>);</div>
<div class="line">        <span class="keywordflow">return</span> stat;</div>
<div class="line">    }</div>
<div class="line">    </div>
<div class="line">    <a name="a69"></a><a class="code" href="#!/url=./cpp_ref/class_m_px_manip_container.html#a156ef5b4b1b5a7d28df9166f29a3aba0">MPxManipContainer::addToManipConnectTable</a>(<span class="keywordtype">id</span>);</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> <a class="code" href="#!/url=./cpp_ref/class_m_status.html#a02ab596f4febca68da503aaf8dde3a80af0536797208144380691e2b376ffc1d1">MS::kSuccess</a>;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"><span class="keyword">class </span>FootPrintLocatorData : <span class="keyword">public</span> <a name="_a70"></a><a class="code" href="#!/url=./cpp_ref/class_m_user_data.html">MUserData</a></div>
<div class="line">{</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    FootPrintLocatorData() : <a class="code" href="#!/url=./cpp_ref/class_m_user_data.html">MUserData</a>(false) {} <span class="comment">// don&#39;t delete after draw</span></div>
<div class="line">    <span class="keyword">virtual</span> ~FootPrintLocatorData() {}</div>
<div class="line"></div>
<div class="line">    <a class="code" href="#!/url=./cpp_ref/class_m_color.html">MColor</a> fColor;</div>
<div class="line">    <a name="_a71"></a><a class="code" href="#!/url=./cpp_ref/class_m_point_array.html">MPointArray</a> fSoleLineList;</div>
<div class="line">    <a class="code" href="#!/url=./cpp_ref/class_m_point_array.html">MPointArray</a> fSoleTriangleList;</div>
<div class="line">    <a class="code" href="#!/url=./cpp_ref/class_m_point_array.html">MPointArray</a> fHeelLineList;</div>
<div class="line">    <a class="code" href="#!/url=./cpp_ref/class_m_point_array.html">MPointArray</a> fHeelTriangleList;</div>
<div class="line">};</div>
<div class="line"></div>
<div class="line"><span class="keyword">class </span>FootPrintLocatorDrawOverride : <span class="keyword">public</span> <a name="_a72"></a><a class="code" href="#!/url=./cpp_ref/class_m_h_w_render_1_1_m_px_draw_override.html">MHWRender::MPxDrawOverride</a></div>
<div class="line">{</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    <span class="keyword">static</span> <a class="code" href="#!/url=./cpp_ref/class_m_h_w_render_1_1_m_px_draw_override.html">MHWRender::MPxDrawOverride</a>* Creator(<span class="keyword">const</span> <a class="code" href="#!/url=./cpp_ref/class_m_object.html">MObject</a>&amp; obj)</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">return</span> <span class="keyword">new</span> FootPrintLocatorDrawOverride(obj);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keyword">virtual</span> ~FootPrintLocatorDrawOverride();</div>
<div class="line"></div>
<div class="line">    <span class="keyword">virtual</span> <a class="code" href="#!/url=./cpp_ref/namespace_m_h_w_render.html#ad970d5c990d4803d0e9d73c1ff4fda49">MHWRender::DrawAPI</a> <a name="a73"></a><a class="code" href="#!/url=./cpp_ref/class_m_h_w_render_1_1_m_px_draw_override.html#a0a36b8ef8730fa92f11c853752cc1e0e">supportedDrawAPIs</a>() <span class="keyword">const</span>;</div>
<div class="line"></div>
<div class="line">    <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a name="a74"></a><a class="code" href="#!/url=./cpp_ref/class_m_h_w_render_1_1_m_px_draw_override.html#aaf0394d1f5fb92ca3278246b233f91f6">isBounded</a>(</div>
<div class="line">        <span class="keyword">const</span> <a class="code" href="#!/url=./cpp_ref/class_m_dag_path.html">MDagPath</a>&amp; objPath,</div>
<div class="line">        <span class="keyword">const</span> <a class="code" href="#!/url=./cpp_ref/class_m_dag_path.html">MDagPath</a>&amp; cameraPath) <span class="keyword">const</span>;</div>
<div class="line"></div>
<div class="line">    <span class="keyword">virtual</span> <a class="code" href="#!/url=./cpp_ref/class_m_bounding_box.html">MBoundingBox</a> <a name="a75"></a><a class="code" href="#!/url=./cpp_ref/class_m_h_w_render_1_1_m_px_draw_override.html#ae897c759784349c81707df07c34e0846">boundingBox</a>(</div>
<div class="line">        <span class="keyword">const</span> <a class="code" href="#!/url=./cpp_ref/class_m_dag_path.html">MDagPath</a>&amp; objPath,</div>
<div class="line">        <span class="keyword">const</span> <a class="code" href="#!/url=./cpp_ref/class_m_dag_path.html">MDagPath</a>&amp; cameraPath) <span class="keyword">const</span>;</div>
<div class="line"></div>
<div class="line">    <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a name="a76"></a><a class="code" href="#!/url=./cpp_ref/class_m_h_w_render_1_1_m_px_draw_override.html#adbe775aa1c5ac13774ae4d58edcf2001">disableInternalBoundingBoxDraw</a>() <span class="keyword">const</span>;</div>
<div class="line"></div>
<div class="line">    <span class="keyword">virtual</span> <a class="code" href="#!/url=./cpp_ref/class_m_user_data.html">MUserData</a>* <a name="a77"></a><a class="code" href="#!/url=./cpp_ref/class_m_h_w_render_1_1_m_px_draw_override.html#a9add62fff797c657c9bb5740b97f6a29">prepareForDraw</a>(</div>
<div class="line">        <span class="keyword">const</span> <a class="code" href="#!/url=./cpp_ref/class_m_dag_path.html">MDagPath</a>&amp; objPath,</div>
<div class="line">        <span class="keyword">const</span> <a class="code" href="#!/url=./cpp_ref/class_m_dag_path.html">MDagPath</a>&amp; cameraPath,</div>
<div class="line">        <span class="keyword">const</span> <a class="code" href="#!/url=./cpp_ref/class_m_h_w_render_1_1_m_frame_context.html">MHWRender::MFrameContext</a>&amp; frameContext,</div>
<div class="line">        <a class="code" href="#!/url=./cpp_ref/class_m_user_data.html">MUserData</a>* oldData);</div>
<div class="line"></div>
<div class="line">    <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a name="a78"></a><a class="code" href="#!/url=./cpp_ref/class_m_h_w_render_1_1_m_px_draw_override.html#a05c70618c28196399681a784a3686b50">hasUIDrawables</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <span class="keyword">true</span>; }</div>
<div class="line"></div>
<div class="line">    <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a name="a79"></a><a class="code" href="#!/url=./cpp_ref/class_m_h_w_render_1_1_m_px_draw_override.html#a739426be648a81276a6ccc0c39f34280">addUIDrawables</a>(</div>
<div class="line">        <span class="keyword">const</span> <a class="code" href="#!/url=./cpp_ref/class_m_dag_path.html">MDagPath</a>&amp; objPath,</div>
<div class="line">        <a class="code" href="#!/url=./cpp_ref/class_m_h_w_render_1_1_m_u_i_draw_manager.html">MHWRender::MUIDrawManager</a>&amp; drawManager,</div>
<div class="line">        <span class="keyword">const</span> <a class="code" href="#!/url=./cpp_ref/class_m_h_w_render_1_1_m_frame_context.html">MHWRender::MFrameContext</a>&amp; frameContext,</div>
<div class="line">        <span class="keyword">const</span> <a class="code" href="#!/url=./cpp_ref/class_m_user_data.html">MUserData</a>* data);</div>
<div class="line"></div>
<div class="line"><span class="keyword">protected</span>:</div>
<div class="line">    <a class="code" href="#!/url=./cpp_ref/class_m_bounding_box.html">MBoundingBox</a> mCurrentBoundingBox;</div>
<div class="line"></div>
<div class="line"><span class="keyword">private</span>:</div>
<div class="line">    FootPrintLocatorDrawOverride(<span class="keyword">const</span> <a class="code" href="#!/url=./cpp_ref/class_m_object.html">MObject</a>&amp; obj);</div>
<div class="line">    <span class="keywordtype">float</span> getMultiplier(<span class="keyword">const</span> <a class="code" href="#!/url=./cpp_ref/class_m_dag_path.html">MDagPath</a>&amp; objPath) <span class="keyword">const</span>;</div>
<div class="line">};</div>
<div class="line"></div>
<div class="line">FootPrintLocatorDrawOverride::FootPrintLocatorDrawOverride(<span class="keyword">const</span> <a class="code" href="#!/url=./cpp_ref/class_m_object.html">MObject</a>&amp; obj)</div>
<div class="line">    : <a class="code" href="#!/url=./cpp_ref/namespace_m_h_w_render.html">MHWRender</a>::MPxDrawOverride(obj, NULL)</div>
<div class="line">{</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line">FootPrintLocatorDrawOverride::~FootPrintLocatorDrawOverride()</div>
<div class="line">{</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><a class="code" href="#!/url=./cpp_ref/namespace_m_h_w_render.html#ad970d5c990d4803d0e9d73c1ff4fda49">MHWRender::DrawAPI</a> FootPrintLocatorDrawOverride::supportedDrawAPIs()<span class="keyword"> const</span></div>
<div class="line"><span class="keyword"></span>{</div>
<div class="line">    <span class="comment">// this plugin supports both GL and DX</span></div>
<div class="line">    <span class="keywordflow">return</span> (<a name="a80"></a><a class="code" href="#!/url=./cpp_ref/namespace_m_h_w_render.html#ad970d5c990d4803d0e9d73c1ff4fda49a72361be679c1aca1c1be5f9b500a3315">MHWRender::kOpenGL</a> | <a name="a81"></a><a class="code" href="#!/url=./cpp_ref/namespace_m_h_w_render.html#ad970d5c990d4803d0e9d73c1ff4fda49a90bc0a1678af7ac4d1e62e2e954be4e5">MHWRender::kDirectX11</a>);</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">float</span> FootPrintLocatorDrawOverride::getMultiplier(<span class="keyword">const</span> <a class="code" href="#!/url=./cpp_ref/class_m_dag_path.html">MDagPath</a>&amp; objPath)<span class="keyword"> const</span></div>
<div class="line"><span class="keyword"></span>{</div>
<div class="line">    <span class="comment">// Retrieve value of the size attribute from the node</span></div>
<div class="line">    <a class="code" href="#!/url=./cpp_ref/class_m_status.html">MStatus</a> status;</div>
<div class="line">    <a class="code" href="#!/url=./cpp_ref/class_m_object.html">MObject</a> footprintLocatorNode = objPath.<a name="a82"></a><a class="code" href="#!/url=./cpp_ref/class_m_dag_path.html#ad1aa507eb8e63e89e8d46a0abc18aa8c">node</a>(&amp;status);</div>
<div class="line">    <span class="keywordflow">if</span> (status)</div>
<div class="line">    {</div>
<div class="line">        <a class="code" href="#!/url=./cpp_ref/class_m_plug.html">MPlug</a> plug(footprintLocatorNode, footPrintLocator::size);</div>
<div class="line">        <span class="keywordflow">if</span> (!plug.isNull())</div>
<div class="line">        {</div>
<div class="line">            <a class="code" href="#!/url=./cpp_ref/class_m_distance.html">MDistance</a> sizeVal;</div>
<div class="line">            <span class="keywordflow">if</span> (plug.getValue(sizeVal))</div>
<div class="line">            {</div>
<div class="line">                <span class="keywordflow">return</span> (<span class="keywordtype">float</span>)sizeVal.<a class="code" href="#!/url=./cpp_ref/class_m_distance.html#ace39ab92685b0f5ab1a2925e748efb1f">asCentimeters</a>();</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> 1.0f;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">bool</span> FootPrintLocatorDrawOverride::isBounded(<span class="keyword">const</span> <a class="code" href="#!/url=./cpp_ref/class_m_dag_path.html">MDagPath</a>&amp; <span class="comment">/*objPath*/</span>,</div>
<div class="line">                                      <span class="keyword">const</span> <a class="code" href="#!/url=./cpp_ref/class_m_dag_path.html">MDagPath</a>&amp; <span class="comment">/*cameraPath*/</span>)<span class="keyword"> const</span></div>
<div class="line"><span class="keyword"></span>{</div>
<div class="line">    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><a class="code" href="#!/url=./cpp_ref/class_m_bounding_box.html">MBoundingBox</a> FootPrintLocatorDrawOverride::boundingBox(</div>
<div class="line">    <span class="keyword">const</span> <a class="code" href="#!/url=./cpp_ref/class_m_dag_path.html">MDagPath</a>&amp; objPath,</div>
<div class="line">    <span class="keyword">const</span> <a class="code" href="#!/url=./cpp_ref/class_m_dag_path.html">MDagPath</a>&amp; cameraPath)<span class="keyword"> const</span></div>
<div class="line"><span class="keyword"></span>{</div>
<div class="line">    <a class="code" href="#!/url=./cpp_ref/class_m_point.html">MPoint</a> corner1( -0.17, 0.0, -0.7 );</div>
<div class="line">    <a class="code" href="#!/url=./cpp_ref/class_m_point.html">MPoint</a> corner2( 0.17, 0.0, 0.3 );</div>
<div class="line"></div>
<div class="line">    <span class="keywordtype">float</span> multiplier = getMultiplier(objPath);</div>
<div class="line">    corner1 = corner1 * multiplier;</div>
<div class="line">    corner2 = corner2 * multiplier;</div>
<div class="line"></div>
<div class="line">    FootPrintLocatorDrawOverride *nonConstThis = (FootPrintLocatorDrawOverride *)<span class="keyword">this</span>;</div>
<div class="line">    nonConstThis-&gt;mCurrentBoundingBox.clear();</div>
<div class="line">    nonConstThis-&gt;mCurrentBoundingBox.expand( corner1 );</div>
<div class="line">    nonConstThis-&gt;mCurrentBoundingBox.expand( corner2 );</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> mCurrentBoundingBox;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">bool</span> FootPrintLocatorDrawOverride::disableInternalBoundingBoxDraw()<span class="keyword"> const</span></div>
<div class="line"><span class="keyword"></span>{</div>
<div class="line">    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><a class="code" href="#!/url=./cpp_ref/class_m_user_data.html">MUserData</a>* FootPrintLocatorDrawOverride::prepareForDraw(</div>
<div class="line">    <span class="keyword">const</span> <a class="code" href="#!/url=./cpp_ref/class_m_dag_path.html">MDagPath</a>&amp; objPath,</div>
<div class="line">    <span class="keyword">const</span> <a class="code" href="#!/url=./cpp_ref/class_m_dag_path.html">MDagPath</a>&amp; cameraPath,</div>
<div class="line">    <span class="keyword">const</span> <a class="code" href="#!/url=./cpp_ref/class_m_h_w_render_1_1_m_frame_context.html">MHWRender::MFrameContext</a>&amp; frameContext,</div>
<div class="line">    <a class="code" href="#!/url=./cpp_ref/class_m_user_data.html">MUserData</a>* oldData)</div>
<div class="line">{</div>
<div class="line">    <span class="comment">// Retrieve data cache (create if does not exist)</span></div>
<div class="line">    FootPrintLocatorData* data = <span class="keyword">dynamic_cast&lt;</span>FootPrintLocatorData*<span class="keyword">&gt;</span>(oldData);</div>
<div class="line">    <span class="keywordflow">if</span> (!data)</div>
<div class="line">    {</div>
<div class="line">        data = <span class="keyword">new</span> FootPrintLocatorData();</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordtype">float</span> fMultiplier = getMultiplier(objPath);</div>
<div class="line"></div>
<div class="line">    data-&gt;fSoleLineList.clear();</div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; soleCount; i++)</div>
<div class="line">    {</div>
<div class="line">        data-&gt;fSoleLineList.append(sole[i][0] * fMultiplier, sole[i][1] * fMultiplier, sole[i][2] * fMultiplier);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    data-&gt;fHeelLineList.clear();</div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; heelCount; i++)</div>
<div class="line">    {</div>
<div class="line">        data-&gt;fHeelLineList.append(heel[i][0] * fMultiplier, heel[i][1] * fMultiplier, heel[i][2] * fMultiplier);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    data-&gt;fSoleTriangleList.clear();    </div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 1; i &lt;= soleCount - 2; i++)</div>
<div class="line">    {</div>
<div class="line">        data-&gt;fSoleTriangleList.append(sole[0][0] * fMultiplier, sole[0][1] * fMultiplier, sole[0][2] * fMultiplier);</div>
<div class="line">        data-&gt;fSoleTriangleList.append(sole[i][0] * fMultiplier, sole[i][1] * fMultiplier, sole[i][2] * fMultiplier);</div>
<div class="line">        data-&gt;fSoleTriangleList.append(sole[i+1][0] * fMultiplier, sole[i+1][1] * fMultiplier, sole[i+1][2] * fMultiplier);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    data-&gt;fHeelTriangleList.clear();    </div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 1; i &lt;= heelCount - 2; i++)</div>
<div class="line">    {</div>
<div class="line">        data-&gt;fHeelTriangleList.append(heel[0][0] * fMultiplier, heel[0][1] * fMultiplier, heel[0][2] * fMultiplier);</div>
<div class="line">        data-&gt;fHeelTriangleList.append(heel[i][0] * fMultiplier, heel[i][1] * fMultiplier, heel[i][2] * fMultiplier);</div>
<div class="line">        data-&gt;fHeelTriangleList.append(heel[i+1][0] * fMultiplier, heel[i+1][1] * fMultiplier, heel[i+1][2] * fMultiplier);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line"></div>
<div class="line">    <span class="comment">// compute data and cache it</span></div>
<div class="line">    data-&gt;fColor = <a name="a83"></a><a class="code" href="#!/url=./cpp_ref/class_m_h_w_render_1_1_m_geometry_utilities.html#a6221bc7407b14246b14f79a751496276">MHWRender::MGeometryUtilities::wireframeColor</a>(objPath);</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> data;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">void</span> FootPrintLocatorDrawOverride::addUIDrawables(</div>
<div class="line">    <span class="keyword">const</span> <a class="code" href="#!/url=./cpp_ref/class_m_dag_path.html">MDagPath</a>&amp; objPath,</div>
<div class="line">    <a class="code" href="#!/url=./cpp_ref/class_m_h_w_render_1_1_m_u_i_draw_manager.html">MHWRender::MUIDrawManager</a>&amp; drawManager,</div>
<div class="line">    <span class="keyword">const</span> <a class="code" href="#!/url=./cpp_ref/class_m_h_w_render_1_1_m_frame_context.html">MHWRender::MFrameContext</a>&amp; frameContext,</div>
<div class="line">    <span class="keyword">const</span> <a class="code" href="#!/url=./cpp_ref/class_m_user_data.html">MUserData</a>* data)</div>
<div class="line">{</div>
<div class="line">    FootPrintLocatorData* pLocatorData = (FootPrintLocatorData*)data;</div>
<div class="line"></div>
<div class="line">    drawManager.<a class="code" href="#!/url=./cpp_ref/class_m_h_w_render_1_1_m_u_i_draw_manager.html#a9008ebfa63c02670625076230d77c3f9">beginDrawable</a>();</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Draw the foot print solid/wireframe</span></div>
<div class="line">    drawManager.<a class="code" href="#!/url=./cpp_ref/class_m_h_w_render_1_1_m_u_i_draw_manager.html#a9baede3e37abe9551e50a8c6be65ec4d">setColor</a>( pLocatorData-&gt;fColor );</div>
<div class="line">    drawManager.<a name="a84"></a><a class="code" href="#!/url=./cpp_ref/class_m_h_w_render_1_1_m_u_i_draw_manager.html#ad19b05026d05d93c1ffca4914fe81fa6">setDepthPriority</a>(5);</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (frameContext.<a name="a85"></a><a class="code" href="#!/url=./cpp_ref/class_m_h_w_render_1_1_m_frame_context.html#acd5ce60bbd3d03181b1ad681023ff44d">getDisplayStyle</a>() &amp; <a name="a86"></a><a class="code" href="#!/url=./cpp_ref/class_m_h_w_render_1_1_m_frame_context.html#a1b68f8823b8e275a4b548fdd27263e8aa620925ec70781a5f5de890d906660d24">MHWRender::MFrameContext::kGouraudShaded</a>) {</div>
<div class="line">        drawManager.<a name="a87"></a><a class="code" href="#!/url=./cpp_ref/class_m_h_w_render_1_1_m_u_i_draw_manager.html#ab7479336abc018548fe68277932d848a">mesh</a>(<a name="a88"></a><a class="code" href="#!/url=./cpp_ref/class_m_h_w_render_1_1_m_u_i_draw_manager.html#a08260379b97fd733e30ea92e891ede1eaa2c70dd76c8172a9298334473c914304">MHWRender::MUIDrawManager::kTriangles</a>, pLocatorData-&gt;fSoleTriangleList);</div>
<div class="line">        drawManager.<a class="code" href="#!/url=./cpp_ref/class_m_h_w_render_1_1_m_u_i_draw_manager.html#ab7479336abc018548fe68277932d848a">mesh</a>(<a class="code" href="#!/url=./cpp_ref/class_m_h_w_render_1_1_m_u_i_draw_manager.html#a08260379b97fd733e30ea92e891ede1eaa2c70dd76c8172a9298334473c914304">MHWRender::MUIDrawManager::kTriangles</a>, pLocatorData-&gt;fHeelTriangleList);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    drawManager.<a class="code" href="#!/url=./cpp_ref/class_m_h_w_render_1_1_m_u_i_draw_manager.html#ab7479336abc018548fe68277932d848a">mesh</a>(<a name="a89"></a><a class="code" href="#!/url=./cpp_ref/class_m_h_w_render_1_1_m_u_i_draw_manager.html#a08260379b97fd733e30ea92e891ede1ea5c6aca155c5896f2295346bb646f3be1">MHWRender::MUIDrawManager::kClosedLine</a>, pLocatorData-&gt;fSoleLineList);</div>
<div class="line">    drawManager.<a class="code" href="#!/url=./cpp_ref/class_m_h_w_render_1_1_m_u_i_draw_manager.html#ab7479336abc018548fe68277932d848a">mesh</a>(<a class="code" href="#!/url=./cpp_ref/class_m_h_w_render_1_1_m_u_i_draw_manager.html#a08260379b97fd733e30ea92e891ede1ea5c6aca155c5896f2295346bb646f3be1">MHWRender::MUIDrawManager::kClosedLine</a>, pLocatorData-&gt;fHeelLineList);</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Draw a text &quot;Foot&quot;</span></div>
<div class="line">    <a class="code" href="#!/url=./cpp_ref/class_m_point.html">MPoint</a> pos( 0.0, 0.0, 0.0 ); <span class="comment">// Position of the text</span></div>
<div class="line">    <a class="code" href="#!/url=./cpp_ref/class_m_color.html">MColor</a> textColor( 0.1f, 0.8f, 0.8f, 1.0f ); <span class="comment">// Text color</span></div>
<div class="line"></div>
<div class="line">    drawManager.<a class="code" href="#!/url=./cpp_ref/class_m_h_w_render_1_1_m_u_i_draw_manager.html#a9baede3e37abe9551e50a8c6be65ec4d">setColor</a>( textColor );</div>
<div class="line">    drawManager.<a name="a90"></a><a class="code" href="#!/url=./cpp_ref/class_m_h_w_render_1_1_m_u_i_draw_manager.html#adfd0cfdd2cc781dba3987f64cb638a67">setFontSize</a>( <a name="a91"></a><a class="code" href="#!/url=./cpp_ref/class_m_h_w_render_1_1_m_u_i_draw_manager.html#a88cff078229df1c0803a690e4826b5f1a7218bb69173cb216cb619effff1055ea">MHWRender::MUIDrawManager::kSmallFontSize</a> );</div>
<div class="line">    drawManager.<a class="code" href="#!/url=./cpp_ref/class_m_h_w_render_1_1_m_u_i_draw_manager.html#a334e4280e5ddd4653c69f9703b5dd3b4">text</a>( pos,  <a class="code" href="#!/url=./cpp_ref/class_m_string.html">MString</a>(<span class="stringliteral">&quot;FootprintLocator&quot;</span>), <a name="a92"></a><a class="code" href="#!/url=./cpp_ref/class_m_h_w_render_1_1_m_u_i_draw_manager.html#aa56f1a82069b5feeadbb4591cb3e474fae006401ce2987367501dd62b12f1396d">MHWRender::MUIDrawManager::kCenter</a> );</div>
<div class="line"></div>
<div class="line">    drawManager.<a class="code" href="#!/url=./cpp_ref/class_m_h_w_render_1_1_m_u_i_draw_manager.html#a78c343c25a05be7e46dd4b7ebab82ff6">endDrawable</a>();</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><a class="code" href="#!/url=./cpp_ref/class_m_status.html">MStatus</a> initializePlugin(<a class="code" href="#!/url=./cpp_ref/class_m_object.html">MObject</a> obj)</div>
<div class="line">{ </div>
<div class="line">    <a class="code" href="#!/url=./cpp_ref/class_m_status.html">MStatus</a> status;</div>
<div class="line">    <a name="_a93"></a><a class="code" href="#!/url=./cpp_ref/class_m_fn_plugin.html">MFnPlugin</a> plugin(obj, PLUGIN_COMPANY, <span class="stringliteral">&quot;3.0&quot;</span>, <span class="stringliteral">&quot;Any&quot;</span>);</div>
<div class="line"></div>
<div class="line">    status = plugin.registerNode(<span class="stringliteral">&quot;footPrintLocator&quot;</span>, </div>
<div class="line">                                 footPrintLocator::id, </div>
<div class="line">                                 &amp;footPrintLocator::creator, </div>
<div class="line">                                 &amp;footPrintLocator::initialize,</div>
<div class="line">                                 <a name="a94"></a><a class="code" href="#!/url=./cpp_ref/class_m_px_node.html#a1d1cfd8ffb84e947f82999c682b666a7aee1b06f2f9885d7d4fd4fda48926f94b">MPxNode::kLocatorNode</a>, </div>
<div class="line">                                 &amp;footPrintLocator::drawDbClassification</div>
<div class="line">                                 );</div>
<div class="line">    <span class="keywordflow">if</span> (!status) {</div>
<div class="line">        status.<a class="code" href="#!/url=./cpp_ref/class_m_status.html#a1f01a4748fea4d8bcced082df83f804d">perror</a>(<span class="stringliteral">&quot;registerNode&quot;</span>);</div>
<div class="line">        <span class="keywordflow">return</span> status;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    status = <a name="a95"></a><a class="code" href="#!/url=./cpp_ref/class_m_h_w_render_1_1_m_draw_registry.html#aad1598f978d33d3e5101ae28f9f07b6f">MHWRender::MDrawRegistry::registerDrawOverrideCreator</a>(</div>
<div class="line">        footPrintLocator::drawDbClassification,</div>
<div class="line">        footPrintLocator::drawRegistrantId,</div>
<div class="line">        FootPrintLocatorDrawOverride::Creator);</div>
<div class="line">    <span class="keywordflow">if</span> (!status) {</div>
<div class="line">        status.<a class="code" href="#!/url=./cpp_ref/class_m_status.html#a1f01a4748fea4d8bcced082df83f804d">perror</a>(<span class="stringliteral">&quot;registerDrawOverrideCreator&quot;</span>);</div>
<div class="line">        <span class="keywordflow">return</span> status;</div>
<div class="line">    }</div>
<div class="line">    </div>
<div class="line">    </div>
<div class="line">    status = plugin.registerNode(<span class="stringliteral">&quot;footPrintLocatorManip&quot;</span>, </div>
<div class="line">                                 footPrintLocatorManip::id, </div>
<div class="line">                                 &amp;footPrintLocatorManip::creator, </div>
<div class="line">                                 &amp;footPrintLocatorManip::initialize,</div>
<div class="line">                                 <a name="a96"></a><a class="code" href="#!/url=./cpp_ref/class_m_px_node.html#a1d1cfd8ffb84e947f82999c682b666a7a4501afd1a084198ccd007e64ed2074c9">MPxNode::kManipContainer</a>);</div>
<div class="line">    <span class="keywordflow">if</span> (!status) {</div>
<div class="line">        status.<a class="code" href="#!/url=./cpp_ref/class_m_status.html#a1f01a4748fea4d8bcced082df83f804d">perror</a>(<span class="stringliteral">&quot;registerNode&quot;</span>);</div>
<div class="line">        <span class="keywordflow">return</span> status;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> status;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"><a class="code" href="#!/url=./cpp_ref/class_m_status.html">MStatus</a> uninitializePlugin(<a class="code" href="#!/url=./cpp_ref/class_m_object.html">MObject</a> obj)</div>
<div class="line">{</div>
<div class="line">    <a class="code" href="#!/url=./cpp_ref/class_m_status.html">MStatus</a> status;</div>
<div class="line">    <a class="code" href="#!/url=./cpp_ref/class_m_fn_plugin.html">MFnPlugin</a> plugin(obj);</div>
<div class="line"></div>
<div class="line">    status = plugin.deregisterNode(footPrintLocator::id);</div>
<div class="line">    <span class="keywordflow">if</span> (!status) {</div>
<div class="line">        status.<a class="code" href="#!/url=./cpp_ref/class_m_status.html#a1f01a4748fea4d8bcced082df83f804d">perror</a>(<span class="stringliteral">&quot;deregisterNode&quot;</span>);</div>
<div class="line">        <span class="keywordflow">return</span> status;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    status = <a name="a97"></a><a class="code" href="#!/url=./cpp_ref/class_m_h_w_render_1_1_m_draw_registry.html#ae87be399ce4204dbe8b565c4ff76c0fa">MHWRender::MDrawRegistry::deregisterDrawOverrideCreator</a>(</div>
<div class="line">        footPrintLocator::drawDbClassification,</div>
<div class="line">        footPrintLocator::drawRegistrantId);</div>
<div class="line">    <span class="keywordflow">if</span> (!status) {</div>
<div class="line">        status.<a class="code" href="#!/url=./cpp_ref/class_m_status.html#a1f01a4748fea4d8bcced082df83f804d">perror</a>(<span class="stringliteral">&quot;deregisterNode&quot;</span>);</div>
<div class="line">        <span class="keywordflow">return</span> status;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    status = plugin.deregisterNode(footPrintLocatorManip::id);</div>
<div class="line">    <span class="keywordflow">if</span> (!status) {</div>
<div class="line">        status.<a class="code" href="#!/url=./cpp_ref/class_m_status.html#a1f01a4748fea4d8bcced082df83f804d">perror</a>(<span class="stringliteral">&quot;deregisterNode&quot;</span>);</div>
<div class="line">        <span class="keywordflow">return</span> status;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> status;</div>
<div class="line">}</div>
</div><!-- fragment --> </div><!-- contents -->
</div><!-- doc-content -->
          <div class="footer-block"><a href="../html/ac.cmtdialog.htm" class="comments-anchor" target="_blank"><span class="comments-link">Please send us your comment about this page</span></a></div><br></div>
   </div></body>
</html>
