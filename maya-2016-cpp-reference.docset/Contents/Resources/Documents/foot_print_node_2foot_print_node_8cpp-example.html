<!-- saved from url=(0024)http://docs.autodesk.com -->
<html>
<head><script src="../scripts/yepnope.1.5.4-min.js" type="text/javascript"></script><script src="../scripts/lib/jquery-1.11.1.min.js" type="text/javascript"></script><meta content="text/html; charset=utf-8" http-equiv="Content-Type"><meta content="MAYAUL" name="product"><meta content="2016" name="release"><meta content="Developer" name="book"><meta content="2015-10-14" name="created"><meta content="GUID-02DEF634-1E7B-48C6-8ACD-2C934CA97887" name="topicid"><meta content="concept" name="topic-type">
<title>footPrintNode/footPrintNode.cpp</title>
<meta content="C++" name="topic-subtype"/></meta></meta></meta></meta></meta></meta></meta></head>
<body height="100%"><div class="body_content" id="body-content"><link href="cpp_ref/navtree.css" rel="stylesheet" type="text/css"><link href="cpp_ref/doxygen.css" rel="stylesheet" type="text/css"><link href="cpp_ref/tabs.css" rel="stylesheet" type="text/css"><link href="style/adsk.cpm.css" rel="stylesheet" type="text/css"><script language="javascript">var index = 'index.html';</script><script>$(document).ready(function() { yepnope.injectJs("./scripts/ac_common.js"); });</script><script type="text/javascript">
var tocSystemNeedsToBeLoaded = typeof(cpp_ref_adsk_ref_toc) == 'undefined';
var weAreIn21 = $('div#main.view-active').length;
var tocPrefix = '';
if (weAreIn21)
{ tocPrefix = 'cpp_ref/'; }
function cpp_ref_initializeToc(forceTrigger) {
    cpp_ref_adsk_ref_toc.initResizable();
    cpp_ref_adsk_ref_toc.initNavTree('foot_print_node_2foot_print_node_8cpp-example.html', tocPrefix);
    dQuery(document).trigger('toc_initialized');
}
if (tocSystemNeedsToBeLoaded)
{
	yepnope([{
	load:[tocPrefix + 'json3.min.js', tocPrefix + 'jquery.js', tocPrefix + 'ref-toc-controller.js', tocPrefix + 'dynsections.js'],
	complete: function() {
	  if (typeof(dQuery) == 'undefined')
	  {
	    dQuery = jQuery.noConflict(true);
	  }
	  else { jQuery.noConflict(true); }
	  $(document).ready(cpp_ref_initializeToc);
	}
 	}])
}
if (!weAreIn21) { // if in AKN...
$(window).load( function() {
    setTimeout( function() {
        var content = $('body > div').not('#body-content');     // take any divs under body that are not id=body-content
        content.each( function() { 
            $(this).css( { 'padding-left': $(this).css('margin-left') } );       // and if they have any padding-left already, move it to margin-left.
        } );
        var width = cpp_ref_adsk_ref_toc.readFromStorage('width');
        content.css({marginLeft:parseInt(width)+6+"px"});
    }, 100);
} ); 
}
</script><script>$("div#WidgetFloaterPanels,link[href*='microsofttranslator.com'],script[src*='microsofttranslator.com'],script[src*='bing.com']").remove();</script><script type="text/javascript">$("div#navigation,div#breadcrumbs,div#banner").attr("translate","no"); var mtLocation = ((location && location.href && location.href.indexOf('https') == 0)?'https://ssl.microsofttranslator.com':'http://www.microsofttranslator.com')+'/ajax/v3/WidgetV3.ashx?siteData=y5CYlxTRD0znCzRLDwX0Wy7-g1EdC1XA4dSC-Y1LtaeScyli8_Ps5jPKqTr4xKxMI0OOUfkDplvX3uxN0JnPclebSYW8_J1HBzf4VLQEzQ8M4PsYXF_cMyp1Oumaetky&category=5297189e-446b-459e-ae1d-9d0360400781_tech&ctf=True&ui=true&settings=Manual&from=en&hidelanguages='; yepnope.injectJs(mtLocation, function() {}, { charset:'utf-8', type:'text/javascript' } );</script><script>
 if (!tocSystemNeedsToBeLoaded) { cpp_ref_initializeToc(); }
 </script><!-- begin MT -->
<div class="Dark" id="MicrosoftTranslatorWidget" style="position:absolute;right:20px;top:5px;z-index:100;color:white;background-color:#555555;height:58px;overflow:hidden"></div>
<div>
<div class="head">
<h1>footPrintNode/footPrintNode.cpp</h1>
</div>
<div id="top"><!-- Generated by Doxygen 1.8.10 -->
<div class="tabs" id="navrow1">
<ul class="tablist">
<li><a href="./index.html"><span>MainÂ Page</span></a></li>
<li><a href="./pages.html"><span>Topics</span></a></li>
<li><a href="./modules.html"><span>Modules</span></a></li>
<li><a href="./namespaces.html"><span>Namespaces</span></a></li>
<li><a href="./annotated.html"><span>Classes</span></a></li>
<li><a href="./examples.html"><span>Examples</span></a></li>
</ul>
</div>
</div><!-- top -->
<div class="ui-resizable side-nav-resizable" id="side-nav">
<div id="nav-tree">
<div id="nav-tree-contents">
<div class="sync" id="nav-sync"></div>
</div>
</div>
<div class="ui-resizable-handle" id="splitbar" style="-moz-user-select:none;">
</div>
</div>
<div id="doc-content">
<div class="header">
<div class="headertitle">
<div class="title">footPrintNode/footPrintNode.cpp</div> </div>
</div><!--header-->
<div class="contents">
<div class="fragment"><div class="line"><span class="comment">//-</span></div>
<div class="line"><span class="comment">// ==========================================================================</span></div>
<div class="line"><span class="comment">// Copyright 2015 Autodesk, Inc.  All rights reserved.</span></div>
<div class="line"><span class="comment">// Use of this software is subject to the terms of the Autodesk license agreement</span></div>
<div class="line"><span class="comment">// provided at the time of installation or download, or which otherwise</span></div>
<div class="line"><span class="comment">// accompanies this software in either electronic or hard copy form.</span></div>
<div class="line"><span class="comment">// ==========================================================================</span></div>
<div class="line"><span class="comment">//+</span></div>
<div class="line"></div>
<div class="line"><span class="comment">// </span></div>
<div class="line"><span class="comment">// footPrintNode.cpp</span></div>
<div class="line"><span class="comment">// </span></div>
<div class="line"><span class="comment">// This plug-in demonstrates how to draw a simple mesh like foot Print in an easy way.</span></div>
<div class="line"><span class="comment">//</span></div>
<div class="line"><span class="comment">// This easy way is supported in Viewport 2.0.</span></div>
<div class="line"><span class="comment">// In Viewport 2.0, MUIDrawManager can used to draw simple UI elements in method addUIDrawables().</span></div>
<div class="line"><span class="comment">//</span></div>
<div class="line"><span class="comment">// For comparison, you can reference a devkit sample named rawfootPrintNode.</span></div>
<div class="line"><span class="comment">// In that sample, we draw the footPrint with OpenGL\DX in method rawFootPrintDrawOverride::draw().</span></div>
<div class="line"><span class="comment">//</span></div>
<div class="line"><span class="comment">// Note the method </span></div>
<div class="line"><span class="comment">//   footPrint::draw() </span></div>
<div class="line"><span class="comment">// is only called in legacy default viewport to draw foot Print.</span></div>
<div class="line"><span class="comment">// while the methods </span></div>
<div class="line"><span class="comment">//   FootPrintDrawOverride::prepareForDraw() </span></div>
<div class="line"><span class="comment">//   FootPrintDrawOverride::addUIDrawables() </span></div>
<div class="line"><span class="comment">// are only called in Viewport 2.0 to prepare and draw foot Print.</span></div>
<div class="line"><span class="comment">// </span></div>
<div class="line"><span class="comment"></span></div>
<div class="line"><span class="preprocessor">#include &lt;maya/MPxLocatorNode.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;maya/MString.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;maya/MTypeId.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;maya/MPlug.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;maya/MVector.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;maya/MDataBlock.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;maya/MDataHandle.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;maya/MColor.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;maya/M3dView.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;maya/MFnPlugin.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;maya/MDistance.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;maya/MFnUnitAttribute.h&gt;</span></div>
<div class="line"></div>
<div class="line"><span class="comment">// Viewport 2.0 includes</span></div>
<div class="line"><span class="preprocessor">#include &lt;maya/MDrawRegistry.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;maya/MPxDrawOverride.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;maya/MUserData.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;maya/MDrawContext.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;maya/MHWGeometryUtilities.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;maya/MPointArray.h&gt;</span></div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#include &lt;assert.h&gt;</span></div>
<div class="line"></div>
<div class="line"><span class="comment">// Foot Data</span></div>
<div class="line"><span class="comment">//</span></div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">float</span> sole[][3] = { {  0.00f, 0.0f, -0.70f },</div>
<div class="line">                           {  0.04f, 0.0f, -0.69f },</div>
<div class="line">                           {  0.09f, 0.0f, -0.65f },</div>
<div class="line">                           {  0.13f, 0.0f, -0.61f },</div>
<div class="line">                           {  0.16f, 0.0f, -0.54f },</div>
<div class="line">                           {  0.17f, 0.0f, -0.46f },</div>
<div class="line">                           {  0.17f, 0.0f, -0.35f },</div>
<div class="line">                           {  0.16f, 0.0f, -0.25f },</div>
<div class="line">                           {  0.15f, 0.0f, -0.14f },</div>
<div class="line">                           {  0.13f, 0.0f,  0.00f },</div>
<div class="line">                           {  0.00f, 0.0f,  0.00f },</div>
<div class="line">                           { -0.13f, 0.0f,  0.00f },</div>
<div class="line">                           { -0.15f, 0.0f, -0.14f },</div>
<div class="line">                           { -0.16f, 0.0f, -0.25f },</div>
<div class="line">                           { -0.17f, 0.0f, -0.35f },</div>
<div class="line">                           { -0.17f, 0.0f, -0.46f },</div>
<div class="line">                           { -0.16f, 0.0f, -0.54f },</div>
<div class="line">                           { -0.13f, 0.0f, -0.61f },</div>
<div class="line">                           { -0.09f, 0.0f, -0.65f },</div>
<div class="line">                           { -0.04f, 0.0f, -0.69f },</div>
<div class="line">                           { -0.00f, 0.0f, -0.70f } };</div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">float</span> heel[][3] = { {  0.00f, 0.0f,  0.06f },</div>
<div class="line">                           {  0.13f, 0.0f,  0.06f },</div>
<div class="line">                           {  0.14f, 0.0f,  0.15f },</div>
<div class="line">                           {  0.14f, 0.0f,  0.21f },</div>
<div class="line">                           {  0.13f, 0.0f,  0.25f },</div>
<div class="line">                           {  0.11f, 0.0f,  0.28f },</div>
<div class="line">                           {  0.09f, 0.0f,  0.29f },</div>
<div class="line">                           {  0.04f, 0.0f,  0.30f },</div>
<div class="line">                           {  0.00f, 0.0f,  0.30f },</div>
<div class="line">                           { -0.04f, 0.0f,  0.30f },</div>
<div class="line">                           { -0.09f, 0.0f,  0.29f },</div>
<div class="line">                           { -0.11f, 0.0f,  0.28f },</div>
<div class="line">                           { -0.13f, 0.0f,  0.25f },</div>
<div class="line">                           { -0.14f, 0.0f,  0.21f },</div>
<div class="line">                           { -0.14f, 0.0f,  0.15f },</div>
<div class="line">                           { -0.13f, 0.0f,  0.06f },</div>
<div class="line">                           { -0.00f, 0.0f,  0.06f } };</div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">int</span> soleCount = 21;</div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">int</span> heelCount = 17;</div>
<div class="line"></div>
<div class="line"><span class="comment">//---------------------------------------------------------------------------</span></div>
<div class="line"><span class="comment">//---------------------------------------------------------------------------</span></div>
<div class="line"><span class="comment">// Node implementation with standard viewport draw</span></div>
<div class="line"><span class="comment">//---------------------------------------------------------------------------</span></div>
<div class="line"><span class="comment">//---------------------------------------------------------------------------</span></div>
<div class="line"></div>
<div class="line"><span class="keyword">class </span>footPrint : <span class="keyword">public</span> <a name="_a0"></a><a class="code" href="./class_m_px_locator_node.html">MPxLocatorNode</a></div>
<div class="line">{</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    footPrint();</div>
<div class="line"> <span class="keyword">virtual</span> ~footPrint();</div>
<div class="line"></div>
<div class="line"> <span class="keyword">virtual</span> <a name="_a1"></a><a class="code" href="./class_m_status.html">MStatus</a> <a name="a2"></a><a class="code" href="./class_m_px_node.html#a5cb7edfa1f67c75588bec1c38b7bf5f8">compute</a>( <span class="keyword">const</span> <a name="_a3"></a><a class="code" href="./class_m_plug.html">MPlug</a>&amp; plug, <a name="_a4"></a><a class="code" href="./class_m_data_block.html">MDataBlock</a>&amp; data );</div>
<div class="line"></div>
<div class="line"> <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a name="a5"></a><a class="code" href="./class_m_px_locator_node.html#a999efab3ad8289b53bc370aaeb7d6146">draw</a>( <a name="_a6"></a><a class="code" href="./class_m3d_view.html">M3dView</a> &amp; view, <span class="keyword">const</span> <a name="_a7"></a><a class="code" href="./class_m_dag_path.html">MDagPath</a> &amp; path,</div>
<div class="line"> <a class="code" href="./class_m3d_view.html#a1b68f8823b8e275a4b548fdd27263e8a">M3dView::DisplayStyle</a> style,</div>
<div class="line"> <a class="code" href="./class_m3d_view.html#ad9c34c5373567566950642c16a7c4bca">M3dView::DisplayStatus</a> status );</div>
<div class="line"></div>
<div class="line"> <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a name="a8"></a><a class="code" href="./class_m_px_locator_node.html#a4254418493ef1ab6847b9e5f395fa3de">isBounded</a>() <span class="keyword">const</span>;</div>
<div class="line"> <span class="keyword">virtual</span> <a name="_a9"></a><a class="code" href="./class_m_bounding_box.html">MBoundingBox</a> <a name="a10"></a><a class="code" href="./class_m_px_locator_node.html#a762dab569a9d88aa731f3c7229803e1e">boundingBox</a>() <span class="keyword">const</span>;</div>
<div class="line"></div>
<div class="line"> <span class="keyword">static</span> <span class="keywordtype">void</span> *          creator();</div>
<div class="line"> <span class="keyword">static</span> <a class="code" href="./class_m_status.html">MStatus</a>         initialize();</div>
<div class="line"></div>
<div class="line"> <span class="keyword">static</span> <a name="_a11"></a><a class="code" href="./class_m_object.html">MObject</a>         size;         <span class="comment">// The size of the foot</span></div>
<div class="line"></div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line"> <span class="keyword">static</span> <a name="_a12"></a><a class="code" href="./class_m_type_id.html">MTypeId</a>     id;</div>
<div class="line"> <span class="keyword">static</span> <a name="_a13"></a><a class="code" href="./class_m_string.html">MString</a>     drawDbClassification;</div>
<div class="line"> <span class="keyword">static</span> <a class="code" href="./class_m_string.html">MString</a>     drawRegistrantId;</div>
<div class="line">};</div>
<div class="line"></div>
<div class="line"><a class="code" href="./class_m_object.html">MObject</a> footPrint::size;</div>
<div class="line"><a class="code" href="./class_m_type_id.html">MTypeId</a> footPrint::id( 0x80007 );</div>
<div class="line"><a class="code" href="./class_m_string.html">MString</a> footPrint::drawDbClassification(<span class="stringliteral">"drawdb/geometry/footPrint"</span>);</div>
<div class="line"><a class="code" href="./class_m_string.html">MString</a> footPrint::drawRegistrantId(<span class="stringliteral">"FootprintNodePlugin"</span>);</div>
<div class="line"></div>
<div class="line">footPrint::footPrint() {}</div>
<div class="line">footPrint::~footPrint() {}</div>
<div class="line"></div>
<div class="line"><a class="code" href="./class_m_status.html">MStatus</a> footPrint::compute( <span class="keyword">const</span> <a class="code" href="./class_m_plug.html">MPlug</a>&amp; <span class="comment">/*plug*/</span>, <a class="code" href="./class_m_data_block.html">MDataBlock</a>&amp; <span class="comment">/*data*/</span> )</div>
<div class="line">{</div>
<div class="line"> <span class="keywordflow">return</span> <a name="a14"></a><a class="code" href="./class_m_status.html#a02ab596f4febca68da503aaf8dde3a80a7f858db05022c8bc860d685e13bab6ae">MS::kUnknownParameter</a>;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="comment">// called by legacy default viewport</span></div>
<div class="line"><span class="keywordtype">void</span> footPrint::draw( <a class="code" href="./class_m3d_view.html">M3dView</a> &amp; view, <span class="keyword">const</span> <a class="code" href="./class_m_dag_path.html">MDagPath</a> &amp; <span class="comment">/*path*/</span>,</div>
<div class="line"> <a class="code" href="./class_m3d_view.html#a1b68f8823b8e275a4b548fdd27263e8a">M3dView::DisplayStyle</a> style,</div>
<div class="line"> <a class="code" href="./class_m3d_view.html#ad9c34c5373567566950642c16a7c4bca">M3dView::DisplayStatus</a> status )</div>
<div class="line">{</div>
<div class="line"> <span class="comment">// Get the size</span></div>
<div class="line"> <span class="comment">//</span></div>
<div class="line"> <a class="code" href="./class_m_object.html">MObject</a> thisNode = thisMObject();</div>
<div class="line"> <a class="code" href="./class_m_plug.html">MPlug</a> plug( thisNode, size );</div>
<div class="line"> <a name="_a15"></a><a class="code" href="./class_m_distance.html">MDistance</a> sizeVal;</div>
<div class="line">    plug.getValue( sizeVal );</div>
<div class="line"></div>
<div class="line"> <span class="keywordtype">float</span> multiplier = (float) sizeVal.<a name="a16"></a><a class="code" href="./class_m_distance.html#ace39ab92685b0f5ab1a2925e748efb1f">asCentimeters</a>();</div>
<div class="line"></div>
<div class="line">    view.<a name="a17"></a><a class="code" href="./class_m3d_view.html#a0e318e5634c7aaf31c4eb7232d2013d4">beginGL</a>();</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"> <span class="keywordflow">if</span> ( ( style == <a name="a18"></a><a class="code" href="./class_m3d_view.html#a1b68f8823b8e275a4b548fdd27263e8aa7914d385424ca72fdf84654b735a5a50">M3dView::kFlatShaded</a> ) ||</div>
<div class="line">         ( style == <a name="a19"></a><a class="code" href="./class_m3d_view.html#a1b68f8823b8e275a4b548fdd27263e8aa620925ec70781a5f5de890d906660d24">M3dView::kGouraudShaded</a> ) )</div>
<div class="line">    { </div>
<div class="line"> <span class="comment">// Push the color settings</span></div>
<div class="line"> <span class="comment">//</span></div>
<div class="line">        glPushAttrib( GL_CURRENT_BIT );</div>
<div class="line"></div>
<div class="line"> <span class="keywordflow">if</span> ( status == <a name="a20"></a><a class="code" href="./class_m3d_view.html#ad9c34c5373567566950642c16a7c4bcaab6a8784b4cf96692e0d71d19c44ce732">M3dView::kActive</a> ) {</div>
<div class="line">            view.<a name="a21"></a><a class="code" href="./class_m3d_view.html#aaf6fd568acc50d57be00639f773c1d73">setDrawColor</a>( 13, <a name="a22"></a><a class="code" href="./class_m3d_view.html#a9b24d632cd80af03d971c58ce0b8df6aa18362fb06caee77a9bae15aa90e06d1c">M3dView::kActiveColors</a> );</div>
<div class="line">        } <span class="keywordflow">else</span> {</div>
<div class="line">            view.<a class="code" href="./class_m3d_view.html#aaf6fd568acc50d57be00639f773c1d73">setDrawColor</a>( 13, <a name="a23"></a><a class="code" href="./class_m3d_view.html#a9b24d632cd80af03d971c58ce0b8df6aa466739773561fe25487724d1b7a16234">M3dView::kDormantColors</a> );</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        glBegin( GL_TRIANGLE_FAN );</div>
<div class="line"> <span class="keywordtype">int</span> i;</div>
<div class="line"> <span class="keywordtype">int</span> last = soleCount - 1;</div>
<div class="line"> <span class="keywordflow">for</span> ( i = 0; i &lt; last; ++i ) {</div>
<div class="line">                glVertex3f( sole[i][0] * multiplier,</div>
<div class="line">                            sole[i][1] * multiplier,</div>
<div class="line">                            sole[i][2] * multiplier );</div>
<div class="line">            }</div>
<div class="line">        glEnd();</div>
<div class="line">        glBegin( GL_TRIANGLE_FAN );</div>
<div class="line">            last = heelCount - 1;</div>
<div class="line"> <span class="keywordflow">for</span> ( i = 0; i &lt; last; ++i ) {</div>
<div class="line">                glVertex3f( heel[i][0] * multiplier,</div>
<div class="line">                            heel[i][1] * multiplier,</div>
<div class="line">                            heel[i][2] * multiplier );</div>
<div class="line">            }</div>
<div class="line">        glEnd();</div>
<div class="line"></div>
<div class="line">        glPopAttrib();</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line"> <span class="comment">// Draw the outline of the foot</span></div>
<div class="line"> <span class="comment">//</span></div>
<div class="line">    glBegin( GL_LINES );</div>
<div class="line"> <span class="keywordtype">int</span> i;</div>
<div class="line"> <span class="keywordtype">int</span> last = soleCount - 1;</div>
<div class="line"> <span class="keywordflow">for</span> ( i = 0; i &lt; last; ++i ) {</div>
<div class="line">            glVertex3f( sole[i][0] * multiplier,</div>
<div class="line">                        sole[i][1] * multiplier,</div>
<div class="line">                        sole[i][2] * multiplier );</div>
<div class="line">            glVertex3f( sole[i+1][0] * multiplier,</div>
<div class="line">                        sole[i+1][1] * multiplier,</div>
<div class="line">                        sole[i+1][2] * multiplier );</div>
<div class="line">        }</div>
<div class="line">        last = heelCount - 1;</div>
<div class="line"> <span class="keywordflow">for</span> ( i = 0; i &lt; last; ++i ) {</div>
<div class="line">            glVertex3f( heel[i][0] * multiplier,</div>
<div class="line">                        heel[i][1] * multiplier,</div>
<div class="line">                        heel[i][2] * multiplier );</div>
<div class="line">            glVertex3f( heel[i+1][0] * multiplier,</div>
<div class="line">                        heel[i+1][1] * multiplier,</div>
<div class="line">                        heel[i+1][2] * multiplier );</div>
<div class="line">        }</div>
<div class="line">    glEnd();</div>
<div class="line"></div>
<div class="line"></div>
<div class="line">    view.<a name="a24"></a><a class="code" href="./class_m3d_view.html#ab810c5a46d728df70ff5f44b604559f4">endGL</a>();</div>
<div class="line"></div>
<div class="line"> <span class="comment">// Draw the name of the footPrint</span></div>
<div class="line">    view.<a class="code" href="./class_m3d_view.html#aaf6fd568acc50d57be00639f773c1d73">setDrawColor</a>( <a name="_a25"></a><a class="code" href="./class_m_color.html">MColor</a>( 0.1f, 0.8f, 0.8f, 1.0f ) );</div>
<div class="line">    view.<a name="a26"></a><a class="code" href="./class_m3d_view.html#a1d533091a31a590ee4599fde04fa65d7">drawText</a>( <a class="code" href="./class_m_string.html">MString</a>(<span class="stringliteral">"Footprint"</span>), <a name="_a27"></a><a class="code" href="./class_m_point.html">MPoint</a>( 0.0, 0.0, 0.0 ), <a name="a28"></a><a class="code" href="./class_m3d_view.html#a8e0d441725a81d2bbdebbea09078260eae006401ce2987367501dd62b12f1396d">M3dView::kCenter</a> );</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">bool</span> footPrint::isBounded()<span class="keyword"> const</span></div>
<div class="line"><span class="keyword"></span>{</div>
<div class="line"> <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><a class="code" href="./class_m_bounding_box.html">MBoundingBox</a> footPrint::boundingBox()<span class="keyword"> const</span></div>
<div class="line"><span class="keyword"></span>{</div>
<div class="line"> <span class="comment">// Get the size</span></div>
<div class="line"> <span class="comment">//</span></div>
<div class="line"> <a class="code" href="./class_m_object.html">MObject</a> thisNode = thisMObject();</div>
<div class="line"> <a class="code" href="./class_m_plug.html">MPlug</a> plug( thisNode, size );</div>
<div class="line"> <a class="code" href="./class_m_distance.html">MDistance</a> sizeVal;</div>
<div class="line">    plug.getValue( sizeVal );</div>
<div class="line"></div>
<div class="line"> <span class="keywordtype">double</span> multiplier = sizeVal.<a class="code" href="./class_m_distance.html#ace39ab92685b0f5ab1a2925e748efb1f">asCentimeters</a>();</div>
<div class="line"></div>
<div class="line"> <a class="code" href="./class_m_point.html">MPoint</a> corner1( -0.17, 0.0, -0.7 );</div>
<div class="line"> <a class="code" href="./class_m_point.html">MPoint</a> corner2( 0.17, 0.0, 0.3 );</div>
<div class="line"></div>
<div class="line">    corner1 = corner1 * multiplier;</div>
<div class="line">    corner2 = corner2 * multiplier;</div>
<div class="line"></div>
<div class="line"> <span class="keywordflow">return</span> <a class="code" href="./class_m_bounding_box.html">MBoundingBox</a>( corner1, corner2 );</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">void</span>* footPrint::creator()</div>
<div class="line">{</div>
<div class="line"> <span class="keywordflow">return</span> <span class="keyword">new</span> footPrint();</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="comment">//---------------------------------------------------------------------------</span></div>
<div class="line"><span class="comment">//---------------------------------------------------------------------------</span></div>
<div class="line"><span class="comment">// Viewport 2.0 override implementation</span></div>
<div class="line"><span class="comment">//---------------------------------------------------------------------------</span></div>
<div class="line"><span class="comment">//---------------------------------------------------------------------------</span></div>
<div class="line"></div>
<div class="line"><span class="keyword">class </span>FootPrintData : <span class="keyword">public</span> <a name="_a29"></a><a class="code" href="./class_m_user_data.html">MUserData</a></div>
<div class="line">{</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    FootPrintData() : <a class="code" href="./class_m_user_data.html">MUserData</a>(false) {} <span class="comment">// don't delete after draw</span></div>
<div class="line"> <span class="keyword">virtual</span> ~FootPrintData() {}</div>
<div class="line"></div>
<div class="line"> <a class="code" href="./class_m_color.html">MColor</a> fColor;</div>
<div class="line"> <a name="_a30"></a><a class="code" href="./class_m_point_array.html">MPointArray</a> fSoleLineList;</div>
<div class="line"> <a class="code" href="./class_m_point_array.html">MPointArray</a> fSoleTriangleList;</div>
<div class="line"> <a class="code" href="./class_m_point_array.html">MPointArray</a> fHeelLineList;</div>
<div class="line"> <a class="code" href="./class_m_point_array.html">MPointArray</a> fHeelTriangleList;</div>
<div class="line">};</div>
<div class="line"></div>
<div class="line"><span class="keyword">class </span>FootPrintDrawOverride : <span class="keyword">public</span> <a name="_a31"></a><a class="code" href="./class_m_h_w_render_1_1_m_px_draw_override.html">MHWRender::MPxDrawOverride</a></div>
<div class="line">{</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line"> <span class="keyword">static</span> <a class="code" href="./class_m_h_w_render_1_1_m_px_draw_override.html">MHWRender::MPxDrawOverride</a>* Creator(<span class="keyword">const</span> <a class="code" href="./class_m_object.html">MObject</a>&amp; obj)</div>
<div class="line">    {</div>
<div class="line"> <span class="keywordflow">return</span> <span class="keyword">new</span> FootPrintDrawOverride(obj);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line"> <span class="keyword">virtual</span> ~FootPrintDrawOverride();</div>
<div class="line"></div>
<div class="line"> <span class="keyword">virtual</span> <a class="code" href="./namespace_m_h_w_render.html#ad970d5c990d4803d0e9d73c1ff4fda49">MHWRender::DrawAPI</a> <a name="a32"></a><a class="code" href="./class_m_h_w_render_1_1_m_px_draw_override.html#a0a36b8ef8730fa92f11c853752cc1e0e">supportedDrawAPIs</a>() <span class="keyword">const</span>;</div>
<div class="line"></div>
<div class="line"> <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a name="a33"></a><a class="code" href="./class_m_h_w_render_1_1_m_px_draw_override.html#aaf0394d1f5fb92ca3278246b233f91f6">isBounded</a>(</div>
<div class="line"> <span class="keyword">const</span> <a class="code" href="./class_m_dag_path.html">MDagPath</a>&amp; objPath,</div>
<div class="line"> <span class="keyword">const</span> <a class="code" href="./class_m_dag_path.html">MDagPath</a>&amp; cameraPath) <span class="keyword">const</span>;</div>
<div class="line"></div>
<div class="line"> <span class="keyword">virtual</span> <a class="code" href="./class_m_bounding_box.html">MBoundingBox</a> <a name="a34"></a><a class="code" href="./class_m_h_w_render_1_1_m_px_draw_override.html#ae897c759784349c81707df07c34e0846">boundingBox</a>(</div>
<div class="line"> <span class="keyword">const</span> <a class="code" href="./class_m_dag_path.html">MDagPath</a>&amp; objPath,</div>
<div class="line"> <span class="keyword">const</span> <a class="code" href="./class_m_dag_path.html">MDagPath</a>&amp; cameraPath) <span class="keyword">const</span>;</div>
<div class="line"></div>
<div class="line"> <span class="keyword">virtual</span> <a class="code" href="./class_m_user_data.html">MUserData</a>* <a name="a35"></a><a class="code" href="./class_m_h_w_render_1_1_m_px_draw_override.html#a9add62fff797c657c9bb5740b97f6a29">prepareForDraw</a>(</div>
<div class="line"> <span class="keyword">const</span> <a class="code" href="./class_m_dag_path.html">MDagPath</a>&amp; objPath,</div>
<div class="line"> <span class="keyword">const</span> <a class="code" href="./class_m_dag_path.html">MDagPath</a>&amp; cameraPath,</div>
<div class="line"> <span class="keyword">const</span> <a name="_a36"></a><a class="code" href="./class_m_h_w_render_1_1_m_frame_context.html">MHWRender::MFrameContext</a>&amp; frameContext,</div>
<div class="line"> <a class="code" href="./class_m_user_data.html">MUserData</a>* oldData);</div>
<div class="line"></div>
<div class="line"> <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a name="a37"></a><a class="code" href="./class_m_h_w_render_1_1_m_px_draw_override.html#a05c70618c28196399681a784a3686b50">hasUIDrawables</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <span class="keyword">true</span>; }</div>
<div class="line"></div>
<div class="line"> <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a name="a38"></a><a class="code" href="./class_m_h_w_render_1_1_m_px_draw_override.html#a739426be648a81276a6ccc0c39f34280">addUIDrawables</a>(</div>
<div class="line"> <span class="keyword">const</span> <a class="code" href="./class_m_dag_path.html">MDagPath</a>&amp; objPath,</div>
<div class="line"> <a name="_a39"></a><a class="code" href="./class_m_h_w_render_1_1_m_u_i_draw_manager.html">MHWRender::MUIDrawManager</a>&amp; drawManager,</div>
<div class="line"> <span class="keyword">const</span> <a class="code" href="./class_m_h_w_render_1_1_m_frame_context.html">MHWRender::MFrameContext</a>&amp; frameContext,</div>
<div class="line"> <span class="keyword">const</span> <a class="code" href="./class_m_user_data.html">MUserData</a>* data);</div>
<div class="line"></div>
<div class="line"> <span class="keyword">static</span> <span class="keywordtype">void</span> draw(<span class="keyword">const</span> <a name="_a40"></a><a class="code" href="./class_m_h_w_render_1_1_m_draw_context.html">MHWRender::MDrawContext</a>&amp; context, <span class="keyword">const</span> <a class="code" href="./class_m_user_data.html">MUserData</a>* data) {};</div>
<div class="line"></div>
<div class="line"><span class="keyword">private</span>:</div>
<div class="line">    FootPrintDrawOverride(<span class="keyword">const</span> <a class="code" href="./class_m_object.html">MObject</a>&amp; obj);</div>
<div class="line"> <span class="keywordtype">float</span> getMultiplier(<span class="keyword">const</span> <a class="code" href="./class_m_dag_path.html">MDagPath</a>&amp; objPath) <span class="keyword">const</span>;</div>
<div class="line">};</div>
<div class="line"></div>
<div class="line">FootPrintDrawOverride::FootPrintDrawOverride(<span class="keyword">const</span> <a class="code" href="./class_m_object.html">MObject</a>&amp; obj)</div>
<div class="line">: <a class="code" href="./namespace_m_h_w_render.html">MHWRender</a>::MPxDrawOverride(obj, FootPrintDrawOverride::draw)</div>
<div class="line">{</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line">FootPrintDrawOverride::~FootPrintDrawOverride()</div>
<div class="line">{</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><a class="code" href="./namespace_m_h_w_render.html#ad970d5c990d4803d0e9d73c1ff4fda49">MHWRender::DrawAPI</a> FootPrintDrawOverride::supportedDrawAPIs()<span class="keyword"> const</span></div>
<div class="line"><span class="keyword"></span>{</div>
<div class="line"> <span class="comment">// this plugin supports both GL and DX</span></div>
<div class="line"> <span class="keywordflow">return</span> (<a name="a41"></a><a class="code" href="./namespace_m_h_w_render.html#ad970d5c990d4803d0e9d73c1ff4fda49a72361be679c1aca1c1be5f9b500a3315">MHWRender::kOpenGL</a> | <a name="a42"></a><a class="code" href="./namespace_m_h_w_render.html#ad970d5c990d4803d0e9d73c1ff4fda49a90bc0a1678af7ac4d1e62e2e954be4e5">MHWRender::kDirectX11</a> | <a name="a43"></a><a class="code" href="./namespace_m_h_w_render.html#ad970d5c990d4803d0e9d73c1ff4fda49aaebf48c70b63878eff38483392f19fb7">MHWRender::kOpenGLCoreProfile</a>);</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">float</span> FootPrintDrawOverride::getMultiplier(<span class="keyword">const</span> <a class="code" href="./class_m_dag_path.html">MDagPath</a>&amp; objPath)<span class="keyword"> const</span></div>
<div class="line"><span class="keyword"></span>{</div>
<div class="line"> <span class="comment">// Retrieve value of the size attribute from the node</span></div>
<div class="line"> <a class="code" href="./class_m_status.html">MStatus</a> status;</div>
<div class="line"> <a class="code" href="./class_m_object.html">MObject</a> footprintNode = objPath.<a name="a44"></a><a class="code" href="./class_m_dag_path.html#ad1aa507eb8e63e89e8d46a0abc18aa8c">node</a>(&amp;status);</div>
<div class="line"> <span class="keywordflow">if</span> (status)</div>
<div class="line">    {</div>
<div class="line"> <a class="code" href="./class_m_plug.html">MPlug</a> plug(footprintNode, footPrint::size);</div>
<div class="line"> <span class="keywordflow">if</span> (!plug.isNull())</div>
<div class="line">        {</div>
<div class="line"> <a class="code" href="./class_m_distance.html">MDistance</a> sizeVal;</div>
<div class="line"> <span class="keywordflow">if</span> (plug.getValue(sizeVal))</div>
<div class="line">            {</div>
<div class="line"> <span class="keywordflow">return</span> (<span class="keywordtype">float</span>)sizeVal.<a class="code" href="./class_m_distance.html#ace39ab92685b0f5ab1a2925e748efb1f">asCentimeters</a>();</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line"> <span class="keywordflow">return</span> 1.0f;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">bool</span> FootPrintDrawOverride::isBounded(<span class="keyword">const</span> <a class="code" href="./class_m_dag_path.html">MDagPath</a>&amp; <span class="comment">/*objPath*/</span>,</div>
<div class="line"> <span class="keyword">const</span> <a class="code" href="./class_m_dag_path.html">MDagPath</a>&amp; <span class="comment">/*cameraPath*/</span>)<span class="keyword"> const</span></div>
<div class="line"><span class="keyword"></span>{</div>
<div class="line"> <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><a class="code" href="./class_m_bounding_box.html">MBoundingBox</a> FootPrintDrawOverride::boundingBox(</div>
<div class="line"> <span class="keyword">const</span> <a class="code" href="./class_m_dag_path.html">MDagPath</a>&amp; objPath,</div>
<div class="line"> <span class="keyword">const</span> <a class="code" href="./class_m_dag_path.html">MDagPath</a>&amp; cameraPath)<span class="keyword"> const</span></div>
<div class="line"><span class="keyword"></span>{</div>
<div class="line"> <a class="code" href="./class_m_point.html">MPoint</a> corner1( -0.17, 0.0, -0.7 );</div>
<div class="line"> <a class="code" href="./class_m_point.html">MPoint</a> corner2( 0.17, 0.0, 0.3 );</div>
<div class="line"></div>
<div class="line"> <span class="keywordtype">float</span> multiplier = getMultiplier(objPath);</div>
<div class="line">    corner1 = corner1 * multiplier;</div>
<div class="line">    corner2 = corner2 * multiplier;</div>
<div class="line"></div>
<div class="line"> <span class="keywordflow">return</span> <a class="code" href="./class_m_bounding_box.html">MBoundingBox</a>( corner1, corner2 );</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="comment">// Called by Maya each time the object needs to be drawn.</span></div>
<div class="line"><a class="code" href="./class_m_user_data.html">MUserData</a>* FootPrintDrawOverride::prepareForDraw(</div>
<div class="line"> <span class="keyword">const</span> <a class="code" href="./class_m_dag_path.html">MDagPath</a>&amp; objPath,</div>
<div class="line"> <span class="keyword">const</span> <a class="code" href="./class_m_dag_path.html">MDagPath</a>&amp; cameraPath,</div>
<div class="line"> <span class="keyword">const</span> <a class="code" href="./class_m_h_w_render_1_1_m_frame_context.html">MHWRender::MFrameContext</a>&amp; frameContext,</div>
<div class="line"> <a class="code" href="./class_m_user_data.html">MUserData</a>* oldData)</div>
<div class="line">{</div>
<div class="line"> <span class="comment">// Any data needed from the Maya dependency graph must be retrieved and cached in this stage.</span></div>
<div class="line"> <span class="comment">// There is one cache data for each drawable instance, if it is not desirable to allow Maya to handle data</span></div>
<div class="line"> <span class="comment">// caching, simply return null in this method and ignore user data parameter in draw callback method.</span></div>
<div class="line"> <span class="comment">// e.g. in this sample, we compute and cache the data for usage later when we create the </span></div>
<div class="line"> <span class="comment">// MUIDrawManager to draw footprint in method addUIDrawables().</span></div>
<div class="line">    FootPrintData* data = <span class="keyword">dynamic_cast&lt;</span>FootPrintData*<span class="keyword">&gt;</span>(oldData);</div>
<div class="line"> <span class="keywordflow">if</span> (!data)</div>
<div class="line">    {</div>
<div class="line">        data = <span class="keyword">new</span> FootPrintData();</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line"> <span class="keywordtype">float</span> fMultiplier = getMultiplier(objPath);</div>
<div class="line"></div>
<div class="line">    data-&gt;fSoleLineList.clear();</div>
<div class="line"> <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; soleCount; i++)</div>
<div class="line">    {</div>
<div class="line">        data-&gt;fSoleLineList.append(sole[i][0] * fMultiplier, sole[i][1] * fMultiplier, sole[i][2] * fMultiplier);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    data-&gt;fHeelLineList.clear();</div>
<div class="line"> <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; heelCount; i++)</div>
<div class="line">    {</div>
<div class="line">        data-&gt;fHeelLineList.append(heel[i][0] * fMultiplier, heel[i][1] * fMultiplier, heel[i][2] * fMultiplier);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    data-&gt;fSoleTriangleList.clear();    </div>
<div class="line"> <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 1; i &lt;= soleCount - 2; i++)</div>
<div class="line">    {</div>
<div class="line">        data-&gt;fSoleTriangleList.append(sole[0][0] * fMultiplier, sole[0][1] * fMultiplier, sole[0][2] * fMultiplier);</div>
<div class="line">        data-&gt;fSoleTriangleList.append(sole[i][0] * fMultiplier, sole[i][1] * fMultiplier, sole[i][2] * fMultiplier);</div>
<div class="line">        data-&gt;fSoleTriangleList.append(sole[i+1][0] * fMultiplier, sole[i+1][1] * fMultiplier, sole[i+1][2] * fMultiplier);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    data-&gt;fHeelTriangleList.clear();    </div>
<div class="line"> <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 1; i &lt;= heelCount - 2; i++)</div>
<div class="line">    {</div>
<div class="line">        data-&gt;fHeelTriangleList.append(heel[0][0] * fMultiplier, heel[0][1] * fMultiplier, heel[0][2] * fMultiplier);</div>
<div class="line">        data-&gt;fHeelTriangleList.append(heel[i][0] * fMultiplier, heel[i][1] * fMultiplier, heel[i][2] * fMultiplier);</div>
<div class="line">        data-&gt;fHeelTriangleList.append(heel[i+1][0] * fMultiplier, heel[i+1][1] * fMultiplier, heel[i+1][2] * fMultiplier);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line"> <span class="comment">// get correct color based on the state of object, e.g. active or dormant</span></div>
<div class="line">    data-&gt;fColor = <a name="a45"></a><a class="code" href="./class_m_h_w_render_1_1_m_geometry_utilities.html#a6221bc7407b14246b14f79a751496276">MHWRender::MGeometryUtilities::wireframeColor</a>(objPath);</div>
<div class="line"></div>
<div class="line"> <span class="keywordflow">return</span> data;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="comment">// addUIDrawables() provides access to the MUIDrawManager, which can be used</span></div>
<div class="line"><span class="comment">// to queue up operations for drawing simple UI elements such as lines, circles and</span></div>
<div class="line"><span class="comment">// text. To enable addUIDrawables(), override hasUIDrawables() and make it return true.</span></div>
<div class="line"><span class="keywordtype">void</span> FootPrintDrawOverride::addUIDrawables(</div>
<div class="line"> <span class="keyword">const</span> <a class="code" href="./class_m_dag_path.html">MDagPath</a>&amp; objPath,</div>
<div class="line"> <a class="code" href="./class_m_h_w_render_1_1_m_u_i_draw_manager.html">MHWRender::MUIDrawManager</a>&amp; drawManager,</div>
<div class="line"> <span class="keyword">const</span> <a class="code" href="./class_m_h_w_render_1_1_m_frame_context.html">MHWRender::MFrameContext</a>&amp; frameContext,</div>
<div class="line"> <span class="keyword">const</span> <a class="code" href="./class_m_user_data.html">MUserData</a>* data)</div>
<div class="line">{</div>
<div class="line"> <span class="comment">// Get data cached by prepareForDraw() for each drawable instance, then MUIDrawManager </span></div>
<div class="line"> <span class="comment">// can draw simple UI by these data.</span></div>
<div class="line">    FootPrintData* pLocatorData = (FootPrintData*)data;</div>
<div class="line"> <span class="keywordflow">if</span> (!pLocatorData)</div>
<div class="line">    {</div>
<div class="line"> <span class="keywordflow">return</span>;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    drawManager.<a name="a46"></a><a class="code" href="./class_m_h_w_render_1_1_m_u_i_draw_manager.html#aa3e12e98018e4dfda0e166d9ec8094b0">beginDrawable</a>();</div>
<div class="line"></div>
<div class="line"> <span class="comment">// Draw the foot print solid/wireframe</span></div>
<div class="line">    drawManager.<a name="a47"></a><a class="code" href="./class_m_h_w_render_1_1_m_u_i_draw_manager.html#a9baede3e37abe9551e50a8c6be65ec4d">setColor</a>( pLocatorData-&gt;fColor );</div>
<div class="line">    drawManager.<a name="a48"></a><a class="code" href="./class_m_h_w_render_1_1_m_u_i_draw_manager.html#ad19b05026d05d93c1ffca4914fe81fa6">setDepthPriority</a>(5);</div>
<div class="line"></div>
<div class="line"> <span class="keywordflow">if</span> (frameContext.<a name="a49"></a><a class="code" href="./class_m_h_w_render_1_1_m_frame_context.html#acd5ce60bbd3d03181b1ad681023ff44d">getDisplayStyle</a>() &amp; <a name="a50"></a><a class="code" href="./class_m_h_w_render_1_1_m_frame_context.html#a1b68f8823b8e275a4b548fdd27263e8aa620925ec70781a5f5de890d906660d24">MHWRender::MFrameContext::kGouraudShaded</a>) {</div>
<div class="line">        drawManager.<a name="a51"></a><a class="code" href="./class_m_h_w_render_1_1_m_u_i_draw_manager.html#ab7479336abc018548fe68277932d848a">mesh</a>(<a name="a52"></a><a class="code" href="./class_m_h_w_render_1_1_m_u_i_draw_manager.html#a08260379b97fd733e30ea92e891ede1eaa2c70dd76c8172a9298334473c914304">MHWRender::MUIDrawManager::kTriangles</a>, pLocatorData-&gt;fSoleTriangleList);</div>
<div class="line">        drawManager.<a class="code" href="./class_m_h_w_render_1_1_m_u_i_draw_manager.html#ab7479336abc018548fe68277932d848a">mesh</a>(<a class="code" href="./class_m_h_w_render_1_1_m_u_i_draw_manager.html#a08260379b97fd733e30ea92e891ede1eaa2c70dd76c8172a9298334473c914304">MHWRender::MUIDrawManager::kTriangles</a>, pLocatorData-&gt;fHeelTriangleList);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    drawManager.<a class="code" href="./class_m_h_w_render_1_1_m_u_i_draw_manager.html#ab7479336abc018548fe68277932d848a">mesh</a>(<a name="a53"></a><a class="code" href="./class_m_h_w_render_1_1_m_u_i_draw_manager.html#a08260379b97fd733e30ea92e891ede1ea5c6aca155c5896f2295346bb646f3be1">MHWRender::MUIDrawManager::kClosedLine</a>, pLocatorData-&gt;fSoleLineList);</div>
<div class="line">    drawManager.<a class="code" href="./class_m_h_w_render_1_1_m_u_i_draw_manager.html#ab7479336abc018548fe68277932d848a">mesh</a>(<a class="code" href="./class_m_h_w_render_1_1_m_u_i_draw_manager.html#a08260379b97fd733e30ea92e891ede1ea5c6aca155c5896f2295346bb646f3be1">MHWRender::MUIDrawManager::kClosedLine</a>, pLocatorData-&gt;fHeelLineList);</div>
<div class="line"></div>
<div class="line"> <span class="comment">// Draw a text "Foot"</span></div>
<div class="line"> <a class="code" href="./class_m_point.html">MPoint</a> pos( 0.0, 0.0, 0.0 ); <span class="comment">// Position of the text</span></div>
<div class="line"> <a class="code" href="./class_m_color.html">MColor</a> textColor( 0.1f, 0.8f, 0.8f, 1.0f ); <span class="comment">// Text color</span></div>
<div class="line"></div>
<div class="line">    drawManager.<a class="code" href="./class_m_h_w_render_1_1_m_u_i_draw_manager.html#a9baede3e37abe9551e50a8c6be65ec4d">setColor</a>( textColor );</div>
<div class="line">    drawManager.<a name="a54"></a><a class="code" href="./class_m_h_w_render_1_1_m_u_i_draw_manager.html#adfd0cfdd2cc781dba3987f64cb638a67">setFontSize</a>( <a name="a55"></a><a class="code" href="./class_m_h_w_render_1_1_m_u_i_draw_manager.html#a88cff078229df1c0803a690e4826b5f1a7218bb69173cb216cb619effff1055ea">MHWRender::MUIDrawManager::kSmallFontSize</a> );</div>
<div class="line">    drawManager.<a name="a56"></a><a class="code" href="./class_m_h_w_render_1_1_m_u_i_draw_manager.html#a334e4280e5ddd4653c69f9703b5dd3b4">text</a>( pos,  <a class="code" href="./class_m_string.html">MString</a>(<span class="stringliteral">"Footprint"</span>), <a name="a57"></a><a class="code" href="./class_m_h_w_render_1_1_m_u_i_draw_manager.html#aa56f1a82069b5feeadbb4591cb3e474fae006401ce2987367501dd62b12f1396d">MHWRender::MUIDrawManager::kCenter</a> );</div>
<div class="line"></div>
<div class="line">    drawManager.<a name="a58"></a><a class="code" href="./class_m_h_w_render_1_1_m_u_i_draw_manager.html#a78c343c25a05be7e46dd4b7ebab82ff6">endDrawable</a>();</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="comment">//---------------------------------------------------------------------------</span></div>
<div class="line"><span class="comment">//---------------------------------------------------------------------------</span></div>
<div class="line"><span class="comment">// Plugin Registration</span></div>
<div class="line"><span class="comment">//---------------------------------------------------------------------------</span></div>
<div class="line"><span class="comment">//---------------------------------------------------------------------------</span></div>
<div class="line"></div>
<div class="line"><a class="code" href="./class_m_status.html">MStatus</a> footPrint::initialize()</div>
<div class="line">{</div>
<div class="line"> <a name="_a59"></a><a class="code" href="./class_m_fn_unit_attribute.html">MFnUnitAttribute</a> unitFn;</div>
<div class="line"> <a class="code" href="./class_m_status.html">MStatus</a>          stat;</div>
<div class="line"></div>
<div class="line">    size = unitFn.<a name="a60"></a><a class="code" href="./class_m_fn_unit_attribute.html#a31f804de81a968aa11b510a6231e7874">create</a>( <span class="stringliteral">"size"</span>, <span class="stringliteral">"sz"</span>, <a name="a61"></a><a class="code" href="./class_m_fn_unit_attribute.html#a1d1cfd8ffb84e947f82999c682b666a7a1925172d8d6f77cdb98f7f486f706024">MFnUnitAttribute::kDistance</a> );</div>
<div class="line">    unitFn.<a name="a62"></a><a class="code" href="./class_m_fn_unit_attribute.html#a02a46e1b4ae48c38d85678a8611e3e77">setDefault</a>( 1.0 );</div>
<div class="line"></div>
<div class="line">    stat = addAttribute( size );</div>
<div class="line"> <span class="keywordflow">if</span> (!stat) {</div>
<div class="line">        stat.<a name="a63"></a><a class="code" href="./class_m_status.html#a1f01a4748fea4d8bcced082df83f804d">perror</a>(<span class="stringliteral">"addAttribute"</span>);</div>
<div class="line"> <span class="keywordflow">return</span> stat;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line"> <span class="keywordflow">return</span> <a name="a64"></a><a class="code" href="./class_m_status.html#a02ab596f4febca68da503aaf8dde3a80af0536797208144380691e2b376ffc1d1">MS::kSuccess</a>;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><a class="code" href="./class_m_status.html">MStatus</a> initializePlugin( <a class="code" href="./class_m_object.html">MObject</a> obj )</div>
<div class="line">{</div>
<div class="line"> <a class="code" href="./class_m_status.html">MStatus</a>   status;</div>
<div class="line"> <a name="_a65"></a><a class="code" href="./class_m_fn_plugin.html">MFnPlugin</a> plugin( obj, PLUGIN_COMPANY, <span class="stringliteral">"3.0"</span>, <span class="stringliteral">"Any"</span>);</div>
<div class="line"></div>
<div class="line">    status = plugin.registerNode(</div>
<div class="line"> <span class="stringliteral">"footPrint"</span>,</div>
<div class="line">                footPrint::id,</div>
<div class="line">                &amp;footPrint::creator,</div>
<div class="line">                &amp;footPrint::initialize,</div>
<div class="line"> <a name="a66"></a><a class="code" href="./class_m_px_node.html#a1d1cfd8ffb84e947f82999c682b666a7aee1b06f2f9885d7d4fd4fda48926f94b">MPxNode::kLocatorNode</a>,</div>
<div class="line">                &amp;footPrint::drawDbClassification);</div>
<div class="line"> <span class="keywordflow">if</span> (!status) {</div>
<div class="line">        status.<a class="code" href="./class_m_status.html#a1f01a4748fea4d8bcced082df83f804d">perror</a>(<span class="stringliteral">"registerNode"</span>);</div>
<div class="line"> <span class="keywordflow">return</span> status;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    status = <a name="a67"></a><a class="code" href="./class_m_h_w_render_1_1_m_draw_registry.html#aad1598f978d33d3e5101ae28f9f07b6f">MHWRender::MDrawRegistry::registerDrawOverrideCreator</a>(</div>
<div class="line">        footPrint::drawDbClassification,</div>
<div class="line">        footPrint::drawRegistrantId,</div>
<div class="line">        FootPrintDrawOverride::Creator);</div>
<div class="line"> <span class="keywordflow">if</span> (!status) {</div>
<div class="line">        status.<a class="code" href="./class_m_status.html#a1f01a4748fea4d8bcced082df83f804d">perror</a>(<span class="stringliteral">"registerDrawOverrideCreator"</span>);</div>
<div class="line"> <span class="keywordflow">return</span> status;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line"> <span class="keywordflow">return</span> status;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><a class="code" href="./class_m_status.html">MStatus</a> uninitializePlugin( <a class="code" href="./class_m_object.html">MObject</a> obj)</div>
<div class="line">{</div>
<div class="line"> <a class="code" href="./class_m_status.html">MStatus</a>   status;</div>
<div class="line"> <a class="code" href="./class_m_fn_plugin.html">MFnPlugin</a> plugin( obj );</div>
<div class="line"></div>
<div class="line">    status = <a name="a68"></a><a class="code" href="./class_m_h_w_render_1_1_m_draw_registry.html#ae87be399ce4204dbe8b565c4ff76c0fa">MHWRender::MDrawRegistry::deregisterDrawOverrideCreator</a>(</div>
<div class="line">        footPrint::drawDbClassification,</div>
<div class="line">        footPrint::drawRegistrantId);</div>
<div class="line"> <span class="keywordflow">if</span> (!status) {</div>
<div class="line">        status.<a class="code" href="./class_m_status.html#a1f01a4748fea4d8bcced082df83f804d">perror</a>(<span class="stringliteral">"deregisterDrawOverrideCreator"</span>);</div>
<div class="line"> <span class="keywordflow">return</span> status;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    status = plugin.deregisterNode( footPrint::id );</div>
<div class="line"> <span class="keywordflow">if</span> (!status) {</div>
<div class="line">        status.<a class="code" href="./class_m_status.html#a1f01a4748fea4d8bcced082df83f804d">perror</a>(<span class="stringliteral">"deregisterNode"</span>);</div>
<div class="line"> <span class="keywordflow">return</span> status;</div>
<div class="line">    }</div>
<div class="line"> <span class="keywordflow">return</span> status;</div>
<div class="line">}</div>
</div><!-- fragment --> </div><!-- contents -->
</div><!-- doc-content -->
<div class="footer-block"><a class="comments-anchor" href="../html/ac.cmtdialog.htm" target="_blank"><span class="comments-link">Please send us your comment about this page</span></a></div><br/></div>
</link></link></link></link></div></body>
</html>
