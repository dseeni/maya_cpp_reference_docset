<!-- saved from url=(0024)http://docs.autodesk.com -->
<html>
<head><script src="../scripts/yepnope.1.5.4-min.js" type="text/javascript"></script><script src="../scripts/lib/jquery-1.11.1.min.js" type="text/javascript"></script><meta content="text/html; charset=utf-8" http-equiv="Content-Type"><meta content="MAYAUL" name="product"><meta content="2016" name="release"><meta content="Developer" name="book"><meta content="2015-10-14" name="created"><meta content="GUID-02DEF634-1E7B-48C6-8ACD-2C934CA97887" name="topicid"><meta content="concept" name="topic-type">
<title>swissArmyManip/swissArmyManip.cpp</title>
<meta content="C++" name="topic-subtype"/></meta></meta></meta></meta></meta></meta></meta></head>
<body height="100%"><div class="body_content" id="body-content"><link href="cpp_ref/navtree.css" rel="stylesheet" type="text/css"><link href="cpp_ref/doxygen.css" rel="stylesheet" type="text/css"><link href="cpp_ref/tabs.css" rel="stylesheet" type="text/css"><link href="style/adsk.cpm.css" rel="stylesheet" type="text/css"><script language="javascript">var index = 'index.html';</script><script>$(document).ready(function() { yepnope.injectJs("./scripts/ac_common.js"); });</script><script type="text/javascript">
var tocSystemNeedsToBeLoaded = typeof(cpp_ref_adsk_ref_toc) == 'undefined';
var weAreIn21 = $('div#main.view-active').length;
var tocPrefix = '';
if (weAreIn21)
{ tocPrefix = 'cpp_ref/'; }
function cpp_ref_initializeToc(forceTrigger) {
    cpp_ref_adsk_ref_toc.initResizable();
    cpp_ref_adsk_ref_toc.initNavTree('swiss_army_manip_2swiss_army_manip_8cpp-example.html', tocPrefix);
    dQuery(document).trigger('toc_initialized');
}
if (tocSystemNeedsToBeLoaded)
{
	yepnope([{
	load:[tocPrefix + 'json3.min.js', tocPrefix + 'jquery.js', tocPrefix + 'ref-toc-controller.js', tocPrefix + 'dynsections.js'],
	complete: function() {
	  if (typeof(dQuery) == 'undefined')
	  {
	    dQuery = jQuery.noConflict(true);
	  }
	  else { jQuery.noConflict(true); }
	  $(document).ready(cpp_ref_initializeToc);
	}
 	}])
}
if (!weAreIn21) { // if in AKN...
$(window).load( function() {
    setTimeout( function() {
        var content = $('body > div').not('#body-content');     // take any divs under body that are not id=body-content
        content.each( function() { 
            $(this).css( { 'padding-left': $(this).css('margin-left') } );       // and if they have any padding-left already, move it to margin-left.
        } );
        var width = cpp_ref_adsk_ref_toc.readFromStorage('width');
        content.css({marginLeft:parseInt(width)+6+"px"});
    }, 100);
} ); 
}
</script><script>$("div#WidgetFloaterPanels,link[href*='microsofttranslator.com'],script[src*='microsofttranslator.com'],script[src*='bing.com']").remove();</script><script type="text/javascript">$("div#navigation,div#breadcrumbs,div#banner").attr("translate","no"); var mtLocation = ((location && location.href && location.href.indexOf('https') == 0)?'https://ssl.microsofttranslator.com':'http://www.microsofttranslator.com')+'/ajax/v3/WidgetV3.ashx?siteData=y5CYlxTRD0znCzRLDwX0Wy7-g1EdC1XA4dSC-Y1LtaeScyli8_Ps5jPKqTr4xKxMI0OOUfkDplvX3uxN0JnPclebSYW8_J1HBzf4VLQEzQ8M4PsYXF_cMyp1Oumaetky&category=5297189e-446b-459e-ae1d-9d0360400781_tech&ctf=True&ui=true&settings=Manual&from=en&hidelanguages='; yepnope.injectJs(mtLocation, function() {}, { charset:'utf-8', type:'text/javascript' } );</script><script>
 if (!tocSystemNeedsToBeLoaded) { cpp_ref_initializeToc(); }
 </script><!-- begin MT -->
<div class="Dark" id="MicrosoftTranslatorWidget" style="position:absolute;right:20px;top:5px;z-index:100;color:white;background-color:#555555;height:58px;overflow:hidden"></div>
<div>
<div class="head">
<h1>swissArmyManip/swissArmyManip.cpp</h1>
</div>
<div id="top"><!-- Generated by Doxygen 1.8.10 -->
<div class="tabs" id="navrow1">
<ul class="tablist">
<li><a href="./index.html"><span>MainÂ Page</span></a></li>
<li><a href="./pages.html"><span>Topics</span></a></li>
<li><a href="./modules.html"><span>Modules</span></a></li>
<li><a href="./namespaces.html"><span>Namespaces</span></a></li>
<li><a href="./annotated.html"><span>Classes</span></a></li>
<li><a href="./examples.html"><span>Examples</span></a></li>
</ul>
</div>
</div><!-- top -->
<div class="ui-resizable side-nav-resizable" id="side-nav">
<div id="nav-tree">
<div id="nav-tree-contents">
<div class="sync" id="nav-sync"></div>
</div>
</div>
<div class="ui-resizable-handle" id="splitbar" style="-moz-user-select:none;">
</div>
</div>
<div id="doc-content">
<div class="header">
<div class="headertitle">
<div class="title">swissArmyManip/swissArmyManip.cpp</div> </div>
</div><!--header-->
<div class="contents">
<div class="fragment"><div class="line"><span class="comment">//-</span></div>
<div class="line"><span class="comment">// ==========================================================================</span></div>
<div class="line"><span class="comment">// Copyright 1995,2006,2008 Autodesk, Inc. All rights reserved.</span></div>
<div class="line"><span class="comment">//</span></div>
<div class="line"><span class="comment">// Use of this software is subject to the terms of the Autodesk</span></div>
<div class="line"><span class="comment">// license agreement provided at the time of installation or download,</span></div>
<div class="line"><span class="comment">// or which otherwise accompanies this software in either electronic</span></div>
<div class="line"><span class="comment">// or hard copy form.</span></div>
<div class="line"><span class="comment">// ==========================================================================</span></div>
<div class="line"><span class="comment">//+</span></div>
<div class="line"></div>
<div class="line"><span class="comment">//</span></div>
<div class="line"><span class="comment">// swissArmyManip.cpp</span></div>
<div class="line"><span class="comment">//</span></div>
<div class="line"><span class="comment">// This plug-in is an example of a user-defined manipulator,</span></div>
<div class="line"><span class="comment">// which is comprised of a variety of the base manipulators:</span></div>
<div class="line"><span class="comment">// - MFnCircleSweepManip.h</span></div>
<div class="line"><span class="comment">// - MFnDirectionManip.h</span></div>
<div class="line"><span class="comment">// - MFnDiscManip.h</span></div>
<div class="line"><span class="comment">// - MFnDistanceManip.h</span></div>
<div class="line"><span class="comment">// - MFnFreePointTriadManip.h</span></div>
<div class="line"><span class="comment">// - MFnStateManip.h</span></div>
<div class="line"><span class="comment">// - MFnToggleManip.h</span></div>
<div class="line"><span class="comment">// - MFnRotateManip.h</span></div>
<div class="line"><span class="comment">// - MFnScaleManip.h</span></div>
<div class="line"><span class="comment">//</span></div>
<div class="line"><span class="comment">// To use this plug-in:</span></div>
<div class="line"><span class="comment">//</span></div>
<div class="line"><span class="comment">//     mel: loadPlugin "swissArmyManip.so";</span></div>
<div class="line"><span class="comment">//     mel: createNode swissArmyLocator;</span></div>
<div class="line"><span class="comment">//     click on the showManipTool</span></div>
<div class="line"><span class="comment">//</span></div>
<div class="line"><span class="comment"></span></div>
<div class="line"><span class="preprocessor">#include &lt;math.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;maya/MIOStream.h&gt;</span></div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#include &lt;maya/MPxNode.h&gt;</span></div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#include &lt;maya/MPxLocatorNode.h&gt;</span></div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#include &lt;maya/MString.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;maya/MTypeId.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;maya/MPlug.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;maya/MVector.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;maya/MAngle.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;maya/MDataBlock.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;maya/MDataHandle.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;maya/MColor.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;maya/M3dView.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;maya/MFnPlugin.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;maya/MDistance.h&gt;</span></div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#include &lt;maya/MFnUnitAttribute.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;maya/MFnNumericAttribute.h&gt;</span></div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#include &lt;maya/MFn.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;maya/MPxNode.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;maya/MPxManipContainer.h&gt;</span></div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#include &lt;maya/MFnCircleSweepManip.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;maya/MFnDirectionManip.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;maya/MFnDiscManip.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;maya/MFnDistanceManip.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;maya/MFnFreePointTriadManip.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;maya/MFnStateManip.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;maya/MFnToggleManip.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;maya/MFnRotateManip.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;maya/MFnScaleManip.h&gt;</span></div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#include &lt;maya/MPxContext.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;maya/MPxSelectionContext.h&gt;</span></div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#include &lt;maya/MPxDrawOverride.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;maya/MStateManager.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;maya/MDrawRegistry.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;maya/MDrawContext.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;maya/MHWGeometryUtilities.h&gt;</span></div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#include &lt;maya/MFnNumericData.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;maya/MManipData.h&gt;</span></div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#define e \</span></div>
<div class="line"><span class="preprocessor">    counter++; \</span></div>
<div class="line"><span class="preprocessor">    if (MS::kSuccess != s) { \</span></div>
<div class="line"><span class="preprocessor">        cerr &lt;&lt; "Status Error in method " &lt;&lt; method \</span></div>
<div class="line"><span class="preprocessor">             &lt;&lt; " at checkpoint #" &lt;&lt; counter &lt;&lt; "." &lt;&lt; "\n" \</span></div>
<div class="line"><span class="preprocessor">             &lt;&lt; "    in File: " &lt;&lt; __FILE__ \</span></div>
<div class="line"><span class="preprocessor">             &lt;&lt; ", at Line: " &lt;&lt; __LINE__ &lt;&lt; endl; \</span></div>
<div class="line"><span class="preprocessor">        s.perror("Error"); \</span></div>
<div class="line"><span class="preprocessor">    }</span></div>
<div class="line"></div>
<div class="line"><span class="keyword">const</span> <span class="keywordtype">double</span> delta1 = 0.01;</div>
<div class="line"><span class="keyword">const</span> <span class="keywordtype">double</span> delta2 = 0.02;</div>
<div class="line"><span class="keyword">const</span> <span class="keywordtype">double</span> delta3 = 0.03;</div>
<div class="line"><span class="keyword">const</span> <span class="keywordtype">double</span> delta4 = 0.04;</div>
<div class="line"></div>
<div class="line"><span class="comment">// Locator Data</span></div>
<div class="line"><span class="comment">//</span></div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">float</span> centre[][3] = { {  0.10f, 0.0f,  0.10f},</div>
<div class="line">                             {  0.10f, 0.0f, -0.10f },</div>
<div class="line">                             { -0.10f, 0.0f, -0.10f },</div>
<div class="line">                             { -0.10f, 0.0f,  0.10f },</div>
<div class="line">                             {  0.10f, 0.0f,  0.10f } };</div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">float</span> state1[][3] = { {  1.00f, 0.0f,  1.00f},</div>
<div class="line">                             {  1.00f, 0.0f,  0.50f },</div>
<div class="line">                             {  0.50f, 0.0f,  0.50f },</div>
<div class="line">                             {  0.50f, 0.0f,  1.00f },</div>
<div class="line">                             {  1.00f, 0.0f,  1.00f } };</div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">float</span> state2[][3] = { {  1.00f, 0.0f, -1.00f},</div>
<div class="line">                             {  1.00f, 0.0f, -0.50f },</div>
<div class="line">                             {  0.50f, 0.0f, -0.50f },</div>
<div class="line">                             {  0.50f, 0.0f, -1.00f },</div>
<div class="line">                             {  1.00f, 0.0f, -1.00f } };</div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">float</span> state3[][3] = { { -1.00f, 0.0f, -1.00f},</div>
<div class="line">                             { -1.00f, 0.0f, -0.50f },</div>
<div class="line">                             { -0.50f, 0.0f, -0.50f },</div>
<div class="line">                             { -0.50f, 0.0f, -1.00f },</div>
<div class="line">                             { -1.00f, 0.0f, -1.00f } };</div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">float</span> state4[][3] = { { -1.00f, 0.0f,  1.00f},</div>
<div class="line">                             { -1.00f, 0.0f,  0.50f },</div>
<div class="line">                             { -0.50f, 0.0f,  0.50f },</div>
<div class="line">                             { -0.50f, 0.0f,  1.00f },</div>
<div class="line">                             { -1.00f, 0.0f,  1.00f } };</div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">float</span> arrow1[][3] = { {  0.00f, 0.0f,  1.00f},</div>
<div class="line">                             {  0.10f, 0.0f,  0.20f },</div>
<div class="line">                             { -0.10f, 0.0f,  0.20f },</div>
<div class="line">                             {  0.00f, 0.0f,  1.00f } };</div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">float</span> arrow2[][3] = { {  1.00f, 0.0f,  0.00f},</div>
<div class="line">                             {  0.20f, 0.0f,  0.10f },</div>
<div class="line">                             {  0.20f, 0.0f, -0.10f },</div>
<div class="line">                             {  1.00f, 0.0f,  0.00f } };</div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">float</span> arrow3[][3] = { {  0.00f, 0.0f, -1.00f},</div>
<div class="line">                             {  0.10f, 0.0f, -0.20f },</div>
<div class="line">                             { -0.10f, 0.0f, -0.20f },</div>
<div class="line">                             {  0.00f, 0.0f, -1.00f } };</div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">float</span> arrow4[][3] = { { -1.00f, 0.0f,  0.00f},</div>
<div class="line">                             { -0.20f, 0.0f,  0.10f },</div>
<div class="line">                             { -0.20f, 0.0f, -0.10f },</div>
<div class="line">                             { -1.00f, 0.0f,  0.00f } };</div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">float</span> perimeter[][3] = { {  1.10f, 0.0f,  1.10f},</div>
<div class="line">                                {  1.10f, 0.0f, -1.10f },</div>
<div class="line">                                { -1.10f, 0.0f, -1.10f },</div>
<div class="line">                                { -1.10f, 0.0f,  1.10f },</div>
<div class="line">                                {  1.10f, 0.0f,  1.10f } };</div>
<div class="line"></div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">int</span> centreCount = 5;</div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">int</span> state1Count = 5;</div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">int</span> state2Count = 5;</div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">int</span> state3Count = 5;</div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">int</span> state4Count = 5;</div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">int</span> arrow1Count = 4;</div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">int</span> arrow2Count = 4;</div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">int</span> arrow3Count = 4;</div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">int</span> arrow4Count = 4;</div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">int</span> perimeterCount = 5;</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"><span class="keyword">class </span>swissArmyLocatorManip : <span class="keyword">public</span> <a name="_a0"></a><a class="code" href="./class_m_px_manip_container.html">MPxManipContainer</a></div>
<div class="line">{</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    swissArmyLocatorManip();</div>
<div class="line"> <span class="keyword">virtual</span> ~swissArmyLocatorManip();</div>
<div class="line"></div>
<div class="line"> <span class="keyword">static</span> <span class="keywordtype">void</span> * creator();</div>
<div class="line"> <span class="keyword">static</span> <a name="_a1"></a><a class="code" href="./class_m_status.html">MStatus</a> <a name="a2"></a><a class="code" href="./class_m_px_manip_container.html#ab775d976c0f4b24e540bd06af23a0738">initialize</a>();</div>
<div class="line"> <span class="keyword">virtual</span> <a class="code" href="./class_m_status.html">MStatus</a> <a name="a3"></a><a class="code" href="./class_m_px_manip_container.html#a5f6e1ab823f87eddad380cd85f61293c">createChildren</a>();</div>
<div class="line"> <span class="keyword">virtual</span> <a class="code" href="./class_m_status.html">MStatus</a> <a name="a4"></a><a class="code" href="./class_m_px_manip_container.html#ac7013eba743cd3226bc9a72b1ea27cff">connectToDependNode</a>(<span class="keyword">const</span> <a name="_a5"></a><a class="code" href="./class_m_object.html">MObject</a> &amp; node);</div>
<div class="line"></div>
<div class="line"> <span class="comment">//Viewport 2.0 manipulator draw overrides</span></div>
<div class="line"> <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a name="a6"></a><a class="code" href="./class_m_px_manip_container.html#adee566b094fb6fc66326b15473f0a213">preDrawUI</a>( <span class="keyword">const</span> <a name="_a7"></a><a class="code" href="./class_m3d_view.html">M3dView</a> &amp;view );</div>
<div class="line"> <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a name="a8"></a><a class="code" href="./class_m_px_manip_container.html#a3d59fa8fd7b8746e2b458d04a8c45556">drawUI</a>( <a name="_a9"></a><a class="code" href="./class_m_h_w_render_1_1_m_u_i_draw_manager.html">MHWRender::MUIDrawManager</a>&amp; drawManager, </div>
<div class="line"> <span class="keyword">const</span> <a name="_a10"></a><a class="code" href="./class_m_h_w_render_1_1_m_frame_context.html">MHWRender::MFrameContext</a>&amp; frameContext) <span class="keyword">const</span>;</div>
<div class="line"></div>
<div class="line"> <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a name="a11"></a><a class="code" href="./class_m_px_manip_container.html#aef28aea1609504c09c2096a532c0cebe">draw</a>(<a class="code" href="./class_m3d_view.html">M3dView</a> &amp; view,</div>
<div class="line"> <span class="keyword">const</span> <a name="_a12"></a><a class="code" href="./class_m_dag_path.html">MDagPath</a> &amp; path,</div>
<div class="line"> <a class="code" href="./class_m3d_view.html#a1b68f8823b8e275a4b548fdd27263e8a">M3dView::DisplayStyle</a> style,</div>
<div class="line"> <a class="code" href="./class_m3d_view.html#ad9c34c5373567566950642c16a7c4bca">M3dView::DisplayStatus</a> status);</div>
<div class="line"> <a name="_a13"></a><a class="code" href="./class_m_manip_data.html">MManipData</a> startPointCallback(<span class="keywordtype">unsigned</span> index) <span class="keyword">const</span>;</div>
<div class="line"> <a name="_a14"></a><a class="code" href="./class_m_vector.html">MVector</a> nodeTranslation() <span class="keyword">const</span>;</div>
<div class="line"></div>
<div class="line"> <a class="code" href="./class_m_dag_path.html">MDagPath</a> fCircleSweepManip;</div>
<div class="line"> <a class="code" href="./class_m_dag_path.html">MDagPath</a> fDirectionManip;</div>
<div class="line"> <a class="code" href="./class_m_dag_path.html">MDagPath</a> fDiscManip;</div>
<div class="line"> <a class="code" href="./class_m_dag_path.html">MDagPath</a> fDistanceManip;</div>
<div class="line"> <a class="code" href="./class_m_dag_path.html">MDagPath</a> fFreePointTriadManip;</div>
<div class="line"> <a class="code" href="./class_m_dag_path.html">MDagPath</a> fStateManip;</div>
<div class="line"> <a class="code" href="./class_m_dag_path.html">MDagPath</a> fToggleManip;</div>
<div class="line"> <a class="code" href="./class_m_dag_path.html">MDagPath</a> fRotateManip;</div>
<div class="line"> <a class="code" href="./class_m_dag_path.html">MDagPath</a> fScaleManip;</div>
<div class="line"></div>
<div class="line"> <a class="code" href="./class_m_dag_path.html">MDagPath</a> fNodePath;</div>
<div class="line"></div>
<div class="line"> <span class="comment">//Value prepared for Viewport 2.0 draw</span></div>
<div class="line"> <a name="_a15"></a><a class="code" href="./class_m_point.html">MPoint</a> fTextPosition;</div>
<div class="line"></div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line"> <span class="keyword">static</span> <a name="_a16"></a><a class="code" href="./class_m_type_id.html">MTypeId</a> id;</div>
<div class="line">};</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"><a class="code" href="./class_m_manip_data.html">MManipData</a> swissArmyLocatorManip::startPointCallback(<span class="keywordtype">unsigned</span> <span class="comment">/*index*/</span>)<span class="keyword"></span></div>
<div class="line"><span class="keyword">const</span></div>
<div class="line"><span class="keyword"></span>{</div>
<div class="line"> <a class="code" href="./class_m_manip_data.html">MManipData</a> manipData;</div>
<div class="line"> <a name="_a17"></a><a class="code" href="./class_m_fn_numeric_data.html">MFnNumericData</a> numData;</div>
<div class="line"> <a class="code" href="./class_m_object.html">MObject</a> numDataObj = numData.<a name="a18"></a><a class="code" href="./class_m_fn_numeric_data.html#a82c1cfe8ea0f4ed6e13097715906d600">create</a>(<a name="a19"></a><a class="code" href="./class_m_fn_numeric_data.html#a1d1cfd8ffb84e947f82999c682b666a7add817d1d2e1e1d24ac2e2819a58e8f99">MFnNumericData::k3Double</a>);</div>
<div class="line"> <a class="code" href="./class_m_vector.html">MVector</a> vec = nodeTranslation();</div>
<div class="line">    numData.<a name="a20"></a><a class="code" href="./class_m_fn_numeric_data.html#a5a8685975c5472876e8e3558911a7b7b">setData</a>(vec.<a name="a21"></a><a class="code" href="./class_m_vector.html#af88b946fb90d5f08b5fb740c70e98c10">x</a>, vec.<a name="a22"></a><a class="code" href="./class_m_vector.html#ab927965981178aa1fba979a37168db2a">y</a>, vec.<a name="a23"></a><a class="code" href="./class_m_vector.html#ab3e6ed577a7c669c19de1f9c1b46c872">z</a>);</div>
<div class="line">    manipData = numDataObj;</div>
<div class="line"> <span class="keywordflow">return</span> manipData;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"><a class="code" href="./class_m_vector.html">MVector</a> swissArmyLocatorManip::nodeTranslation()<span class="keyword"> const</span></div>
<div class="line"><span class="keyword"></span>{</div>
<div class="line"> <a name="_a24"></a><a class="code" href="./class_m_fn_dag_node.html">MFnDagNode</a> dagFn(fNodePath);</div>
<div class="line"> <a class="code" href="./class_m_dag_path.html">MDagPath</a> path;</div>
<div class="line">    dagFn.<a name="a25"></a><a class="code" href="./class_m_dag_path.html#a45d0e6118fefc8c6e0b86b50234da810">getPath</a>(path);</div>
<div class="line">    path.<a name="a26"></a><a class="code" href="./class_m_dag_path.html#ac71eca2b78b8cfc088adc9af6f851dfd">pop</a>();  <span class="comment">// pop from the shape to the transform</span></div>
<div class="line"> <a name="_a27"></a><a class="code" href="./class_m_fn_transform.html">MFnTransform</a> transformFn(path);</div>
<div class="line"> <span class="keywordflow">return</span> transformFn.translation(<a name="a28"></a><a class="code" href="./class_m_space.html#ab11a1dda34491acff014ddfc9e6bafb8a45a60f04ac9114f0d6e865a6285f40b2">MSpace::kWorld</a>);</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"><a class="code" href="./class_m_type_id.html">MTypeId</a> swissArmyLocatorManip::id( 0x8001e );</div>
<div class="line"></div>
<div class="line"></div>
<div class="line">swissArmyLocatorManip::swissArmyLocatorManip()</div>
<div class="line">{</div>
<div class="line"> <span class="comment">// Do not call createChildren from here</span></div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"></div>
<div class="line">swissArmyLocatorManip::~swissArmyLocatorManip()</div>
<div class="line">{</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"><span class="keywordtype">void</span>* swissArmyLocatorManip::creator()</div>
<div class="line">{</div>
<div class="line"> <span class="keywordflow">return</span> <span class="keyword">new</span> swissArmyLocatorManip();</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"><a class="code" href="./class_m_status.html">MStatus</a> swissArmyLocatorManip::initialize()</div>
<div class="line">{</div>
<div class="line"> <a class="code" href="./class_m_status.html">MStatus</a> stat;</div>
<div class="line">    stat = <a class="code" href="./class_m_px_manip_container.html#ab775d976c0f4b24e540bd06af23a0738">MPxManipContainer::initialize</a>();</div>
<div class="line"> <span class="keywordflow">return</span> stat;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"><a class="code" href="./class_m_status.html">MStatus</a> swissArmyLocatorManip::createChildren()</div>
<div class="line">{</div>
<div class="line"> <a class="code" href="./class_m_status.html">MStatus</a> stat = <a name="a29"></a><a class="code" href="./class_m_status.html#a02ab596f4febca68da503aaf8dde3a80af0536797208144380691e2b376ffc1d1">MStatus::kSuccess</a>;</div>
<div class="line"> <a name="_a30"></a><a class="code" href="./class_m_string.html">MString</a> method(<span class="stringliteral">"swissArmyLocatorManip::createChildren"</span>);</div>
<div class="line"> <a class="code" href="./class_m_status.html">MStatus</a> s;</div>
<div class="line"> <span class="keywordtype">int</span> counter = 0;</div>
<div class="line"></div>
<div class="line"> <span class="comment">// FreePointTriadManip</span></div>
<div class="line"> <span class="comment">//</span></div>
<div class="line">    fFreePointTriadManip = addFreePointTriadManip(<span class="stringliteral">"freePointTriadManip"</span>,</div>
<div class="line"> <span class="stringliteral">"point"</span>);</div>
<div class="line"> <a name="_a31"></a><a class="code" href="./class_m_fn_free_point_triad_manip.html">MFnFreePointTriadManip</a> freePointTriadManipFn(fFreePointTriadManip);</div>
<div class="line"></div>
<div class="line"> <span class="comment">// DirectionManip</span></div>
<div class="line"> <span class="comment">//</span></div>
<div class="line">    fDirectionManip = addDirectionManip(<span class="stringliteral">"directionManip"</span>,</div>
<div class="line"> <span class="stringliteral">"direction"</span>);</div>
<div class="line"> <a name="_a32"></a><a class="code" href="./class_m_fn_direction_manip.html">MFnDirectionManip</a> directionManipFn(fDirectionManip);</div>
<div class="line"></div>
<div class="line"> <span class="comment">// ToggleManip</span></div>
<div class="line"> <span class="comment">//</span></div>
<div class="line">    fToggleManip = addToggleManip(<span class="stringliteral">"toggleManip"</span>, <span class="stringliteral">"toggle"</span>);</div>
<div class="line"> <a name="_a33"></a><a class="code" href="./class_m_fn_toggle_manip.html">MFnToggleManip</a> toggleManipFn(fToggleManip);</div>
<div class="line"></div>
<div class="line"> <span class="comment">// StateManip</span></div>
<div class="line"> <span class="comment">//</span></div>
<div class="line">    fStateManip = addStateManip(<span class="stringliteral">"stateManip"</span>, <span class="stringliteral">"state"</span>);</div>
<div class="line"> <a name="_a34"></a><a class="code" href="./class_m_fn_state_manip.html">MFnStateManip</a> stateManipFn(fStateManip);</div>
<div class="line"></div>
<div class="line"> <span class="comment">// DiscManip</span></div>
<div class="line"> <span class="comment">//</span></div>
<div class="line">    fDiscManip = addDiscManip(<span class="stringliteral">"discManip"</span>,</div>
<div class="line"> <span class="stringliteral">"angle"</span>);</div>
<div class="line"> <a name="_a35"></a><a class="code" href="./class_m_fn_disc_manip.html">MFnDiscManip</a> discManipFn(fDiscManip);</div>
<div class="line"></div>
<div class="line"> <span class="comment">// CircleSweepManip</span></div>
<div class="line"> <span class="comment">//</span></div>
<div class="line">    fCircleSweepManip = addCircleSweepManip(<span class="stringliteral">"circleSweepManip"</span>,</div>
<div class="line"> <span class="stringliteral">"angle"</span>);</div>
<div class="line"> <a name="_a36"></a><a class="code" href="./class_m_fn_circle_sweep_manip.html">MFnCircleSweepManip</a> circleSweepManipFn(fCircleSweepManip, &amp;s); e;</div>
<div class="line">    circleSweepManipFn.setCenterPoint(<a class="code" href="./class_m_point.html">MPoint</a>(0, 0, 0));</div>
<div class="line">    circleSweepManipFn.setNormal(<a class="code" href="./class_m_vector.html">MVector</a>(0, 1, 0));</div>
<div class="line">    circleSweepManipFn.setRadius(2.0);</div>
<div class="line">    circleSweepManipFn.setDrawAsArc(<span class="keyword">true</span>);</div>
<div class="line"></div>
<div class="line"> <span class="comment">// DistanceManip</span></div>
<div class="line"> <span class="comment">//</span></div>
<div class="line"> <a class="code" href="./class_m_string.html">MString</a> manipName(<span class="stringliteral">"distanceManip"</span>);</div>
<div class="line"> <a class="code" href="./class_m_string.html">MString</a> distanceName(<span class="stringliteral">"distance"</span>);</div>
<div class="line"> <a class="code" href="./class_m_point.html">MPoint</a> startPoint(0.0, 0.0, 0.0);</div>
<div class="line"> <a class="code" href="./class_m_vector.html">MVector</a> direction(0.0, 1.0, 0.0);</div>
<div class="line">    fDistanceManip = addDistanceManip(manipName,</div>
<div class="line">                                      distanceName);</div>
<div class="line"> <a name="_a37"></a><a class="code" href="./class_m_fn_distance_manip.html">MFnDistanceManip</a> distanceManipFn(fDistanceManip);</div>
<div class="line">    distanceManipFn.setStartPoint(startPoint);</div>
<div class="line">    distanceManipFn.setDirection(direction);</div>
<div class="line"></div>
<div class="line"> <span class="comment">// RotateManip</span></div>
<div class="line"> <span class="comment">//</span></div>
<div class="line"> <a class="code" href="./class_m_string.html">MString</a> RotateManipName(<span class="stringliteral">"RotateManip"</span>);</div>
<div class="line"> <a class="code" href="./class_m_string.html">MString</a> rotateName(<span class="stringliteral">"rotation"</span>);</div>
<div class="line">    fRotateManip = addRotateManip(RotateManipName, rotateName);</div>
<div class="line"> <a name="_a38"></a><a class="code" href="./class_m_fn_rotate_manip.html">MFnRotateManip</a> rotateManipFn(fRotateManip);</div>
<div class="line"></div>
<div class="line"> <span class="comment">// ScaleManip</span></div>
<div class="line"> <span class="comment">//</span></div>
<div class="line"> <a class="code" href="./class_m_string.html">MString</a> scaleManipName(<span class="stringliteral">"scaleManip"</span>);</div>
<div class="line"> <a class="code" href="./class_m_string.html">MString</a> scaleName(<span class="stringliteral">"scale"</span>);</div>
<div class="line">    fScaleManip = addScaleManip(scaleManipName, scaleName);</div>
<div class="line"> <a name="_a39"></a><a class="code" href="./class_m_fn_scale_manip.html">MFnScaleManip</a> scaleManipFn(fScaleManip);</div>
<div class="line"></div>
<div class="line"> <span class="keywordflow">return</span> stat;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"><a class="code" href="./class_m_status.html">MStatus</a> swissArmyLocatorManip::connectToDependNode(<span class="keyword">const</span> <a class="code" href="./class_m_object.html">MObject</a> &amp;node)</div>
<div class="line">{</div>
<div class="line"> <a class="code" href="./class_m_status.html">MStatus</a> stat;</div>
<div class="line"></div>
<div class="line"> <span class="comment">// Get the DAG path</span></div>
<div class="line"> <span class="comment">//</span></div>
<div class="line"> <a class="code" href="./class_m_fn_dag_node.html">MFnDagNode</a> dagNodeFn(node);</div>
<div class="line">    dagNodeFn.getPath(fNodePath);</div>
<div class="line"> <a class="code" href="./class_m_object.html">MObject</a> parentNode = dagNodeFn.parent(0);</div>
<div class="line"> <a class="code" href="./class_m_fn_dag_node.html">MFnDagNode</a> parentNodeFn(parentNode);</div>
<div class="line"></div>
<div class="line"> <span class="comment">// Connect the plugs</span></div>
<div class="line"> <span class="comment">//</span></div>
<div class="line"> <a name="_a40"></a><a class="code" href="./class_m_fn_dependency_node.html">MFnDependencyNode</a> nodeFn;</div>
<div class="line">    nodeFn.<a name="a41"></a><a class="code" href="./class_m_fn_base.html#ad09f5acece0f9926b3e0e55cff78c3be">setObject</a>(node);</div>
<div class="line"></div>
<div class="line"> <span class="comment">// FreePointTriadManip</span></div>
<div class="line"> <span class="comment">//</span></div>
<div class="line"> <a class="code" href="./class_m_fn_free_point_triad_manip.html">MFnFreePointTriadManip</a> freePointTriadManipFn(fFreePointTriadManip);</div>
<div class="line"> <a name="_a42"></a><a class="code" href="./class_m_plug.html">MPlug</a> translationPlug = parentNodeFn.findPlug(<span class="stringliteral">"t"</span>, &amp;stat);</div>
<div class="line"> <span class="keywordflow">if</span> (<a name="a43"></a><a class="code" href="./class_m_status.html#a02ab596f4febca68da503aaf8dde3a80a1ef6c2d725fb4bec3e7e840d28adbc00">MStatus::kFailure</a> != stat) {</div>
<div class="line">        freePointTriadManipFn.connectToPointPlug(translationPlug);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line"> <span class="comment">// DirectionManip</span></div>
<div class="line"> <span class="comment">//</span></div>
<div class="line"> <a class="code" href="./class_m_fn_direction_manip.html">MFnDirectionManip</a> directionManipFn;</div>
<div class="line">    directionManipFn.<a name="a44"></a><a class="code" href="./class_m_fn_dag_node.html#a6b2301b53683a8e8f56dd0b9cb088b0f">setObject</a>(fDirectionManip);</div>
<div class="line"> <a class="code" href="./class_m_plug.html">MPlug</a> directionPlug = nodeFn.<a name="a45"></a><a class="code" href="./class_m_fn_dependency_node.html#aac29b4a3b51c9d236175e955638f7153">findPlug</a>(<span class="stringliteral">"arrow2Direction"</span>, &amp;stat);</div>
<div class="line"> <span class="keywordflow">if</span> (<a class="code" href="./class_m_status.html#a02ab596f4febca68da503aaf8dde3a80a1ef6c2d725fb4bec3e7e840d28adbc00">MStatus::kFailure</a> != stat) {</div>
<div class="line">        directionManipFn.<a name="a46"></a><a class="code" href="./class_m_fn_direction_manip.html#ae050f632f776ba0bde4acc6e63d09fcf">connectToDirectionPlug</a>(directionPlug);</div>
<div class="line"> <span class="keywordtype">unsigned</span> startPointIndex = directionManipFn.<a name="a47"></a><a class="code" href="./class_m_fn_direction_manip.html#ae9b705156995d243973d36040b36a84d">startPointIndex</a>();</div>
<div class="line">        addPlugToManipConversionCallback(startPointIndex,</div>
<div class="line">                                         (plugToManipConversionCallback)</div>
<div class="line">                                         &amp;swissArmyLocatorManip::startPointCallback);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line"> <span class="comment">// DistanceManip</span></div>
<div class="line"> <span class="comment">//</span></div>
<div class="line"> <a class="code" href="./class_m_fn_distance_manip.html">MFnDistanceManip</a> distanceManipFn;</div>
<div class="line">    distanceManipFn.<a class="code" href="./class_m_fn_dag_node.html#a6b2301b53683a8e8f56dd0b9cb088b0f">setObject</a>(fDistanceManip);</div>
<div class="line"> <a class="code" href="./class_m_plug.html">MPlug</a> sizePlug = nodeFn.<a class="code" href="./class_m_fn_dependency_node.html#aac29b4a3b51c9d236175e955638f7153">findPlug</a>(<span class="stringliteral">"size"</span>, &amp;stat);</div>
<div class="line"> <span class="keywordflow">if</span> (<a class="code" href="./class_m_status.html#a02ab596f4febca68da503aaf8dde3a80a1ef6c2d725fb4bec3e7e840d28adbc00">MStatus::kFailure</a> != stat) {</div>
<div class="line">        distanceManipFn.<a name="a48"></a><a class="code" href="./class_m_fn_distance_manip.html#ab095c6cd5a52c56e46b043831a84a083">connectToDistancePlug</a>(sizePlug);</div>
<div class="line"> <span class="keywordtype">unsigned</span> startPointIndex = distanceManipFn.<a name="a49"></a><a class="code" href="./class_m_fn_distance_manip.html#ae9b705156995d243973d36040b36a84d">startPointIndex</a>();</div>
<div class="line">        addPlugToManipConversionCallback(startPointIndex,</div>
<div class="line">                                         (plugToManipConversionCallback)</div>
<div class="line">                                         &amp;swissArmyLocatorManip::startPointCallback);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line"> <span class="comment">// CircleSweepManip</span></div>
<div class="line"> <span class="comment">//</span></div>
<div class="line"> <a class="code" href="./class_m_fn_circle_sweep_manip.html">MFnCircleSweepManip</a> circleSweepManipFn(fCircleSweepManip);</div>
<div class="line"> <a class="code" href="./class_m_plug.html">MPlug</a> arrow1AnglePlug = nodeFn.<a class="code" href="./class_m_fn_dependency_node.html#aac29b4a3b51c9d236175e955638f7153">findPlug</a>(<span class="stringliteral">"arrow1Angle"</span>, &amp;stat);</div>
<div class="line"> <span class="keywordflow">if</span> (<a class="code" href="./class_m_status.html#a02ab596f4febca68da503aaf8dde3a80a1ef6c2d725fb4bec3e7e840d28adbc00">MStatus::kFailure</a> != stat) {</div>
<div class="line">        circleSweepManipFn.connectToAnglePlug(arrow1AnglePlug);</div>
<div class="line"> <span class="keywordtype">unsigned</span> centerIndex = circleSweepManipFn.centerIndex();</div>
<div class="line">        addPlugToManipConversionCallback(centerIndex,</div>
<div class="line">                                         (plugToManipConversionCallback)</div>
<div class="line">                                         &amp;swissArmyLocatorManip::startPointCallback);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line"> <span class="comment">// DiscManip</span></div>
<div class="line"> <span class="comment">//</span></div>
<div class="line"> <a class="code" href="./class_m_fn_disc_manip.html">MFnDiscManip</a> discManipFn(fDiscManip);</div>
<div class="line"> <a class="code" href="./class_m_plug.html">MPlug</a> arrow3AnglePlug = nodeFn.<a class="code" href="./class_m_fn_dependency_node.html#aac29b4a3b51c9d236175e955638f7153">findPlug</a>(<span class="stringliteral">"arrow3Angle"</span>, &amp;stat);</div>
<div class="line"> <span class="keywordflow">if</span> (<a class="code" href="./class_m_status.html#a02ab596f4febca68da503aaf8dde3a80a1ef6c2d725fb4bec3e7e840d28adbc00">MStatus::kFailure</a> != stat) {</div>
<div class="line">        discManipFn.connectToAnglePlug(arrow3AnglePlug);</div>
<div class="line"> <span class="keywordtype">unsigned</span> centerIndex = discManipFn.centerIndex();</div>
<div class="line">        addPlugToManipConversionCallback(centerIndex,</div>
<div class="line">                                         (plugToManipConversionCallback)</div>
<div class="line">                                         &amp;swissArmyLocatorManip::startPointCallback);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line"> <span class="comment">// StateManip</span></div>
<div class="line"> <span class="comment">//</span></div>
<div class="line"> <a class="code" href="./class_m_fn_state_manip.html">MFnStateManip</a> stateManipFn(fStateManip);</div>
<div class="line"></div>
<div class="line"> <a class="code" href="./class_m_plug.html">MPlug</a> statePlug = nodeFn.<a class="code" href="./class_m_fn_dependency_node.html#aac29b4a3b51c9d236175e955638f7153">findPlug</a>(<span class="stringliteral">"state"</span>, &amp;stat);</div>
<div class="line"> <span class="keywordflow">if</span> (<a class="code" href="./class_m_status.html#a02ab596f4febca68da503aaf8dde3a80a1ef6c2d725fb4bec3e7e840d28adbc00">MStatus::kFailure</a> != stat) {</div>
<div class="line">        stateManipFn.connectToStatePlug(statePlug);</div>
<div class="line"> <span class="keywordtype">unsigned</span> positionIndex = stateManipFn.positionIndex();</div>
<div class="line">        addPlugToManipConversionCallback(positionIndex,</div>
<div class="line">                                         (plugToManipConversionCallback)</div>
<div class="line">                                         &amp;swissArmyLocatorManip::startPointCallback);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line"> <span class="comment">// ToggleManip</span></div>
<div class="line"> <span class="comment">//</span></div>
<div class="line"> <a class="code" href="./class_m_fn_toggle_manip.html">MFnToggleManip</a> toggleManipFn(fToggleManip);</div>
<div class="line"></div>
<div class="line"> <a class="code" href="./class_m_plug.html">MPlug</a> togglePlug = nodeFn.<a class="code" href="./class_m_fn_dependency_node.html#aac29b4a3b51c9d236175e955638f7153">findPlug</a>(<span class="stringliteral">"toggle"</span>, &amp;stat);</div>
<div class="line"> <span class="keywordflow">if</span> (<a class="code" href="./class_m_status.html#a02ab596f4febca68da503aaf8dde3a80a1ef6c2d725fb4bec3e7e840d28adbc00">MStatus::kFailure</a> != stat) {</div>
<div class="line">        toggleManipFn.connectToTogglePlug(togglePlug);</div>
<div class="line"> <span class="keywordtype">unsigned</span> startPointIndex = toggleManipFn.startPointIndex();</div>
<div class="line">        addPlugToManipConversionCallback(startPointIndex,</div>
<div class="line">                                         (plugToManipConversionCallback)</div>
<div class="line">                                         &amp;swissArmyLocatorManip::startPointCallback);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line"> <span class="comment">// Determine the transform node for the locator</span></div>
<div class="line"> <span class="comment">//</span></div>
<div class="line"> <a class="code" href="./class_m_dag_path.html">MDagPath</a> transformPath(fNodePath);</div>
<div class="line">    transformPath.pop();</div>
<div class="line"></div>
<div class="line"> <a class="code" href="./class_m_fn_transform.html">MFnTransform</a> transformNode(transformPath);</div>
<div class="line"></div>
<div class="line"> <span class="comment">// RotateManip</span></div>
<div class="line"> <span class="comment">//</span></div>
<div class="line"> <a class="code" href="./class_m_fn_rotate_manip.html">MFnRotateManip</a> rotateManipFn(fRotateManip);</div>
<div class="line"></div>
<div class="line"> <a class="code" href="./class_m_plug.html">MPlug</a> rotatePlug = transformNode.findPlug(<span class="stringliteral">"rotate"</span>, &amp;stat);</div>
<div class="line"> <span class="keywordflow">if</span> (<a class="code" href="./class_m_status.html#a02ab596f4febca68da503aaf8dde3a80a1ef6c2d725fb4bec3e7e840d28adbc00">MStatus::kFailure</a> != stat) {</div>
<div class="line">        rotateManipFn.connectToRotationPlug(rotatePlug);</div>
<div class="line">        rotateManipFn.displayWithNode(node);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line"> <span class="comment">// ScaleManip</span></div>
<div class="line"> <span class="comment">//</span></div>
<div class="line"> <a class="code" href="./class_m_fn_scale_manip.html">MFnScaleManip</a> scaleManipFn(fScaleManip);</div>
<div class="line"></div>
<div class="line"> <a class="code" href="./class_m_plug.html">MPlug</a> scalePlug = transformNode.findPlug(<span class="stringliteral">"scale"</span>, &amp;stat);</div>
<div class="line"> <span class="keywordflow">if</span> (<a class="code" href="./class_m_status.html#a02ab596f4febca68da503aaf8dde3a80a1ef6c2d725fb4bec3e7e840d28adbc00">MStatus::kFailure</a> != stat) {</div>
<div class="line">        scaleManipFn.connectToScalePlug(scalePlug);</div>
<div class="line">        scaleManipFn.displayWithNode(node);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    finishAddingManips();</div>
<div class="line"> <a class="code" href="./class_m_px_manip_container.html#ac7013eba743cd3226bc9a72b1ea27cff">MPxManipContainer::connectToDependNode</a>(node);</div>
<div class="line"></div>
<div class="line"> <span class="keywordflow">return</span> stat;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"><span class="keywordtype">void</span> swissArmyLocatorManip::draw(<a class="code" href="./class_m3d_view.html">M3dView</a> &amp; view,</div>
<div class="line"> <span class="keyword">const</span> <a class="code" href="./class_m_dag_path.html">MDagPath</a> &amp;path,</div>
<div class="line"> <a class="code" href="./class_m3d_view.html#a1b68f8823b8e275a4b548fdd27263e8a">M3dView::DisplayStyle</a> style,</div>
<div class="line"> <a class="code" href="./class_m3d_view.html#ad9c34c5373567566950642c16a7c4bca">M3dView::DisplayStatus</a> status)</div>
<div class="line">{</div>
<div class="line"> <a class="code" href="./class_m_px_manip_container.html#aef28aea1609504c09c2096a532c0cebe">MPxManipContainer::draw</a>(view, path, style, status);</div>
<div class="line">    view.<a name="a50"></a><a class="code" href="./class_m3d_view.html#a0e318e5634c7aaf31c4eb7232d2013d4">beginGL</a>();</div>
<div class="line"></div>
<div class="line"> <a class="code" href="./class_m_point.html">MPoint</a> textPos = nodeTranslation();</div>
<div class="line"> <span class="keywordtype">char</span> str[100];</div>
<div class="line">    sprintf(str, <span class="stringliteral">"Swiss Army Manipulator"</span>);</div>
<div class="line"> <a class="code" href="./class_m_string.html">MString</a> distanceText(str);</div>
<div class="line">    view.<a name="a51"></a><a class="code" href="./class_m3d_view.html#a1d533091a31a590ee4599fde04fa65d7">drawText</a>(distanceText, textPos, <a name="a52"></a><a class="code" href="./class_m3d_view.html#a8e0d441725a81d2bbdebbea09078260eaa9953673f54fd9f854de23739ebe2f7a">M3dView::kLeft</a>);</div>
<div class="line">    view.<a name="a53"></a><a class="code" href="./class_m3d_view.html#ab810c5a46d728df70ff5f44b604559f4">endGL</a>();</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="comment">// Viewport 2.0 manipulator draw overrides</span></div>
<div class="line"><span class="keywordtype">void</span> swissArmyLocatorManip::preDrawUI( <span class="keyword">const</span> <a class="code" href="./class_m3d_view.html">M3dView</a> &amp;view )</div>
<div class="line">{</div>
<div class="line"> <span class="comment">// Update text drawing position</span></div>
<div class="line">    fTextPosition = nodeTranslation();</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">void</span> swissArmyLocatorManip::drawUI( <a class="code" href="./class_m_h_w_render_1_1_m_u_i_draw_manager.html">MHWRender::MUIDrawManager</a>&amp; drawManager, </div>
<div class="line"> <span class="keyword">const</span> <a class="code" href="./class_m_h_w_render_1_1_m_frame_context.html">MHWRender::MFrameContext</a>&amp; frameContext)<span class="keyword"> const</span></div>
<div class="line"><span class="keyword"></span>{</div>
<div class="line">    drawManager.<a name="a54"></a><a class="code" href="./class_m_h_w_render_1_1_m_u_i_draw_manager.html#aa3e12e98018e4dfda0e166d9ec8094b0">beginDrawable</a>();</div>
<div class="line"></div>
<div class="line">    drawManager.<a name="a55"></a><a class="code" href="./class_m_h_w_render_1_1_m_u_i_draw_manager.html#a9baede3e37abe9551e50a8c6be65ec4d">setColor</a>( <a name="_a56"></a><a class="code" href="./class_m_color.html">MColor</a>( 0.0f, 1.0f, 0.1f ) );</div>
<div class="line">    drawManager.<a name="a57"></a><a class="code" href="./class_m_h_w_render_1_1_m_u_i_draw_manager.html#a334e4280e5ddd4653c69f9703b5dd3b4">text</a>( fTextPosition, <span class="stringliteral">"Swiss Army Manipulator"</span>, <a name="a58"></a><a class="code" href="./class_m_h_w_render_1_1_m_u_i_draw_manager.html#aa56f1a82069b5feeadbb4591cb3e474faa9953673f54fd9f854de23739ebe2f7a">MHWRender::MUIDrawManager::kLeft</a> );</div>
<div class="line"></div>
<div class="line">    drawManager.<a name="a59"></a><a class="code" href="./class_m_h_w_render_1_1_m_u_i_draw_manager.html#a78c343c25a05be7e46dd4b7ebab82ff6">endDrawable</a>();</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keyword">class </span>swissArmyLocator : <span class="keyword">public</span> <a name="_a60"></a><a class="code" href="./class_m_px_locator_node.html">MPxLocatorNode</a></div>
<div class="line">{</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    swissArmyLocator();</div>
<div class="line"> <span class="keyword">virtual</span> ~swissArmyLocator();</div>
<div class="line"></div>
<div class="line"> <span class="keyword">virtual</span> <a class="code" href="./class_m_status.html">MStatus</a> <a name="a61"></a><a class="code" href="./class_m_px_node.html#a5cb7edfa1f67c75588bec1c38b7bf5f8">compute</a>(<span class="keyword">const</span> <a class="code" href="./class_m_plug.html">MPlug</a>&amp; plug, <a name="_a62"></a><a class="code" href="./class_m_data_block.html">MDataBlock</a> &amp;data);</div>
<div class="line"></div>
<div class="line"> <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a name="a63"></a><a class="code" href="./class_m_px_locator_node.html#a999efab3ad8289b53bc370aaeb7d6146">draw</a>(<a class="code" href="./class_m3d_view.html">M3dView</a> &amp;view, <span class="keyword">const</span> <a class="code" href="./class_m_dag_path.html">MDagPath</a> &amp;path,</div>
<div class="line"> <a class="code" href="./class_m3d_view.html#a1b68f8823b8e275a4b548fdd27263e8a">M3dView::DisplayStyle</a> style,</div>
<div class="line"> <a class="code" href="./class_m3d_view.html#ad9c34c5373567566950642c16a7c4bca">M3dView::DisplayStatus</a> status);</div>
<div class="line"></div>
<div class="line"> <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a name="a64"></a><a class="code" href="./class_m_px_locator_node.html#a4254418493ef1ab6847b9e5f395fa3de">isBounded</a>() <span class="keyword">const</span>;</div>
<div class="line"> <span class="keyword">virtual</span> <a name="_a65"></a><a class="code" href="./class_m_bounding_box.html">MBoundingBox</a> <a name="a66"></a><a class="code" href="./class_m_px_locator_node.html#a762dab569a9d88aa731f3c7229803e1e">boundingBox</a>() <span class="keyword">const</span>;</div>
<div class="line"></div>
<div class="line"> <span class="comment">// Access data from node for drawing, reused by VP1 and VP2 implementations</span></div>
<div class="line"> <span class="keyword">struct </span>DrawData</div>
<div class="line">    {</div>
<div class="line"> <span class="keywordtype">float</span> multiplier;</div>
<div class="line"> <span class="keywordtype">double</span> angle1;</div>
<div class="line"> <span class="keywordtype">double</span> angle2;</div>
<div class="line"> <span class="keywordtype">double</span> angle3;</div>
<div class="line"> <span class="keywordtype">int</span> state;</div>
<div class="line"> <span class="keywordtype">bool</span> toggle;</div>
<div class="line">    };</div>
<div class="line"> <span class="keywordtype">void</span> getDrawData(DrawData&amp; data);</div>
<div class="line"></div>
<div class="line"> <span class="comment">// Draw helper methods</span></div>
<div class="line"> <span class="keyword">static</span> <span class="keywordtype">void</span> drawOutline(<span class="keyword">const</span> DrawData&amp; data);</div>
<div class="line"></div>
<div class="line"> <span class="keyword">static</span> <span class="keywordtype">void</span> *          creator();</div>
<div class="line"> <span class="keyword">static</span> <a class="code" href="./class_m_status.html">MStatus</a>         initialize();</div>
<div class="line"> <span class="keyword">static</span> <a class="code" href="./class_m_object.html">MObject</a>         aSize;         <span class="comment">// The size of the locator</span></div>
<div class="line"> <span class="keyword">static</span> <a class="code" href="./class_m_object.html">MObject</a>         aPoint;</div>
<div class="line"> <span class="keyword">static</span> <a class="code" href="./class_m_object.html">MObject</a>         aPointX;</div>
<div class="line"> <span class="keyword">static</span> <a class="code" href="./class_m_object.html">MObject</a>         aPointY;</div>
<div class="line"> <span class="keyword">static</span> <a class="code" href="./class_m_object.html">MObject</a>         aPointZ;</div>
<div class="line"> <span class="keyword">static</span> <a class="code" href="./class_m_object.html">MObject</a>         aArrow1Angle;</div>
<div class="line"> <span class="keyword">static</span> <a class="code" href="./class_m_object.html">MObject</a>         aArrow2Direction;</div>
<div class="line"> <span class="keyword">static</span> <a class="code" href="./class_m_object.html">MObject</a>         aArrow2DirectionX;</div>
<div class="line"> <span class="keyword">static</span> <a class="code" href="./class_m_object.html">MObject</a>         aArrow2DirectionY;</div>
<div class="line"> <span class="keyword">static</span> <a class="code" href="./class_m_object.html">MObject</a>         aArrow2DirectionZ;</div>
<div class="line"> <span class="keyword">static</span> <a class="code" href="./class_m_object.html">MObject</a>         aArrow3Angle;</div>
<div class="line"> <span class="keyword">static</span> <a class="code" href="./class_m_object.html">MObject</a>         aArrow4Distance;</div>
<div class="line"> <span class="keyword">static</span> <a class="code" href="./class_m_object.html">MObject</a>         aState;</div>
<div class="line"> <span class="keyword">static</span> <a class="code" href="./class_m_object.html">MObject</a>         aToggle;</div>
<div class="line"></div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line"> <span class="keyword">static</span> <a class="code" href="./class_m_type_id.html">MTypeId</a>     id;</div>
<div class="line"> <span class="keyword">static</span> <a class="code" href="./class_m_string.html">MString</a>     classification;</div>
<div class="line"> <span class="keyword">static</span> <a class="code" href="./class_m_string.html">MString</a>     registrantId;</div>
<div class="line">};</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"><a class="code" href="./class_m_type_id.html">MTypeId</a> swissArmyLocator::id( 0x8001f );</div>
<div class="line"><a class="code" href="./class_m_string.html">MString</a> swissArmyLocator::classification(<span class="stringliteral">"drawdb/geometry/swissArmyLocator"</span>);</div>
<div class="line"><a class="code" href="./class_m_string.html">MString</a> swissArmyLocator::registrantId(<span class="stringliteral">"SwissArmyLocatorNodePlugin"</span>);</div>
<div class="line"><a class="code" href="./class_m_object.html">MObject</a> swissArmyLocator::aSize;</div>
<div class="line"><a class="code" href="./class_m_object.html">MObject</a> swissArmyLocator::aPoint;</div>
<div class="line"><a class="code" href="./class_m_object.html">MObject</a> swissArmyLocator::aPointX;</div>
<div class="line"><a class="code" href="./class_m_object.html">MObject</a> swissArmyLocator::aPointY;</div>
<div class="line"><a class="code" href="./class_m_object.html">MObject</a> swissArmyLocator::aPointZ;</div>
<div class="line"><a class="code" href="./class_m_object.html">MObject</a> swissArmyLocator::aArrow1Angle;</div>
<div class="line"><a class="code" href="./class_m_object.html">MObject</a> swissArmyLocator::aArrow2Direction;</div>
<div class="line"><a class="code" href="./class_m_object.html">MObject</a> swissArmyLocator::aArrow2DirectionX;</div>
<div class="line"><a class="code" href="./class_m_object.html">MObject</a> swissArmyLocator::aArrow2DirectionY;</div>
<div class="line"><a class="code" href="./class_m_object.html">MObject</a> swissArmyLocator::aArrow2DirectionZ;</div>
<div class="line"><a class="code" href="./class_m_object.html">MObject</a> swissArmyLocator::aArrow3Angle;</div>
<div class="line"><a class="code" href="./class_m_object.html">MObject</a> swissArmyLocator::aArrow4Distance;</div>
<div class="line"><a class="code" href="./class_m_object.html">MObject</a> swissArmyLocator::aState;</div>
<div class="line"><a class="code" href="./class_m_object.html">MObject</a> swissArmyLocator::aToggle;</div>
<div class="line"></div>
<div class="line"></div>
<div class="line">swissArmyLocator::swissArmyLocator()</div>
<div class="line">{}</div>
<div class="line"></div>
<div class="line"></div>
<div class="line">swissArmyLocator::~swissArmyLocator()</div>
<div class="line">{}</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"><a class="code" href="./class_m_status.html">MStatus</a> swissArmyLocator::compute(<span class="keyword">const</span> <a class="code" href="./class_m_plug.html">MPlug</a> &amp;<span class="comment">/*plug*/</span>, <a class="code" href="./class_m_data_block.html">MDataBlock</a> &amp;<span class="comment">/*data*/</span>)</div>
<div class="line">{</div>
<div class="line"> <span class="keywordflow">return</span> <a name="a67"></a><a class="code" href="./class_m_status.html#a02ab596f4febca68da503aaf8dde3a80a7f858db05022c8bc860d685e13bab6ae">MS::kUnknownParameter</a>;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">void</span> swissArmyLocator::getDrawData(DrawData&amp; data)</div>
<div class="line">{</div>
<div class="line"> <a class="code" href="./class_m_object.html">MObject</a> node = thisMObject();</div>
<div class="line"></div>
<div class="line"> <a class="code" href="./class_m_plug.html">MPlug</a> plug(node, swissArmyLocator::aSize);</div>
<div class="line"> <a name="_a68"></a><a class="code" href="./class_m_distance.html">MDistance</a> sizeVal;</div>
<div class="line">    plug.getValue(sizeVal);</div>
<div class="line">    data.multiplier = (float)sizeVal.<a name="a69"></a><a class="code" href="./class_m_distance.html#ace39ab92685b0f5ab1a2925e748efb1f">asCentimeters</a>();</div>
<div class="line"></div>
<div class="line"> <a class="code" href="./class_m_plug.html">MPlug</a> arrow1AnglePlug(node, swissArmyLocator::aArrow1Angle);</div>
<div class="line"> <a name="_a70"></a><a class="code" href="./class_m_angle.html">MAngle</a> arrow1Angle;</div>
<div class="line">    arrow1AnglePlug.<a name="a71"></a><a class="code" href="./class_m_plug.html#a64f7093bfde5c5eb9d89b32635b772aa">getValue</a>(arrow1Angle);</div>
<div class="line">    data.angle1 = -arrow1Angle.<a name="a72"></a><a class="code" href="./class_m_angle.html#af8278be30529fafd8925d17dd9dfe65a">asRadians</a>() - 3.1415927/2.0;</div>
<div class="line"></div>
<div class="line"> <a class="code" href="./class_m_plug.html">MPlug</a> directionXPlug(node, swissArmyLocator::aArrow2DirectionX);</div>
<div class="line"> <a class="code" href="./class_m_plug.html">MPlug</a> directionZPlug(node, swissArmyLocator::aArrow2DirectionZ);</div>
<div class="line"> <span class="keywordtype">double</span> dirX, dirZ;</div>
<div class="line">    directionXPlug.getValue(dirX);</div>
<div class="line">    directionZPlug.getValue(dirZ);</div>
<div class="line">    data.angle2 = atan2(dirZ,dirX) + 3.1415927;</div>
<div class="line"></div>
<div class="line"> <a class="code" href="./class_m_plug.html">MPlug</a> arrow3AnglePlug(node, swissArmyLocator::aArrow3Angle);</div>
<div class="line"> <a class="code" href="./class_m_angle.html">MAngle</a> arrow3Angle;</div>
<div class="line">    arrow3AnglePlug.<a class="code" href="./class_m_plug.html#a64f7093bfde5c5eb9d89b32635b772aa">getValue</a>(arrow3Angle);</div>
<div class="line">    data.angle3 = arrow3Angle.<a class="code" href="./class_m_angle.html#af8278be30529fafd8925d17dd9dfe65a">asRadians</a>();</div>
<div class="line"></div>
<div class="line"> <a class="code" href="./class_m_plug.html">MPlug</a> statePlug(node, swissArmyLocator::aState);</div>
<div class="line">    statePlug.<a class="code" href="./class_m_plug.html#a64f7093bfde5c5eb9d89b32635b772aa">getValue</a>(data.state);</div>
<div class="line"></div>
<div class="line"> <a class="code" href="./class_m_plug.html">MPlug</a> togglePlug(node, swissArmyLocator::aToggle);</div>
<div class="line">    togglePlug.<a class="code" href="./class_m_plug.html#a64f7093bfde5c5eb9d89b32635b772aa">getValue</a>(data.toggle);</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">void</span> swissArmyLocator::draw(<a class="code" href="./class_m3d_view.html">M3dView</a> &amp;view, <span class="keyword">const</span> <a class="code" href="./class_m_dag_path.html">MDagPath</a> &amp;<span class="comment">/*path*/</span>,</div>
<div class="line"> <a class="code" href="./class_m3d_view.html#a1b68f8823b8e275a4b548fdd27263e8a">M3dView::DisplayStyle</a> style,</div>
<div class="line"> <a class="code" href="./class_m3d_view.html#ad9c34c5373567566950642c16a7c4bca">M3dView::DisplayStatus</a> status)</div>
<div class="line">{</div>
<div class="line"> <span class="comment">// Get draw data</span></div>
<div class="line"> <span class="comment">//</span></div>
<div class="line">    DrawData data;</div>
<div class="line">    getDrawData(data);</div>
<div class="line"></div>
<div class="line">    view.<a class="code" href="./class_m3d_view.html#a0e318e5634c7aaf31c4eb7232d2013d4">beginGL</a>();</div>
<div class="line"></div>
<div class="line"> <span class="keywordflow">if</span> ((style == <a name="a73"></a><a class="code" href="./class_m3d_view.html#a1b68f8823b8e275a4b548fdd27263e8aa7914d385424ca72fdf84654b735a5a50">M3dView::kFlatShaded</a>) ||</div>
<div class="line">        (style == <a name="a74"></a><a class="code" href="./class_m3d_view.html#a1b68f8823b8e275a4b548fdd27263e8aa620925ec70781a5f5de890d906660d24">M3dView::kGouraudShaded</a>))</div>
<div class="line">    {</div>
<div class="line"> <span class="comment">// Push the color settings</span></div>
<div class="line"> <span class="comment">//</span></div>
<div class="line">        glPushAttrib(GL_CURRENT_BIT);</div>
<div class="line"></div>
<div class="line"> <span class="keywordflow">if</span> (status == <a name="a75"></a><a class="code" href="./class_m3d_view.html#ad9c34c5373567566950642c16a7c4bcaab6a8784b4cf96692e0d71d19c44ce732">M3dView::kActive</a>) {</div>
<div class="line">            view.<a name="a76"></a><a class="code" href="./class_m3d_view.html#aaf6fd568acc50d57be00639f773c1d73">setDrawColor</a>(13, <a name="a77"></a><a class="code" href="./class_m3d_view.html#a9b24d632cd80af03d971c58ce0b8df6aa18362fb06caee77a9bae15aa90e06d1c">M3dView::kActiveColors</a>);</div>
<div class="line">        } <span class="keywordflow">else</span> {</div>
<div class="line">            view.<a class="code" href="./class_m3d_view.html#aaf6fd568acc50d57be00639f773c1d73">setDrawColor</a>(13, <a name="a78"></a><a class="code" href="./class_m3d_view.html#a9b24d632cd80af03d971c58ce0b8df6aa466739773561fe25487724d1b7a16234">M3dView::kDormantColors</a>);</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line"> <span class="keywordtype">int</span> i;</div>
<div class="line"> <span class="keywordtype">int</span> last;</div>
<div class="line"></div>
<div class="line"> <span class="keywordflow">if</span> (data.toggle) {</div>
<div class="line"> <span class="keywordflow">if</span> (status == <a class="code" href="./class_m3d_view.html#ad9c34c5373567566950642c16a7c4bcaab6a8784b4cf96692e0d71d19c44ce732">M3dView::kActive</a>)</div>
<div class="line">            view.<a class="code" href="./class_m3d_view.html#aaf6fd568acc50d57be00639f773c1d73">setDrawColor</a>(15, <a class="code" href="./class_m3d_view.html#a9b24d632cd80af03d971c58ce0b8df6aa18362fb06caee77a9bae15aa90e06d1c">M3dView::kActiveColors</a>);</div>
<div class="line"> <span class="keywordflow">else</span></div>
<div class="line">            view.<a class="code" href="./class_m3d_view.html#aaf6fd568acc50d57be00639f773c1d73">setDrawColor</a>(15, <a class="code" href="./class_m3d_view.html#a9b24d632cd80af03d971c58ce0b8df6aa466739773561fe25487724d1b7a16234">M3dView::kDormantColors</a>);</div>
<div class="line">        glBegin(GL_TRIANGLE_FAN);</div>
<div class="line">            last = centreCount - 1;</div>
<div class="line"> <span class="keywordflow">for</span> (i = 0; i &lt; last; ++i) {</div>
<div class="line">                glVertex3f(centre[i][0] * data.multiplier,</div>
<div class="line">                           centre[i][1] * data.multiplier,</div>
<div class="line">                           centre[i][2] * data.multiplier);</div>
<div class="line">            }</div>
<div class="line">        glEnd();</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line"> <span class="keywordflow">if</span> (data.state == 0) {</div>
<div class="line"> <span class="keywordflow">if</span> (status == <a class="code" href="./class_m3d_view.html#ad9c34c5373567566950642c16a7c4bcaab6a8784b4cf96692e0d71d19c44ce732">M3dView::kActive</a>)</div>
<div class="line">            view.<a class="code" href="./class_m3d_view.html#aaf6fd568acc50d57be00639f773c1d73">setDrawColor</a>(19, <a class="code" href="./class_m3d_view.html#a9b24d632cd80af03d971c58ce0b8df6aa18362fb06caee77a9bae15aa90e06d1c">M3dView::kActiveColors</a>);</div>
<div class="line"> <span class="keywordflow">else</span></div>
<div class="line">            view.<a class="code" href="./class_m3d_view.html#aaf6fd568acc50d57be00639f773c1d73">setDrawColor</a>(19, <a class="code" href="./class_m3d_view.html#a9b24d632cd80af03d971c58ce0b8df6aa466739773561fe25487724d1b7a16234">M3dView::kDormantColors</a>);</div>
<div class="line">        glBegin(GL_TRIANGLE_FAN);</div>
<div class="line">            last = state1Count - 1;</div>
<div class="line"> <span class="keywordflow">for</span> (i = 0; i &lt; last; ++i) {</div>
<div class="line">                glVertex3f(state1[i][0] * data.multiplier,</div>
<div class="line">                           state1[i][1] * data.multiplier,</div>
<div class="line">                           state1[i][2] * data.multiplier);</div>
<div class="line">            }</div>
<div class="line">        glEnd();</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line"> <span class="keywordflow">if</span> (data.state == 1) {</div>
<div class="line"> <span class="keywordflow">if</span> (status == <a class="code" href="./class_m3d_view.html#ad9c34c5373567566950642c16a7c4bcaab6a8784b4cf96692e0d71d19c44ce732">M3dView::kActive</a>)</div>
<div class="line">            view.<a class="code" href="./class_m3d_view.html#aaf6fd568acc50d57be00639f773c1d73">setDrawColor</a>(21, <a class="code" href="./class_m3d_view.html#a9b24d632cd80af03d971c58ce0b8df6aa18362fb06caee77a9bae15aa90e06d1c">M3dView::kActiveColors</a>);</div>
<div class="line"> <span class="keywordflow">else</span></div>
<div class="line">            view.<a class="code" href="./class_m3d_view.html#aaf6fd568acc50d57be00639f773c1d73">setDrawColor</a>(21, <a class="code" href="./class_m3d_view.html#a9b24d632cd80af03d971c58ce0b8df6aa466739773561fe25487724d1b7a16234">M3dView::kDormantColors</a>);</div>
<div class="line">        glBegin(GL_TRIANGLE_FAN);</div>
<div class="line">            last = state2Count - 1;</div>
<div class="line"> <span class="keywordflow">for</span> (i = 0; i &lt; last; ++i) {</div>
<div class="line">                glVertex3f(state2[i][0] * data.multiplier,</div>
<div class="line">                           state2[i][1] * data.multiplier,</div>
<div class="line">                           state2[i][2] * data.multiplier);</div>
<div class="line">            }</div>
<div class="line">        glEnd();</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line"> <span class="keywordflow">if</span> (data.state == 2) {</div>
<div class="line"> <span class="keywordflow">if</span> (status == <a class="code" href="./class_m3d_view.html#ad9c34c5373567566950642c16a7c4bcaab6a8784b4cf96692e0d71d19c44ce732">M3dView::kActive</a>)</div>
<div class="line">            view.<a class="code" href="./class_m3d_view.html#aaf6fd568acc50d57be00639f773c1d73">setDrawColor</a>(18, <a class="code" href="./class_m3d_view.html#a9b24d632cd80af03d971c58ce0b8df6aa18362fb06caee77a9bae15aa90e06d1c">M3dView::kActiveColors</a>);</div>
<div class="line"> <span class="keywordflow">else</span></div>
<div class="line">            view.<a class="code" href="./class_m3d_view.html#aaf6fd568acc50d57be00639f773c1d73">setDrawColor</a>(18, <a class="code" href="./class_m3d_view.html#a9b24d632cd80af03d971c58ce0b8df6aa466739773561fe25487724d1b7a16234">M3dView::kDormantColors</a>);</div>
<div class="line">        glBegin(GL_TRIANGLE_FAN);</div>
<div class="line">            last = state3Count - 1;</div>
<div class="line"> <span class="keywordflow">for</span> (i = 0; i &lt; last; ++i) {</div>
<div class="line">                glVertex3f(state3[i][0] * data.multiplier,</div>
<div class="line">                           state3[i][1] * data.multiplier,</div>
<div class="line">                           state3[i][2] * data.multiplier);</div>
<div class="line">            }</div>
<div class="line">        glEnd();</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line"> <span class="keywordflow">if</span> (data.state == 3) {</div>
<div class="line"> <span class="keywordflow">if</span> (status == <a class="code" href="./class_m3d_view.html#ad9c34c5373567566950642c16a7c4bcaab6a8784b4cf96692e0d71d19c44ce732">M3dView::kActive</a>)</div>
<div class="line">            view.<a class="code" href="./class_m3d_view.html#aaf6fd568acc50d57be00639f773c1d73">setDrawColor</a>(17, <a class="code" href="./class_m3d_view.html#a9b24d632cd80af03d971c58ce0b8df6aa18362fb06caee77a9bae15aa90e06d1c">M3dView::kActiveColors</a>);</div>
<div class="line"> <span class="keywordflow">else</span></div>
<div class="line">            view.<a class="code" href="./class_m3d_view.html#aaf6fd568acc50d57be00639f773c1d73">setDrawColor</a>(17, <a class="code" href="./class_m3d_view.html#a9b24d632cd80af03d971c58ce0b8df6aa466739773561fe25487724d1b7a16234">M3dView::kDormantColors</a>);</div>
<div class="line">        glBegin(GL_TRIANGLE_FAN);</div>
<div class="line">            last = state4Count - 1;</div>
<div class="line"> <span class="keywordflow">for</span> (i = 0; i &lt; last; ++i) {</div>
<div class="line">                glVertex3f(state4[i][0] * data.multiplier,</div>
<div class="line">                           state4[i][1] * data.multiplier,</div>
<div class="line">                           state4[i][2] * data.multiplier);</div>
<div class="line">            }</div>
<div class="line">        glEnd();</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line"> <span class="keywordflow">if</span> (status == <a class="code" href="./class_m3d_view.html#ad9c34c5373567566950642c16a7c4bcaab6a8784b4cf96692e0d71d19c44ce732">M3dView::kActive</a>)</div>
<div class="line">            view.<a class="code" href="./class_m3d_view.html#aaf6fd568acc50d57be00639f773c1d73">setDrawColor</a>(12, <a class="code" href="./class_m3d_view.html#a9b24d632cd80af03d971c58ce0b8df6aa18362fb06caee77a9bae15aa90e06d1c">M3dView::kActiveColors</a>);</div>
<div class="line"> <span class="keywordflow">else</span></div>
<div class="line">            view.<a class="code" href="./class_m3d_view.html#aaf6fd568acc50d57be00639f773c1d73">setDrawColor</a>(12, <a class="code" href="./class_m3d_view.html#a9b24d632cd80af03d971c58ce0b8df6aa466739773561fe25487724d1b7a16234">M3dView::kDormantColors</a>);</div>
<div class="line">        glBegin(GL_TRIANGLE_FAN);</div>
<div class="line">            last = arrow1Count - 1;</div>
<div class="line"> <span class="keywordflow">for</span> (i = 0; i &lt; last; ++i) {</div>
<div class="line">                glVertex3f( (<span class="keywordtype">float</span>) (- arrow1[i][0] * data.multiplier * cos(data.angle1)</div>
<div class="line">                           - arrow1[i][2] * data.multiplier * sin(data.angle1)),</div>
<div class="line">                           (<span class="keywordtype">float</span>) (arrow1[i][1] * data.multiplier + delta1),</div>
<div class="line">                           (<span class="keywordtype">float</span>) (arrow1[i][2] * data.multiplier * cos(data.angle1) -</div>
<div class="line">                           arrow1[i][0] * data.multiplier * sin(data.angle1)));</div>
<div class="line">            }</div>
<div class="line">        glEnd();</div>
<div class="line"></div>
<div class="line"> <span class="keywordflow">if</span> (status == <a class="code" href="./class_m3d_view.html#ad9c34c5373567566950642c16a7c4bcaab6a8784b4cf96692e0d71d19c44ce732">M3dView::kActive</a>)</div>
<div class="line">            view.<a class="code" href="./class_m3d_view.html#aaf6fd568acc50d57be00639f773c1d73">setDrawColor</a>(16, <a class="code" href="./class_m3d_view.html#a9b24d632cd80af03d971c58ce0b8df6aa18362fb06caee77a9bae15aa90e06d1c">M3dView::kActiveColors</a>);</div>
<div class="line"> <span class="keywordflow">else</span></div>
<div class="line">            view.<a class="code" href="./class_m3d_view.html#aaf6fd568acc50d57be00639f773c1d73">setDrawColor</a>(16, <a class="code" href="./class_m3d_view.html#a9b24d632cd80af03d971c58ce0b8df6aa466739773561fe25487724d1b7a16234">M3dView::kDormantColors</a>);</div>
<div class="line">        glBegin(GL_TRIANGLE_FAN);</div>
<div class="line">            last = arrow2Count - 1;</div>
<div class="line"> <span class="keywordflow">for</span> (i = 0; i &lt; last; ++i) {</div>
<div class="line">                glVertex3f( (<span class="keywordtype">float</span>) (- arrow2[i][0] * data.multiplier * cos(data.angle2)</div>
<div class="line">                           - arrow2[i][2] * data.multiplier * sin(data.angle2)),</div>
<div class="line">                           (<span class="keywordtype">float</span>) (arrow2[i][1] * data.multiplier + delta2),</div>
<div class="line">                           (<span class="keywordtype">float</span>) (arrow2[i][2] * data.multiplier * cos(data.angle2) -</div>
<div class="line">                           arrow2[i][0] * data.multiplier * sin(data.angle2)));</div>
<div class="line">            }</div>
<div class="line">        glEnd();</div>
<div class="line"></div>
<div class="line"> <span class="keywordflow">if</span> (status == <a class="code" href="./class_m3d_view.html#ad9c34c5373567566950642c16a7c4bcaab6a8784b4cf96692e0d71d19c44ce732">M3dView::kActive</a>)</div>
<div class="line">            view.<a class="code" href="./class_m3d_view.html#aaf6fd568acc50d57be00639f773c1d73">setDrawColor</a>(13, <a class="code" href="./class_m3d_view.html#a9b24d632cd80af03d971c58ce0b8df6aa18362fb06caee77a9bae15aa90e06d1c">M3dView::kActiveColors</a>);</div>
<div class="line"> <span class="keywordflow">else</span></div>
<div class="line">            view.<a class="code" href="./class_m3d_view.html#aaf6fd568acc50d57be00639f773c1d73">setDrawColor</a>(13, <a class="code" href="./class_m3d_view.html#a9b24d632cd80af03d971c58ce0b8df6aa466739773561fe25487724d1b7a16234">M3dView::kDormantColors</a>);</div>
<div class="line">        glBegin(GL_TRIANGLE_FAN);</div>
<div class="line">            last = arrow3Count - 1;</div>
<div class="line"> <span class="keywordflow">for</span> (i = 0; i &lt; last; ++i) {</div>
<div class="line">                glVertex3f( (<span class="keywordtype">float</span>) (- arrow3[i][0] * data.multiplier * cos(data.angle3)</div>
<div class="line">                           - arrow3[i][2] * data.multiplier * sin(data.angle3)),</div>
<div class="line">                           (<span class="keywordtype">float</span>) (arrow3[i][1] * data.multiplier + delta3),</div>
<div class="line">                           (<span class="keywordtype">float</span>) (arrow3[i][2] * data.multiplier * cos(data.angle3) -</div>
<div class="line">                           arrow3[i][0] * data.multiplier * sin(data.angle3)));</div>
<div class="line">            }</div>
<div class="line">        glEnd();</div>
<div class="line"></div>
<div class="line"> <span class="keywordflow">if</span> (status == <a class="code" href="./class_m3d_view.html#ad9c34c5373567566950642c16a7c4bcaab6a8784b4cf96692e0d71d19c44ce732">M3dView::kActive</a>)</div>
<div class="line">            view.<a class="code" href="./class_m3d_view.html#aaf6fd568acc50d57be00639f773c1d73">setDrawColor</a>(5, <a class="code" href="./class_m3d_view.html#a9b24d632cd80af03d971c58ce0b8df6aa18362fb06caee77a9bae15aa90e06d1c">M3dView::kActiveColors</a>);</div>
<div class="line"> <span class="keywordflow">else</span></div>
<div class="line">            view.<a class="code" href="./class_m3d_view.html#aaf6fd568acc50d57be00639f773c1d73">setDrawColor</a>(5, <a class="code" href="./class_m3d_view.html#a9b24d632cd80af03d971c58ce0b8df6aa466739773561fe25487724d1b7a16234">M3dView::kDormantColors</a>);</div>
<div class="line">        glBegin(GL_TRIANGLE_FAN);</div>
<div class="line">            last = arrow4Count - 1;</div>
<div class="line"> <span class="keywordflow">for</span> (i = 0; i &lt; last; ++i) {</div>
<div class="line">                glVertex3f((<span class="keywordtype">float</span>) (arrow4[i][0] * data.multiplier),</div>
<div class="line">                           (<span class="keywordtype">float</span>) (arrow4[i][1] * data.multiplier + delta4),</div>
<div class="line">                           (<span class="keywordtype">float</span>) (arrow4[i][2] * data.multiplier));</div>
<div class="line">            }</div>
<div class="line">        glEnd();</div>
<div class="line"></div>
<div class="line">        glPopAttrib();</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line"> <span class="comment">// Draw the outline of the locator</span></div>
<div class="line"> <span class="comment">//</span></div>
<div class="line">    drawOutline(data);</div>
<div class="line"></div>
<div class="line">    view.<a class="code" href="./class_m3d_view.html#ab810c5a46d728df70ff5f44b604559f4">endGL</a>();</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">void</span> swissArmyLocator::drawOutline(<span class="keyword">const</span> DrawData&amp; data)</div>
<div class="line">{</div>
<div class="line">    glBegin(GL_LINES);</div>
<div class="line"> <span class="keywordtype">int</span> i;</div>
<div class="line"> <span class="keywordtype">int</span> last;</div>
<div class="line"></div>
<div class="line"> <span class="keywordflow">if</span> (data.toggle) {</div>
<div class="line">        last = centreCount - 1;</div>
<div class="line"> <span class="keywordflow">for</span> (i = 0; i &lt; last; ++i) {</div>
<div class="line">            glVertex3f(centre[i][0] * data.multiplier,</div>
<div class="line">                       centre[i][1] * data.multiplier,</div>
<div class="line">                       centre[i][2] * data.multiplier);</div>
<div class="line">            glVertex3f(centre[i+1][0] * data.multiplier,</div>
<div class="line">                       centre[i+1][1] * data.multiplier,</div>
<div class="line">                       centre[i+1][2] * data.multiplier);</div>
<div class="line">        }</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line"> <span class="keywordflow">if</span> (data.state == 0) {</div>
<div class="line">        last = state1Count - 1;</div>
<div class="line"> <span class="keywordflow">for</span> (i = 0; i &lt; last; ++i) {</div>
<div class="line">            glVertex3f(state1[i][0] * data.multiplier,</div>
<div class="line">                       state1[i][1] * data.multiplier,</div>
<div class="line">                       state1[i][2] * data.multiplier);</div>
<div class="line">            glVertex3f(state1[i+1][0] * data.multiplier,</div>
<div class="line">                       state1[i+1][1] * data.multiplier,</div>
<div class="line">                       state1[i+1][2] * data.multiplier);</div>
<div class="line">        }</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line"> <span class="keywordflow">if</span> (data.state == 1) {</div>
<div class="line">        last = state2Count - 1;</div>
<div class="line"> <span class="keywordflow">for</span> (i = 0; i &lt; last; ++i) {</div>
<div class="line">            glVertex3f(state2[i][0] * data.multiplier,</div>
<div class="line">                       state2[i][1] * data.multiplier,</div>
<div class="line">                       state2[i][2] * data.multiplier);</div>
<div class="line">            glVertex3f(state2[i+1][0] * data.multiplier,</div>
<div class="line">                       state2[i+1][1] * data.multiplier,</div>
<div class="line">                       state2[i+1][2] * data.multiplier);</div>
<div class="line">        }</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line"> <span class="keywordflow">if</span> (data.state == 2) {</div>
<div class="line">        last = state3Count - 1;</div>
<div class="line"> <span class="keywordflow">for</span> (i = 0; i &lt; last; ++i) {</div>
<div class="line">            glVertex3f(state3[i][0] * data.multiplier,</div>
<div class="line">                       state3[i][1] * data.multiplier,</div>
<div class="line">                       state3[i][2] * data.multiplier);</div>
<div class="line">            glVertex3f(state3[i+1][0] * data.multiplier,</div>
<div class="line">                       state3[i+1][1] * data.multiplier,</div>
<div class="line">                       state3[i+1][2] * data.multiplier);</div>
<div class="line">        }</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line"> <span class="keywordflow">if</span> (data.state == 3) {</div>
<div class="line">        last = state4Count - 1;</div>
<div class="line"> <span class="keywordflow">for</span> (i = 0; i &lt; last; ++i) {</div>
<div class="line">            glVertex3f(state4[i][0] * data.multiplier,</div>
<div class="line">                       state4[i][1] * data.multiplier,</div>
<div class="line">                       state4[i][2] * data.multiplier);</div>
<div class="line">            glVertex3f(state4[i+1][0] * data.multiplier,</div>
<div class="line">                       state4[i+1][1] * data.multiplier,</div>
<div class="line">                       state4[i+1][2] * data.multiplier);</div>
<div class="line">        }</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        last = arrow1Count - 1;</div>
<div class="line"> <span class="keywordflow">for</span> (i = 0; i &lt; last; ++i) {</div>
<div class="line">            glVertex3f((<span class="keywordtype">float</span>) (- arrow1[i][0] * data.multiplier * cos(data.angle1)</div>
<div class="line">                       - arrow1[i][2] * data.multiplier * sin(data.angle1)),</div>
<div class="line">                       (<span class="keywordtype">float</span>) (arrow1[i][1] * data.multiplier + delta1),</div>
<div class="line">                       (<span class="keywordtype">float</span>) (arrow1[i][2] * data.multiplier * cos(data.angle1) -</div>
<div class="line">                       arrow1[i][0] * data.multiplier * sin(data.angle1)));</div>
<div class="line">            glVertex3f((<span class="keywordtype">float</span>) (- arrow1[i+1][0] * data.multiplier * cos(data.angle1)</div>
<div class="line">                       - arrow1[i+1][2] * data.multiplier * sin(data.angle1)),</div>
<div class="line">                       (<span class="keywordtype">float</span>) (arrow1[i+1][1] * data.multiplier + delta1),</div>
<div class="line">                       (<span class="keywordtype">float</span>) (arrow1[i+1][2] * data.multiplier * cos(data.angle1) -</div>
<div class="line">                       arrow1[i+1][0] * data.multiplier * sin(data.angle1)));</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        last = arrow2Count - 1;</div>
<div class="line"> <span class="keywordflow">for</span> (i = 0; i &lt; last; ++i) {</div>
<div class="line">            glVertex3f((<span class="keywordtype">float</span>) (- arrow2[i][0] * data.multiplier * cos(data.angle2)</div>
<div class="line">                       - arrow2[i][2] * data.multiplier * sin(data.angle2)),</div>
<div class="line">                       (<span class="keywordtype">float</span>) (arrow2[i][1] * data.multiplier + delta2),</div>
<div class="line">                       (<span class="keywordtype">float</span>) (arrow2[i][2] * data.multiplier * cos(data.angle2) -</div>
<div class="line">                       arrow2[i][0] * data.multiplier * sin(data.angle2)));</div>
<div class="line">            glVertex3f((<span class="keywordtype">float</span>) (- arrow2[i+1][0] * data.multiplier * cos(data.angle2)</div>
<div class="line">                       - arrow2[i+1][2] * data.multiplier * sin(data.angle2)),</div>
<div class="line">                       (<span class="keywordtype">float</span>) (arrow2[i+1][1] * data.multiplier + delta2),</div>
<div class="line">                       (<span class="keywordtype">float</span>) (arrow2[i+1][2] * data.multiplier * cos(data.angle2) -</div>
<div class="line">                       arrow2[i+1][0] * data.multiplier * sin(data.angle2)));</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        last = arrow3Count - 1;</div>
<div class="line"> <span class="keywordflow">for</span> (i = 0; i &lt; last; ++i) {</div>
<div class="line">            glVertex3f((<span class="keywordtype">float</span>) (- arrow3[i][0] * data.multiplier * cos(data.angle3)</div>
<div class="line">                       - arrow3[i][2] * data.multiplier * sin(data.angle3)),</div>
<div class="line">                       (<span class="keywordtype">float</span>) (arrow3[i][1] * data.multiplier + delta3),</div>
<div class="line">                       (<span class="keywordtype">float</span>) (arrow3[i][2] * data.multiplier * cos(data.angle3) -</div>
<div class="line">                       arrow3[i][0] * data.multiplier * sin(data.angle3)));</div>
<div class="line">            glVertex3f((<span class="keywordtype">float</span>) (- arrow3[i+1][0] * data.multiplier * cos(data.angle3)</div>
<div class="line">                       - arrow3[i+1][2] * data.multiplier * sin(data.angle3)),</div>
<div class="line">                       (<span class="keywordtype">float</span>) (arrow3[i+1][1] * data.multiplier + delta3),</div>
<div class="line">                       (<span class="keywordtype">float</span>) (arrow3[i+1][2] * data.multiplier * cos(data.angle3) -</div>
<div class="line">                       arrow3[i+1][0] * data.multiplier * sin(data.angle3)));</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        last = arrow4Count - 1;</div>
<div class="line"> <span class="keywordflow">for</span> (i = 0; i &lt; last; ++i) {</div>
<div class="line">            glVertex3f((<span class="keywordtype">float</span>) (arrow4[i][0] * data.multiplier),</div>
<div class="line">                       (<span class="keywordtype">float</span>) (arrow4[i][1] * data.multiplier + delta4),</div>
<div class="line">                       (<span class="keywordtype">float</span>) (arrow4[i][2] * data.multiplier));</div>
<div class="line">            glVertex3f((<span class="keywordtype">float</span>) (arrow4[i+1][0] * data.multiplier),</div>
<div class="line">                       (<span class="keywordtype">float</span>) (arrow4[i+1][1] * data.multiplier + delta4),</div>
<div class="line">                       (<span class="keywordtype">float</span>) (arrow4[i+1][2] * data.multiplier));</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        last = perimeterCount - 1;</div>
<div class="line"> <span class="keywordflow">for</span> (i = 0; i &lt; last; ++i) {</div>
<div class="line">            glVertex3f(perimeter[i][0] * data.multiplier,</div>
<div class="line">                       perimeter[i][1] * data.multiplier,</div>
<div class="line">                       perimeter[i][2] * data.multiplier);</div>
<div class="line">            glVertex3f(perimeter[i+1][0] * data.multiplier,</div>
<div class="line">                       perimeter[i+1][1] * data.multiplier,</div>
<div class="line">                       perimeter[i+1][2] * data.multiplier);</div>
<div class="line">        }</div>
<div class="line">    glEnd();</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"><span class="keywordtype">bool</span> swissArmyLocator::isBounded()<span class="keyword"> const</span></div>
<div class="line"><span class="keyword"></span>{</div>
<div class="line"> <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"><a class="code" href="./class_m_bounding_box.html">MBoundingBox</a> swissArmyLocator::boundingBox()<span class="keyword"> const</span></div>
<div class="line"><span class="keyword"></span>{</div>
<div class="line"> <span class="comment">// Get the size</span></div>
<div class="line"> <span class="comment">//</span></div>
<div class="line"> <a class="code" href="./class_m_object.html">MObject</a> thisNode = thisMObject();</div>
<div class="line"> <a class="code" href="./class_m_plug.html">MPlug</a> plug(thisNode, aSize);</div>
<div class="line"> <a class="code" href="./class_m_distance.html">MDistance</a> sizeVal;</div>
<div class="line">    plug.getValue(sizeVal);</div>
<div class="line"></div>
<div class="line"> <span class="keywordtype">double</span> multiplier = sizeVal.<a class="code" href="./class_m_distance.html#ace39ab92685b0f5ab1a2925e748efb1f">asCentimeters</a>();</div>
<div class="line"></div>
<div class="line"> <a class="code" href="./class_m_point.html">MPoint</a> corner1(-1.1, 0.0, -1.1);</div>
<div class="line"> <a class="code" href="./class_m_point.html">MPoint</a> corner2(1.1, 0.0, 1.1);</div>
<div class="line"></div>
<div class="line">    corner1 = corner1 * multiplier;</div>
<div class="line">    corner2 = corner2 * multiplier;</div>
<div class="line"></div>
<div class="line"> <span class="keywordflow">return</span> <a class="code" href="./class_m_bounding_box.html">MBoundingBox</a>(corner1, corner2);</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"><span class="keywordtype">void</span>* swissArmyLocator::creator()</div>
<div class="line">{</div>
<div class="line"> <span class="keywordflow">return</span> <span class="keyword">new</span> swissArmyLocator();</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"><a class="code" href="./class_m_status.html">MStatus</a> swissArmyLocator::initialize()</div>
<div class="line">{</div>
<div class="line"> <a name="_a79"></a><a class="code" href="./class_m_fn_unit_attribute.html">MFnUnitAttribute</a> unitFn;</div>
<div class="line"> <a name="_a80"></a><a class="code" href="./class_m_fn_numeric_attribute.html">MFnNumericAttribute</a> numericFn;</div>
<div class="line"> <a class="code" href="./class_m_status.html">MStatus</a>          stat;</div>
<div class="line"> <a class="code" href="./class_m_string.html">MString</a> method(<span class="stringliteral">"swissArmyLocator::initialize"</span>);</div>
<div class="line"> <a class="code" href="./class_m_status.html">MStatus</a> s;</div>
<div class="line"> <span class="keywordtype">int</span> counter = 0;</div>
<div class="line"></div>
<div class="line"> <span class="comment">// aSize</span></div>
<div class="line">    aSize = unitFn.<a name="a81"></a><a class="code" href="./class_m_fn_unit_attribute.html#a31f804de81a968aa11b510a6231e7874">create</a>(<span class="stringliteral">"size"</span>, <span class="stringliteral">"sz"</span>, <a name="a82"></a><a class="code" href="./class_m_fn_unit_attribute.html#a1d1cfd8ffb84e947f82999c682b666a7a1925172d8d6f77cdb98f7f486f706024">MFnUnitAttribute::kDistance</a>,</div>
<div class="line">                          0.0, &amp;s); e;</div>
<div class="line">    unitFn.<a name="a83"></a><a class="code" href="./class_m_fn_unit_attribute.html#a02a46e1b4ae48c38d85678a8611e3e77">setDefault</a>(10.0);</div>
<div class="line">    unitFn.<a name="a84"></a><a class="code" href="./class_m_fn_attribute.html#a8d2be80de133a200a455bf9e2ac1b709">setStorable</a>(<span class="keyword">true</span>);</div>
<div class="line">    unitFn.<a name="a85"></a><a class="code" href="./class_m_fn_attribute.html#a98bb3089ec3b7442383da68a5ef424c7">setWritable</a>(<span class="keyword">true</span>);</div>
<div class="line"></div>
<div class="line"> <span class="comment">// aPoint</span></div>
<div class="line">    aPointX = numericFn.<a name="a86"></a><a class="code" href="./class_m_fn_numeric_attribute.html#a5c08a5ce5e7123cc444c95a0e4a50f29">create</a>(<span class="stringliteral">"pointX"</span>, <span class="stringliteral">"ptx"</span>,</div>
<div class="line"> <a name="a87"></a><a class="code" href="./class_m_fn_numeric_data.html#a1d1cfd8ffb84e947f82999c682b666a7acd70f5d2b5e8c1bb8e83b0482a33e518">MFnNumericData::kDouble</a>, 0.0, &amp;s); e;</div>
<div class="line">    aPointY = numericFn.<a class="code" href="./class_m_fn_numeric_attribute.html#a5c08a5ce5e7123cc444c95a0e4a50f29">create</a>(<span class="stringliteral">"pointY"</span>, <span class="stringliteral">"pty"</span>,</div>
<div class="line"> <a class="code" href="./class_m_fn_numeric_data.html#a1d1cfd8ffb84e947f82999c682b666a7acd70f5d2b5e8c1bb8e83b0482a33e518">MFnNumericData::kDouble</a>, 0.0, &amp;s); e;</div>
<div class="line">    aPointZ = numericFn.<a class="code" href="./class_m_fn_numeric_attribute.html#a5c08a5ce5e7123cc444c95a0e4a50f29">create</a>(<span class="stringliteral">"pointZ"</span>, <span class="stringliteral">"ptz"</span>,</div>
<div class="line"> <a class="code" href="./class_m_fn_numeric_data.html#a1d1cfd8ffb84e947f82999c682b666a7acd70f5d2b5e8c1bb8e83b0482a33e518">MFnNumericData::kDouble</a>, 0.0, &amp;s); e;</div>
<div class="line">    aPoint = numericFn.<a class="code" href="./class_m_fn_numeric_attribute.html#a5c08a5ce5e7123cc444c95a0e4a50f29">create</a>(<span class="stringliteral">"point"</span>, <span class="stringliteral">"pt"</span>,</div>
<div class="line">                              aPointX,</div>
<div class="line">                              aPointY,</div>
<div class="line">                              aPointZ, &amp;s); e;</div>
<div class="line"></div>
<div class="line"> <span class="comment">// aArrow1Angle</span></div>
<div class="line">    aArrow1Angle = unitFn.<a class="code" href="./class_m_fn_unit_attribute.html#a31f804de81a968aa11b510a6231e7874">create</a>(<span class="stringliteral">"arrow1Angle"</span>, <span class="stringliteral">"a1a"</span>,</div>
<div class="line"> <a name="a88"></a><a class="code" href="./class_m_fn_unit_attribute.html#a1d1cfd8ffb84e947f82999c682b666a7a7a9a81c214c05358fc6382f8e1f54196">MFnUnitAttribute::kAngle</a>, 0.0, &amp;s); e;</div>
<div class="line"></div>
<div class="line"> <span class="comment">// aArrow2Direction</span></div>
<div class="line">    aArrow2DirectionX = numericFn.<a class="code" href="./class_m_fn_numeric_attribute.html#a5c08a5ce5e7123cc444c95a0e4a50f29">create</a>(<span class="stringliteral">"arrow2DirectionX"</span>, <span class="stringliteral">"a2x"</span>,</div>
<div class="line"> <a class="code" href="./class_m_fn_numeric_data.html#a1d1cfd8ffb84e947f82999c682b666a7acd70f5d2b5e8c1bb8e83b0482a33e518">MFnNumericData::kDouble</a>, 1.0, &amp;s); e;</div>
<div class="line">    aArrow2DirectionY = numericFn.<a class="code" href="./class_m_fn_numeric_attribute.html#a5c08a5ce5e7123cc444c95a0e4a50f29">create</a>(<span class="stringliteral">"arrow2DirectionY"</span>, <span class="stringliteral">"a2y"</span>,</div>
<div class="line"> <a class="code" href="./class_m_fn_numeric_data.html#a1d1cfd8ffb84e947f82999c682b666a7acd70f5d2b5e8c1bb8e83b0482a33e518">MFnNumericData::kDouble</a>, 0.0, &amp;s); e;</div>
<div class="line">    aArrow2DirectionZ = numericFn.<a class="code" href="./class_m_fn_numeric_attribute.html#a5c08a5ce5e7123cc444c95a0e4a50f29">create</a>(<span class="stringliteral">"arrow2DirectionZ"</span>, <span class="stringliteral">"a2z"</span>,</div>
<div class="line"> <a class="code" href="./class_m_fn_numeric_data.html#a1d1cfd8ffb84e947f82999c682b666a7acd70f5d2b5e8c1bb8e83b0482a33e518">MFnNumericData::kDouble</a>, 0.0, &amp;s); e;</div>
<div class="line">    aArrow2Direction = numericFn.<a class="code" href="./class_m_fn_numeric_attribute.html#a5c08a5ce5e7123cc444c95a0e4a50f29">create</a>(<span class="stringliteral">"arrow2Direction"</span>, <span class="stringliteral">"dir"</span>,</div>
<div class="line">                                        aArrow2DirectionX,</div>
<div class="line">                                        aArrow2DirectionY,</div>
<div class="line">                                        aArrow2DirectionZ, &amp;s); e;</div>
<div class="line"></div>
<div class="line"> <span class="comment">// aArrow3Angle</span></div>
<div class="line">    aArrow3Angle = unitFn.<a class="code" href="./class_m_fn_unit_attribute.html#a31f804de81a968aa11b510a6231e7874">create</a>(<span class="stringliteral">"arrow3Angle"</span>, <span class="stringliteral">"a3a"</span>,</div>
<div class="line"> <a class="code" href="./class_m_fn_unit_attribute.html#a1d1cfd8ffb84e947f82999c682b666a7a7a9a81c214c05358fc6382f8e1f54196">MFnUnitAttribute::kAngle</a>, 0.0, &amp;s); e;</div>
<div class="line"> <span class="comment">// aArrow4Distance</span></div>
<div class="line">    aArrow4Distance = unitFn.<a class="code" href="./class_m_fn_unit_attribute.html#a31f804de81a968aa11b510a6231e7874">create</a>(<span class="stringliteral">"arrow2Distance"</span>, <span class="stringliteral">"dis"</span>,</div>
<div class="line"> <a class="code" href="./class_m_fn_unit_attribute.html#a1d1cfd8ffb84e947f82999c682b666a7a1925172d8d6f77cdb98f7f486f706024">MFnUnitAttribute::kDistance</a>, 0.0, &amp;s); e;</div>
<div class="line"></div>
<div class="line"> <span class="comment">// aState;</span></div>
<div class="line">    aState = numericFn.<a class="code" href="./class_m_fn_numeric_attribute.html#a5c08a5ce5e7123cc444c95a0e4a50f29">create</a>(<span class="stringliteral">"state"</span>, <span class="stringliteral">"s"</span>,</div>
<div class="line"> <a name="a89"></a><a class="code" href="./class_m_fn_numeric_data.html#a1d1cfd8ffb84e947f82999c682b666a7a762e1602488228e1b11b83501bb3832e">MFnNumericData::kLong</a>, 0, &amp;s); e;</div>
<div class="line"></div>
<div class="line"> <span class="comment">// aToggle;</span></div>
<div class="line">    aToggle = numericFn.<a class="code" href="./class_m_fn_numeric_attribute.html#a5c08a5ce5e7123cc444c95a0e4a50f29">create</a>(<span class="stringliteral">"toggle"</span>, <span class="stringliteral">"t"</span>,</div>
<div class="line"> <a name="a90"></a><a class="code" href="./class_m_fn_numeric_data.html#a1d1cfd8ffb84e947f82999c682b666a7a8cfc0ab572a96edfc9db7c02f0d025d7">MFnNumericData::kBoolean</a>, <span class="keyword">false</span>, &amp;s); e;</div>
<div class="line"></div>
<div class="line">    s = addAttribute(aPoint); e;</div>
<div class="line">    s = addAttribute(aArrow1Angle); e;</div>
<div class="line">    s = addAttribute(aArrow2Direction); e;</div>
<div class="line">    s = addAttribute(aArrow3Angle); e;</div>
<div class="line">    s = addAttribute(aArrow4Distance); e;</div>
<div class="line">    s = addAttribute(aState); e;</div>
<div class="line">    s = addAttribute(aToggle); e;</div>
<div class="line"></div>
<div class="line">    stat = addAttribute(aSize);</div>
<div class="line"> <span class="keywordflow">if</span> (!stat) {</div>
<div class="line">        stat.<a name="a91"></a><a class="code" href="./class_m_status.html#a1f01a4748fea4d8bcced082df83f804d">perror</a>(<span class="stringliteral">"addAttribute"</span>);</div>
<div class="line"> <span class="keywordflow">return</span> stat;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line"> <a name="a92"></a><a class="code" href="./class_m_px_manip_container.html#a156ef5b4b1b5a7d28df9166f29a3aba0">MPxManipContainer::addToManipConnectTable</a>(<span class="keywordtype">id</span>);</div>
<div class="line"></div>
<div class="line"> <span class="keywordflow">return</span> <a class="code" href="./class_m_status.html#a02ab596f4febca68da503aaf8dde3a80af0536797208144380691e2b376ffc1d1">MS::kSuccess</a>;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"><span class="comment">//</span></div>
<div class="line"><span class="comment">// Draw override class for drawing manip in VP2.0</span></div>
<div class="line"><span class="comment">//</span></div>
<div class="line"><span class="keyword">class </span>swissArmyLocatorOverride : <span class="keyword">public</span> <a name="_a93"></a><a class="code" href="./class_m_h_w_render_1_1_m_px_draw_override.html">MHWRender::MPxDrawOverride</a></div>
<div class="line">{</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line"> <span class="keyword">static</span> <a class="code" href="./class_m_h_w_render_1_1_m_px_draw_override.html">MHWRender::MPxDrawOverride</a>* Creator(<span class="keyword">const</span> <a class="code" href="./class_m_object.html">MObject</a>&amp; obj)</div>
<div class="line">    {</div>
<div class="line"> <span class="keywordflow">return</span> <span class="keyword">new</span> swissArmyLocatorOverride(obj);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line"> <span class="keyword">virtual</span> ~swissArmyLocatorOverride();</div>
<div class="line"></div>
<div class="line"> <span class="keyword">virtual</span> <a class="code" href="./namespace_m_h_w_render.html#ad970d5c990d4803d0e9d73c1ff4fda49">MHWRender::DrawAPI</a> <a name="a94"></a><a class="code" href="./class_m_h_w_render_1_1_m_px_draw_override.html#a0a36b8ef8730fa92f11c853752cc1e0e">supportedDrawAPIs</a>() <span class="keyword">const</span>;</div>
<div class="line"></div>
<div class="line"> <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a name="a95"></a><a class="code" href="./class_m_h_w_render_1_1_m_px_draw_override.html#aaf0394d1f5fb92ca3278246b233f91f6">isBounded</a>(</div>
<div class="line"> <span class="keyword">const</span> <a class="code" href="./class_m_dag_path.html">MDagPath</a>&amp; objPath,</div>
<div class="line"> <span class="keyword">const</span> <a class="code" href="./class_m_dag_path.html">MDagPath</a>&amp; cameraPath) <span class="keyword">const</span>;</div>
<div class="line"></div>
<div class="line"> <span class="keyword">virtual</span> <a class="code" href="./class_m_bounding_box.html">MBoundingBox</a> <a name="a96"></a><a class="code" href="./class_m_h_w_render_1_1_m_px_draw_override.html#ae897c759784349c81707df07c34e0846">boundingBox</a>(</div>
<div class="line"> <span class="keyword">const</span> <a class="code" href="./class_m_dag_path.html">MDagPath</a>&amp; objPath,</div>
<div class="line"> <span class="keyword">const</span> <a class="code" href="./class_m_dag_path.html">MDagPath</a>&amp; cameraPath) <span class="keyword">const</span>;</div>
<div class="line"></div>
<div class="line"> <span class="keyword">virtual</span> <a name="_a97"></a><a class="code" href="./class_m_user_data.html">MUserData</a>* <a name="a98"></a><a class="code" href="./class_m_h_w_render_1_1_m_px_draw_override.html#a9add62fff797c657c9bb5740b97f6a29">prepareForDraw</a>(</div>
<div class="line"> <span class="keyword">const</span> <a class="code" href="./class_m_dag_path.html">MDagPath</a>&amp; objPath,</div>
<div class="line"> <span class="keyword">const</span> <a class="code" href="./class_m_dag_path.html">MDagPath</a>&amp; cameraPath,</div>
<div class="line"> <span class="keyword">const</span> <a class="code" href="./class_m_h_w_render_1_1_m_frame_context.html">MHWRender::MFrameContext</a>&amp; frameContext,</div>
<div class="line"> <a class="code" href="./class_m_user_data.html">MUserData</a>* oldData);</div>
<div class="line"></div>
<div class="line"> <span class="keyword">static</span> <span class="keywordtype">void</span> draw(</div>
<div class="line"> <span class="keyword">const</span> <a name="_a99"></a><a class="code" href="./class_m_h_w_render_1_1_m_draw_context.html">MHWRender::MDrawContext</a>&amp; context,</div>
<div class="line"> <span class="keyword">const</span> <a class="code" href="./class_m_user_data.html">MUserData</a>* data);</div>
<div class="line"></div>
<div class="line"><span class="keyword">private</span>:</div>
<div class="line">    swissArmyLocatorOverride(<span class="keyword">const</span> <a class="code" href="./class_m_object.html">MObject</a>&amp; obj);</div>
<div class="line">};</div>
<div class="line"></div>
<div class="line"><span class="keyword">class </span>swissArmyLocatorData : <span class="keyword">public</span> <a class="code" href="./class_m_user_data.html">MUserData</a></div>
<div class="line">{</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    swissArmyLocatorData() : <a class="code" href="./class_m_user_data.html">MUserData</a>(false) {} <span class="comment">// don't delete after draw</span></div>
<div class="line"> <span class="keyword">virtual</span> ~swissArmyLocatorData() {}</div>
<div class="line">    swissArmyLocator::DrawData drawData;</div>
<div class="line"> <span class="keywordtype">float</span> color[4];</div>
<div class="line">};</div>
<div class="line"></div>
<div class="line">swissArmyLocatorOverride::swissArmyLocatorOverride(<span class="keyword">const</span> <a class="code" href="./class_m_object.html">MObject</a>&amp; obj)</div>
<div class="line">: <a class="code" href="./namespace_m_h_w_render.html">MHWRender</a>::MPxDrawOverride(obj, swissArmyLocatorOverride::draw)</div>
<div class="line">{</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line">swissArmyLocatorOverride::~swissArmyLocatorOverride()</div>
<div class="line">{</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><a class="code" href="./namespace_m_h_w_render.html#ad970d5c990d4803d0e9d73c1ff4fda49">MHWRender::DrawAPI</a> swissArmyLocatorOverride::supportedDrawAPIs()<span class="keyword"> const</span></div>
<div class="line"><span class="keyword"></span>{</div>
<div class="line"> <span class="keywordflow">return</span> <a name="a100"></a><a class="code" href="./namespace_m_h_w_render.html#ad970d5c990d4803d0e9d73c1ff4fda49a72361be679c1aca1c1be5f9b500a3315">MHWRender::kOpenGL</a>;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">bool</span> swissArmyLocatorOverride::isBounded(</div>
<div class="line"> <span class="keyword">const</span> <a class="code" href="./class_m_dag_path.html">MDagPath</a>&amp; objPath,</div>
<div class="line"> <span class="keyword">const</span> <a class="code" href="./class_m_dag_path.html">MDagPath</a>&amp; cameraPath)<span class="keyword"> const</span></div>
<div class="line"><span class="keyword"></span>{</div>
<div class="line"> <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><a class="code" href="./class_m_bounding_box.html">MBoundingBox</a> swissArmyLocatorOverride::boundingBox(</div>
<div class="line"> <span class="keyword">const</span> <a class="code" href="./class_m_dag_path.html">MDagPath</a>&amp; objPath,</div>
<div class="line"> <span class="keyword">const</span> <a class="code" href="./class_m_dag_path.html">MDagPath</a>&amp; cameraPath)<span class="keyword"> const</span></div>
<div class="line"><span class="keyword"></span>{</div>
<div class="line"> <a class="code" href="./class_m_status.html">MStatus</a> status;</div>
<div class="line"> <a class="code" href="./class_m_fn_dependency_node.html">MFnDependencyNode</a> node(objPath.<a name="a101"></a><a class="code" href="./class_m_dag_path.html#ad1aa507eb8e63e89e8d46a0abc18aa8c">node</a>(), &amp;status);</div>
<div class="line"> <span class="keywordflow">if</span> (!status) <span class="keywordflow">return</span> <a class="code" href="./class_m_bounding_box.html">MBoundingBox</a>();</div>
<div class="line">    swissArmyLocator* swissNode =</div>
<div class="line"> <span class="keyword">dynamic_cast&lt;</span>swissArmyLocator*<span class="keyword">&gt;</span>(node.userNode());</div>
<div class="line"> <span class="keywordflow">if</span> (!swissNode) <span class="keywordflow">return</span> <a class="code" href="./class_m_bounding_box.html">MBoundingBox</a>();</div>
<div class="line"> <span class="keywordflow">return</span> swissNode-&gt;boundingBox();</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><a class="code" href="./class_m_user_data.html">MUserData</a>* swissArmyLocatorOverride::prepareForDraw(</div>
<div class="line"> <span class="keyword">const</span> <a class="code" href="./class_m_dag_path.html">MDagPath</a>&amp; objPath,</div>
<div class="line"> <span class="keyword">const</span> <a class="code" href="./class_m_dag_path.html">MDagPath</a>&amp; cameraPath,</div>
<div class="line"> <span class="keyword">const</span> <a class="code" href="./class_m_h_w_render_1_1_m_frame_context.html">MHWRender::MFrameContext</a>&amp; frameContext,</div>
<div class="line"> <a class="code" href="./class_m_user_data.html">MUserData</a>* oldData)</div>
<div class="line">{</div>
<div class="line"> <span class="comment">// get the node</span></div>
<div class="line"> <a class="code" href="./class_m_status.html">MStatus</a> status;</div>
<div class="line"> <a class="code" href="./class_m_fn_dependency_node.html">MFnDependencyNode</a> node(objPath.<a class="code" href="./class_m_dag_path.html#ad1aa507eb8e63e89e8d46a0abc18aa8c">node</a>(), &amp;status);</div>
<div class="line"> <span class="keywordflow">if</span> (!status) <span class="keywordflow">return</span> NULL;</div>
<div class="line">    swissArmyLocator* swissNode =</div>
<div class="line"> <span class="keyword">dynamic_cast&lt;</span>swissArmyLocator*<span class="keyword">&gt;</span>(node.userNode());</div>
<div class="line"> <span class="keywordflow">if</span> (!swissNode) <span class="keywordflow">return</span> NULL;</div>
<div class="line"></div>
<div class="line"> <span class="comment">// access/create user data for draw callback</span></div>
<div class="line">    swissArmyLocatorData* data =</div>
<div class="line"> <span class="keyword">dynamic_cast&lt;</span>swissArmyLocatorData*<span class="keyword">&gt;</span>(oldData);</div>
<div class="line"> <span class="keywordflow">if</span> (!data)</div>
<div class="line">    {</div>
<div class="line">        data = <span class="keyword">new</span> swissArmyLocatorData();</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line"> <span class="comment">// compute data and cache it</span></div>
<div class="line">    swissNode-&gt;getDrawData(data-&gt;drawData);</div>
<div class="line"> <a class="code" href="./class_m_color.html">MColor</a> color = <a name="a102"></a><a class="code" href="./class_m_h_w_render_1_1_m_geometry_utilities.html#a6221bc7407b14246b14f79a751496276">MHWRender::MGeometryUtilities::wireframeColor</a>(objPath);</div>
<div class="line">    data-&gt;color[0] = color.<a name="a103"></a><a class="code" href="./class_m_color.html#a4788d82c901b9367dd5c0daff8a7616b">r</a>;</div>
<div class="line">    data-&gt;color[1] = color.<a name="a104"></a><a class="code" href="./class_m_color.html#a8cf17d727651616de6f2b79ef32170cd">g</a>;</div>
<div class="line">    data-&gt;color[2] = color.<a name="a105"></a><a class="code" href="./class_m_color.html#a83fc1af92e29717b4513d121b0c72c7d">b</a>;</div>
<div class="line">    data-&gt;color[3] = 1.0f;</div>
<div class="line"></div>
<div class="line"> <span class="keywordflow">return</span> data;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">void</span> swissArmyLocatorOverride::draw(</div>
<div class="line"> <span class="keyword">const</span> <a class="code" href="./class_m_h_w_render_1_1_m_draw_context.html">MHWRender::MDrawContext</a>&amp; context,</div>
<div class="line"> <span class="keyword">const</span> <a class="code" href="./class_m_user_data.html">MUserData</a>* data)</div>
<div class="line">{</div>
<div class="line"> <span class="comment">// data</span></div>
<div class="line"> <a class="code" href="./class_m_status.html">MStatus</a> status;</div>
<div class="line"> <a name="_a106"></a><a class="code" href="./class_m_h_w_render_1_1_m_state_manager.html">MHWRender::MStateManager</a>* stateMgr = context.<a name="a107"></a><a class="code" href="./class_m_h_w_render_1_1_m_draw_context.html#a9eed5300933693e76ad77822b4feb37f">getStateManager</a>();</div>
<div class="line"> <span class="keyword">const</span> swissArmyLocatorData* locatorData =</div>
<div class="line"> <span class="keyword">dynamic_cast&lt;</span><span class="keyword">const </span>swissArmyLocatorData*<span class="keyword">&gt;</span>(data);</div>
<div class="line"> <span class="keywordflow">if</span> (!stateMgr || !locatorData) <span class="keywordflow">return</span>;</div>
<div class="line"></div>
<div class="line"> <span class="comment">// matrices</span></div>
<div class="line"> <span class="keyword">const</span> <a name="_a108"></a><a class="code" href="./class_m_matrix.html">MMatrix</a> transform =</div>
<div class="line">        context.<a name="a109"></a><a class="code" href="./class_m_h_w_render_1_1_m_draw_context.html#a71cbe2a3f2dfa967ebc43b5e97456ccb">getMatrix</a>(<a name="a110"></a><a class="code" href="./class_m_h_w_render_1_1_m_frame_context.html#acc6ad8472c2abfd2f63e100474b977f9aada60cca33133e088ad8ee1bce291878">MHWRender::MFrameContext::kWorldViewMtx</a>, &amp;status);</div>
<div class="line"> <span class="keywordflow">if</span> (status != <a class="code" href="./class_m_status.html#a02ab596f4febca68da503aaf8dde3a80af0536797208144380691e2b376ffc1d1">MStatus::kSuccess</a>) <span class="keywordflow">return</span>;</div>
<div class="line"> <span class="keyword">const</span> <a class="code" href="./class_m_matrix.html">MMatrix</a> projection =</div>
<div class="line">        context.<a class="code" href="./class_m_h_w_render_1_1_m_draw_context.html#a71cbe2a3f2dfa967ebc43b5e97456ccb">getMatrix</a>(<a name="a111"></a><a class="code" href="./class_m_h_w_render_1_1_m_frame_context.html#acc6ad8472c2abfd2f63e100474b977f9a9bfe03d742b94b682ba896a1597df9f7">MHWRender::MFrameContext::kProjectionMtx</a>, &amp;status);</div>
<div class="line"> <span class="keywordflow">if</span> (status != <a class="code" href="./class_m_status.html#a02ab596f4febca68da503aaf8dde3a80af0536797208144380691e2b376ffc1d1">MStatus::kSuccess</a>) <span class="keywordflow">return</span>;</div>
<div class="line"></div>
<div class="line"> <span class="comment">// do drawing of outline only for now</span></div>
<div class="line">    glMatrixMode(GL_MODELVIEW);</div>
<div class="line">    glPushMatrix();</div>
<div class="line">    glLoadMatrixd(transform.<a name="a112"></a><a class="code" href="./class_m_matrix.html#a527b102f4eb0951cf4f391f828d3ca34">matrix</a>[0]);</div>
<div class="line">    glMatrixMode(GL_PROJECTION);</div>
<div class="line">    glPushMatrix();</div>
<div class="line">    glLoadMatrixd(projection.<a class="code" href="./class_m_matrix.html#a527b102f4eb0951cf4f391f828d3ca34">matrix</a>[0]);</div>
<div class="line"></div>
<div class="line">    glPushAttrib(GL_CURRENT_BIT);</div>
<div class="line">    glColor4fv(locatorData-&gt;color);</div>
<div class="line">    swissArmyLocator::drawOutline(locatorData-&gt;drawData);</div>
<div class="line">    glPopAttrib();</div>
<div class="line"></div>
<div class="line">    glPopMatrix();</div>
<div class="line">    glMatrixMode(GL_MODELVIEW);</div>
<div class="line">    glPopMatrix();</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"><span class="comment">//</span></div>
<div class="line"><span class="comment">//  Entry points</span></div>
<div class="line"><span class="comment">//</span></div>
<div class="line"><a class="code" href="./class_m_status.html">MStatus</a> initializePlugin(<a class="code" href="./class_m_object.html">MObject</a> obj)</div>
<div class="line">{</div>
<div class="line"> <a class="code" href="./class_m_status.html">MStatus</a> status;</div>
<div class="line"> <a name="_a113"></a><a class="code" href="./class_m_fn_plugin.html">MFnPlugin</a> plugin(obj, PLUGIN_COMPANY, <span class="stringliteral">"6.0"</span>, <span class="stringliteral">"Any"</span>);</div>
<div class="line"></div>
<div class="line">    status = plugin.registerNode(<span class="stringliteral">"swissArmyLocator"</span>,</div>
<div class="line">                                 swissArmyLocator::id,</div>
<div class="line">                                 &amp;swissArmyLocator::creator,</div>
<div class="line">                                 &amp;swissArmyLocator::initialize,</div>
<div class="line"> <a name="a114"></a><a class="code" href="./class_m_px_node.html#a1d1cfd8ffb84e947f82999c682b666a7aee1b06f2f9885d7d4fd4fda48926f94b">MPxNode::kLocatorNode</a>,</div>
<div class="line">                                 &amp;swissArmyLocator::classification);</div>
<div class="line"> <span class="keywordflow">if</span> (!status) {</div>
<div class="line">        status.<a class="code" href="./class_m_status.html#a1f01a4748fea4d8bcced082df83f804d">perror</a>(<span class="stringliteral">"registerNode"</span>);</div>
<div class="line"> <span class="keywordflow">return</span> status;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    status = <a name="a115"></a><a class="code" href="./class_m_h_w_render_1_1_m_draw_registry.html#aad1598f978d33d3e5101ae28f9f07b6f">MHWRender::MDrawRegistry::registerDrawOverrideCreator</a>(</div>
<div class="line">        swissArmyLocator::classification,</div>
<div class="line">        swissArmyLocator::registrantId,</div>
<div class="line">        swissArmyLocatorOverride::Creator);</div>
<div class="line"> <span class="keywordflow">if</span> (!status) {</div>
<div class="line">        status.<a class="code" href="./class_m_status.html#a1f01a4748fea4d8bcced082df83f804d">perror</a>(<span class="stringliteral">"registerDrawOverrideCreator"</span>);</div>
<div class="line"> <span class="keywordflow">return</span> status;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    status = plugin.registerNode(<span class="stringliteral">"swissArmyLocatorManip"</span>,</div>
<div class="line">                                 swissArmyLocatorManip::id,</div>
<div class="line">                                 &amp;swissArmyLocatorManip::creator,</div>
<div class="line">                                 &amp;swissArmyLocatorManip::initialize,</div>
<div class="line"> <a name="a116"></a><a class="code" href="./class_m_px_node.html#a1d1cfd8ffb84e947f82999c682b666a7a4501afd1a084198ccd007e64ed2074c9">MPxNode::kManipContainer</a>);</div>
<div class="line"> <span class="keywordflow">if</span> (!status) {</div>
<div class="line">        status.<a class="code" href="./class_m_status.html#a1f01a4748fea4d8bcced082df83f804d">perror</a>(<span class="stringliteral">"registerNode"</span>);</div>
<div class="line"> <span class="keywordflow">return</span> status;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line"> <span class="keywordflow">return</span> status;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"><a class="code" href="./class_m_status.html">MStatus</a> uninitializePlugin(<a class="code" href="./class_m_object.html">MObject</a> obj)</div>
<div class="line">{</div>
<div class="line"> <a class="code" href="./class_m_status.html">MStatus</a> status;</div>
<div class="line"> <a class="code" href="./class_m_fn_plugin.html">MFnPlugin</a> plugin(obj);</div>
<div class="line"></div>
<div class="line">    status = plugin.deregisterNode(swissArmyLocator::id);</div>
<div class="line"> <span class="keywordflow">if</span> (!status) {</div>
<div class="line">        status.<a class="code" href="./class_m_status.html#a1f01a4748fea4d8bcced082df83f804d">perror</a>(<span class="stringliteral">"deregisterNode"</span>);</div>
<div class="line"> <span class="keywordflow">return</span> status;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    status = <a name="a117"></a><a class="code" href="./class_m_h_w_render_1_1_m_draw_registry.html#ae87be399ce4204dbe8b565c4ff76c0fa">MHWRender::MDrawRegistry::deregisterDrawOverrideCreator</a>(</div>
<div class="line">        swissArmyLocator::classification,</div>
<div class="line">        swissArmyLocator::registrantId);</div>
<div class="line"> <span class="keywordflow">if</span> (!status) {</div>
<div class="line">        status.<a class="code" href="./class_m_status.html#a1f01a4748fea4d8bcced082df83f804d">perror</a>(<span class="stringliteral">"deregisterDrawOverrideCreator"</span>);</div>
<div class="line"> <span class="keywordflow">return</span> status;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    status = plugin.deregisterNode(swissArmyLocatorManip::id);</div>
<div class="line"> <span class="keywordflow">if</span> (!status) {</div>
<div class="line">        status.<a class="code" href="./class_m_status.html#a1f01a4748fea4d8bcced082df83f804d">perror</a>(<span class="stringliteral">"deregisterNode"</span>);</div>
<div class="line"> <span class="keywordflow">return</span> status;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line"> <span class="keywordflow">return</span> status;</div>
<div class="line">}</div>
</div><!-- fragment --> </div><!-- contents -->
</div><!-- doc-content -->
<div class="footer-block"><a class="comments-anchor" href="../html/ac.cmtdialog.htm" target="_blank"><span class="comments-link">Please send us your comment about this page</span></a></div><br/></div>
</link></link></link></link></div></body>
</html>
